===== app/page.tsx =====
"use client";

import { useState, useEffect } from "react";
import { PRODUCTS } from "@/data/products";
import { useAuth } from "@/lib/auth-context";
import { db } from "@/lib/firebase";
import { collection, getDocs, query, where, orderBy } from "firebase/firestore";

// Components
import { Header } from "@/components/header";
import { Sidebar } from "@/components/sidebar";
import { ChatView } from "@/components/chat-view";
import { BrowseView } from "@/components/browse-view";
import { QuickOrdersView } from "@/components/quick-orders-view";
import { SettingsView } from "@/components/settings-view";
import { CartModal } from "@/components/cart-modal";
import { AllProductsModal } from "@/components/all-products-modal";
import { ChatHistorySidebar } from "@/components/chat-history-sidebar";
import { Login } from "@/components/auth/login";
import { Signup } from "@/components/auth/signup";
import { LoginPromptModal } from "@/components/login-prompt-modal";
import { CheckoutModal } from "@/components/checkout-modal";
import { ProductManagementModal } from "@/components/product-management-modal";
import { OrderHistoryModal } from "@/components/order-history-modal";

interface CartItem {
  id: number;
  name: string;
  price: number;
  quantity: number;
  category: string;
  description: string;
  image: string;
}

interface OrderItem {
  id: number;
  name: string;
  price: number;
  quantity: number;
  category: string;
  image?: string;
}

interface Order {
  id: string;
  userId: string;
  items: OrderItem[];
  total: number;
  status: "pending" | "processing" | "shipped" | "completed" | "cancelled";
  paymentStatus: "pending" | "paid" | "failed";
  paymentMethod: "mpesa" | "card" | "cash";
  deliveryAddress: { address: string; location: { lat: number; lng: number }; notes: string };
  deliveryDate: string;
  createdAt: string;
  updatedAt: string;
  orderNumber?: string;
  date?: string;
}

interface ChatSession {
  id: string;
  userId: string;
  title: string;
  messages: any[];
  isActive: boolean;
  createdAt: string;
  updatedAt: string;
  date: string;
}

interface Message {
  id: string;
  role: "user" | "assistant";
  content: string;
  products?: any[];
}

export default function Home() {
  const { user, userData, loading, logout } = useAuth();

  // UI state
  const [currentView, setCurrentView] = useState("chat");
  const [sidebarOpen, setSidebarOpen] = useState(false);
  const [chatHistoryOpen, setChatHistoryOpen] = useState(false);
  const [showCart, setShowCart] = useState(false);
  const [showCheckout, setShowCheckout] = useState(false);
  const [showAllProducts, setShowAllProducts] = useState(false);
  const [showOrderHistory, setShowOrderHistory] = useState(false);
  const [showProductManagement, setShowProductManagement] = useState(false);
  const [showLogin, setShowLogin] = useState(false);
  const [showSignup, setShowSignup] = useState(false);
  const [showLoginPrompt, setShowLoginPrompt] = useState(false);

  // Data state
  const [cart, setCart] = useState<CartItem[]>([]);
  const [orders, setOrders] = useState<Order[]>([]);
  const [chatSessions, setChatSessions] = useState<ChatSession[]>([]);
  const [currentSessionId, setCurrentSessionId] = useState("default");
  const [products, setProducts] = useState(PRODUCTS);

  // Chat state
  const [messages, setMessages] = useState<Message[]>([]);
  const [input, setInput] = useState("");
  const [isLoading, setIsLoading] = useState(false);

  // Load data from localStorage and Firestore
  useEffect(() => {
    const savedCart = JSON.parse(localStorage.getItem("vendai-cart") || "[]");
    const savedSessions = JSON.parse(localStorage.getItem("vendai-chat-sessions") || "[]");

    setCart(savedCart);
    setChatSessions(savedSessions);

    const fetchOrders = async () => {
      if (!user?.uid) return;
      try {
        const q = query(
          collection(db, "orders"),
          where("userId", "==", user.uid),
          orderBy("createdAt", "desc")
        );
        const querySnapshot = await getDocs(q);
        setOrders(querySnapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() } as Order)));
      } catch (err) {
        console.error("Error fetching orders:", err);
      }
    };

    const fetchChatSessions = async () => {
      if (!user?.uid) return;
      try {
        const q = query(
          collection(db, "chatSessions"),
          where("userId", "==", user.uid),
          orderBy("updatedAt", "desc")
        );
        const querySnapshot = await getDocs(q);
        setChatSessions(querySnapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() } as ChatSession)));
      } catch (err) {
        console.error("Error fetching chat sessions:", err);
      }
    };

    if (!loading && user) {
      fetchOrders();
      fetchChatSessions();
    }
  }, [user, loading]);

  useEffect(() => {
    localStorage.setItem("vendai-cart", JSON.stringify(cart));
  }, [cart]);

  useEffect(() => {
    localStorage.setItem("vendai-chat-sessions", JSON.stringify(chatSessions));
  }, [chatSessions]);

  // Chat functions
  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setInput(e.target.value);
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    if (!input.trim() || isLoading) return;

    const userMessage: Message = {
      id: Date.now().toString(),
      role: "user",
      content: input,
    };

    setMessages((prev) => [...prev, userMessage]);
    setInput("");
    setIsLoading(true);

    try {
      const response = await fetch("/api/chat", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ messages: [...messages, userMessage] }),
      });

      const data = await response.json();

      const assistantMessage: Message = {
        id: data.id,
        role: "assistant",
        content: data.content,
        products: data.products || [],
      };

      setMessages((prev) => [...prev, assistantMessage]);

      // Update chat session
      updateChatSession([...messages, userMessage, assistantMessage]);
    } catch (error) {
      console.error("Chat error:", error);
      const errorMessage: Message = {
        id: (Date.now() + 1).toString(),
        role: "assistant",
        content: "Sorry, I'm having trouble connecting. Please try again.",
      };
      setMessages((prev) => [...prev, errorMessage]);
    } finally {
      setIsLoading(false);
    }
  };

  const updateChatSession = (newMessages: Message[]) => {
    const sessionTitle = newMessages[0]?.content.slice(0, 30) + "..." || "New Chat";
    const now = new Date().toISOString();
    const session: ChatSession = {
      id: currentSessionId,
      userId: user?.uid || "",
      title: sessionTitle,
      messages: newMessages,
      isActive: true,
      createdAt: now,
      updatedAt: now,
      date: now,
    };

    setChatSessions((prev) => {
      const existing = prev.find((s) => s.id === currentSessionId);
      if (existing) {
        return prev.map((s) => (s.id === currentSessionId ? session : s));
      } else {
        return [session, ...prev];
      }
    });
  };

  // Cart functions with animation
  const handleAddToCart = (product: any, quantity = 1) => {
    if (!user) {
      setShowLoginPrompt(true);
      return;
    }

    const cartButton = document.querySelector("[data-cart-button]");
    if (cartButton) {
      cartButton.classList.add("animate-bounce");
      setTimeout(() => cartButton.classList.remove("animate-bounce"), 600);
    }

    setCart((prevCart) => {
      const existingItem = prevCart.find((item) => item.id === product.id);
      if (existingItem) {
        return prevCart.map((item) =>
          item.id === product.id ? { ...item, quantity: item.quantity + quantity } : item
        );
      }
      return [...prevCart, { ...product, quantity }];
    });
  };

  const handleRemoveFromCart = (productId: number) => {
    setCart((prevCart) => prevCart.filter((item) => item.id !== productId));
  };

  const handleUpdateQuantity = (productId: number, quantity: number) => {
    if (quantity <= 0) {
      handleRemoveFromCart(productId);
    } else {
      setCart((prevCart) =>
        prevCart.map((item) => (item.id === productId ? { ...item, quantity } : item))
      );
    }
  };

  const handleCheckout = () => {
    if (cart.length === 0) return;
    setShowCart(false);
    setShowCheckout(true);
  };

  const handleCheckoutComplete = (orderData: any) => {
    setOrders((prev) => [orderData, ...prev]);
    setCart([]);
    setShowCheckout(false);
  };

  const handleReorder = (items: CartItem[]) => {
    if (!user) {
      setShowLoginPrompt(true);
      return;
    }

    items.forEach((item) => {
      handleAddToCart(item, item.quantity);
    });
  };

  const handleLogin = () => {
    setShowLogin(false);
    setShowLoginPrompt(false);
  };

  const handleSignup = () => {
    setShowSignup(false);
    setShowLoginPrompt(false);
  };

  const handleLogout = async () => {
    try {
      await logout(); // Call the logout function from useAuth
      setCart([]);
      setOrders([]);
      setChatSessions([]);
      setMessages([]);
      setCurrentSessionId("default");
      localStorage.removeItem("vendai-cart");
      localStorage.removeItem("vendai-chat-sessions");
      localStorage.removeItem("vendai-orders");
      setChatHistoryOpen(false); // Close chat history sidebar on logout
      console.log("Logged out successfully at", new Date().toLocaleString("en-KE", { timeZone: "Africa/Nairobi" }));
    } catch (error) {
      console.error("Logout error:", error);
    }
  };

  const handleNewChat = () => {
    const newSessionId = `session-${Date.now()}`;
    setCurrentSessionId(newSessionId);
    setMessages([]);
    setCurrentView("chat");
  };

  const handleLoadSession = (sessionId: string) => {
    const session = chatSessions.find((s) => s.id === sessionId);
    if (session) {
      setCurrentSessionId(sessionId);
      setMessages(session.messages);
      setCurrentView("chat");
    }
  };

  const handleBackToChat = () => {
    setCurrentView("chat");
    setShowOrderHistory(false);
  };

  const handleProductRemove = (productId: number) => {
    setProducts((prev) => prev.filter((p) => p.id !== productId));
    setCart((prev) => prev.filter((item) => item.id !== productId));
  };

  const handleProductUpdate = (productId: number, updates: any) => {
    setProducts((prev) => prev.map((p) => (p.id === productId ? { ...p, ...updates } : p)));
    setCart((prev) =>
      prev.map((item) => (item.id === productId ? { ...item, ...updates } : item))
    );
  };

  const handleBackToMain = () => {
    setCurrentView("chat");
  };

  const handleSettings = () => {
    setCurrentView("settings");
  };

  const handleCloseAuth = () => {
    setShowLogin(false);
    setShowSignup(false);
  };

  const renderMainContent = () => {
    switch (currentView) {
      case "quickOrders":
        return (
          <QuickOrdersView
            products={products}
            orders={orders}
            onAddToCart={handleAddToCart}
            onReorder={handleReorder}
            onBack={handleBackToMain}
          />
        );
      case "settings":
        return (
          <SettingsView
            onBack={handleBackToMain}
            onProductManagement={() => setShowProductManagement(true)}
          />
        );
      default:
        return (
          <ChatView
            messages={messages}
            input={input}
            handleInputChange={handleInputChange}
            handleSubmit={handleSubmit}
            isLoading={isLoading}
            products={products}
            onQuickAdd={handleAddToCart}
            onViewAll={() => setShowAllProducts(true)}
            setCurrentView={setCurrentView}
            onBackToMain={handleBackToMain}
            isInSubView={currentView !== "chat"}
            chatHistoryMinimized={!chatHistoryOpen}
          />
        );
    }
  };

  if (loading) {
    return (
      <div className="flex h-screen bg-black text-white items-center justify-center">
        Loading...
      </div>
    );
  }

  return (
    <div className="flex h-screen overflow-hidden">
      <div className="shooting-star"></div>
      {/* Authentication Modals */}
      {showLogin && (
        <Login
          onLogin={handleLogin}
          onSwitchToSignup={() => {
            setShowLogin(false);
            setShowSignup(true);
          }}
          onClose={handleCloseAuth}
        />
      )}

      {showSignup && (
        <Signup
          onSignup={handleSignup}
          onSwitchToLogin={() => {
            setShowSignup(false);
            setShowLogin(true);
          }}
          onClose={handleCloseAuth}
        />
      )}

      <LoginPromptModal
        show={showLoginPrompt}
        onClose={() => setShowLoginPrompt(false)}
        onLogin={() => {
          setShowLoginPrompt(false);
          setShowLogin(true);
        }}
        onSignup={() => {
          setShowLoginPrompt(false);
          setShowSignup(true);
        }}
      />

      {/* Chat History Sidebar - Left */}
      {user && (
        <ChatHistorySidebar
          chatSessions={chatSessions}
          currentSessionId={currentSessionId}
          onLoadSession={handleLoadSession}
          onNewChat={handleNewChat}
          isOpen={chatHistoryOpen}
          setIsOpen={setChatHistoryOpen}
          user={userData}
          orders={orders}
          onSettings={handleSettings}
          onLogout={handleLogout}
          isAuthenticated={!!user}
        />
      )}

      {/* Main Content with Overlay */}
      <div
        className={`flex-1 flex flex-col min-w-0 transition-all duration-300 content-overlay ${
          user ? (chatHistoryOpen ? "ml-80" : "ml-0") : ""
        }`}
      >
        <Header
          sidebarOpen={sidebarOpen}
          setSidebarOpen={setSidebarOpen}
          chatHistoryOpen={chatHistoryOpen}
          setChatHistoryOpen={setChatHistoryOpen}
          cart={cart}
          setShowCart={setShowCart}
          showOrderHistory={showOrderHistory}
          setShowOrderHistory={setShowOrderHistory}
          orders={orders}
          onLogout={handleLogout}
          onLogin={() => setShowLogin(true)}
          onSignup={() => setShowSignup(true)}
          onBackToChat={handleBackToChat}
          user={userData}
          isAuthenticated={!!user}
          onSettings={handleSettings}
        />

        {renderMainContent()}
      </div>

      {/* Order History Sidebar */}
      {user && <Sidebar sidebarOpen={sidebarOpen} setSidebarOpen={setSidebarOpen} orders={orders} />}

      {/* Modals */}
      <CartModal
        show={showCart}
        onClose={() => setShowCart(false)}
        cart={cart}
        onUpdateQuantity={handleUpdateQuantity}
        onRemoveItem={handleRemoveFromCart}
        onCheckout={handleCheckout}
      />

      <CheckoutModal
        show={showCheckout}
        onClose={() => setShowCheckout(false)}
        cart={cart}
        onCheckoutComplete={handleCheckoutComplete}
        user={userData}
      />

      <AllProductsModal
        show={showAllProducts}
        onClose={() => setShowAllProducts(false)}
        products={products}
        onAddToCart={handleAddToCart}
      />

      <ProductManagementModal
        show={showProductManagement}
        onClose={() => setShowProductManagement(false)}
        onProductRemove={handleProductRemove}
        onProductUpdate={handleProductUpdate}
      />

      <OrderHistoryModal
        show={showOrderHistory}
        onClose={() => setShowOrderHistory(false)}
        orders={orders}
      />
    </div>
  );
}

===== app/layout.tsx =====
import type React from "react";
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";
import { AuthProvider } from "@/lib/auth-context"; // Add AuthProvider import

const inter = Inter({ subsets: ["latin"], weight: ["300", "400", "500", "600", "700"] });

export const metadata: Metadata = {
  title: "vendai - AI-Powered Shopping",
  description: "Shop at wholesale prices with AI assistance. Simple, fast, and intuitive ecommerce.",
  generator: "v0.dev",
};

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en" className="dark">
      <body className={`${inter.className} bg-black text-white antialiased`}>
        <AuthProvider>{children}</AuthProvider> {/* Wrap children with AuthProvider */}
      </body>
    </html>
  );
}

===== app/globals.css =====
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 230 30% 12%;
    --secondary-foreground: 210 40% 98%;
    --muted: 230 30% 12%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 230 30% 12%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 230 30% 12%;
    --input: 230 30% 12%;
    --ring: 212.7 26.8% 83.9%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    margin: 0;
    height: 100vh;
    overflow: hidden;
    background: radial-gradient(circle at 25% 35%, #0a0015, #000000 75%);
  }

  body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAEklEQVQImWNkYGD4z8DAwMgABXgABx4iLMAAAAABJRU5ErkJggg==") repeat;
    opacity: 0.03;
    z-index: -1;
  }

  /* Desktop and large screens - Full star field */
  @media (min-width: 1024px) {
    body::after {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        /* Center region stars (brighter and more numerous) */
        radial-gradient(2px 2px at 45% 40%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(1px 1px at 52% 48%, rgba(255, 255, 255, 0.9), transparent),
        radial-gradient(1px 1px at 38% 55%, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(2px 2px at 58% 35%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(1px 1px at 35% 42%, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(1px 1px at 65% 52%, rgba(255, 255, 255, 0.9), transparent),
        radial-gradient(1px 1px at 42% 62%, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(2px 2px at 55% 58%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(1px 1px at 47% 32%, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(1px 1px at 61% 47%, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(1px 1px at 32% 51%, rgba(255, 255, 255, 0.9), transparent),
        radial-gradient(2px 2px at 68% 44%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(1px 1px at 41% 38%, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(1px 1px at 56% 63%, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(1px 1px at 49% 46%, rgba(255, 255, 255, 0.9), transparent),
        
        /* Outer region stars (fewer and dimmer) */
        radial-gradient(1px 1px at 15% 20%, rgba(255, 255, 255, 0.5), transparent),
        radial-gradient(1px 1px at 85% 25%, rgba(255, 255, 255, 0.4), transparent),
        radial-gradient(1px 1px at 12% 75%, rgba(255, 255, 255, 0.6), transparent),
        radial-gradient(1px 1px at 88% 78%, rgba(255, 255, 255, 0.5), transparent),
        radial-gradient(1px 1px at 22% 88%, rgba(255, 255, 255, 0.4), transparent),
        radial-gradient(1px 1px at 78% 15%, rgba(255, 255, 255, 0.6), transparent),
        radial-gradient(1px 1px at 8% 45%, rgba(255, 255, 255, 0.5), transparent),
        radial-gradient(1px 1px at 92% 55%, rgba(255, 255, 255, 0.4), transparent),
        radial-gradient(1px 1px at 25% 12%, rgba(255, 255, 255, 0.5), transparent),
        radial-gradient(1px 1px at 75% 88%, rgba(255, 255, 255, 0.6), transparent),
        
        /* Corner stars (very few and subtle) */
        radial-gradient(1px 1px at 5% 8%, rgba(255, 255, 255, 0.3), transparent),
        radial-gradient(1px 1px at 95% 7%, rgba(255, 255, 255, 0.3), transparent),
        radial-gradient(1px 1px at 3% 92%, rgba(255, 255, 255, 0.3), transparent),
        radial-gradient(1px 1px at 97% 95%, rgba(255, 255, 255, 0.3), transparent);
      background-size: 100% 100%;
      animation: star-twinkle 3s ease-in-out infinite;
      z-index: -2;
    }
  }

  /* Tablets - Medium star field */
  @media (min-width: 768px) and (max-width: 1023px) {
    body::after {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        /* Center region stars (reduced) */
        radial-gradient(2px 2px at 45% 40%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(1px 1px at 52% 48%, rgba(255, 255, 255, 0.9), transparent),
        radial-gradient(1px 1px at 38% 55%, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(2px 2px at 58% 35%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(1px 1px at 35% 42%, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(1px 1px at 65% 52%, rgba(255, 255, 255, 0.9), transparent),
        radial-gradient(1px 1px at 42% 62%, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(2px 2px at 55% 58%, rgba(255, 255, 255, 1), transparent),
        
        /* Outer region stars (significantly reduced) */
        radial-gradient(1px 1px at 15% 20%, rgba(255, 255, 255, 0.5), transparent),
        radial-gradient(1px 1px at 85% 25%, rgba(255, 255, 255, 0.4), transparent),
        radial-gradient(1px 1px at 12% 75%, rgba(255, 255, 255, 0.6), transparent),
        radial-gradient(1px 1px at 88% 78%, rgba(255, 255, 255, 0.5), transparent);
      background-size: 100% 100%;
      animation: star-twinkle 3s ease-in-out infinite;
      z-index: -2;
    }
  }

  /* Mobile phones - Minimal star field */
  @media (max-width: 767px) {
    body::after {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        /* Only key center stars */
        radial-gradient(2px 2px at 45% 40%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(1px 1px at 52% 48%, rgba(255, 255, 255, 0.9), transparent),
        radial-gradient(2px 2px at 58% 35%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(1px 1px at 35% 42%, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(1px 1px at 65% 52%, rgba(255, 255, 255, 0.9), transparent);
      background-size: 100% 100%;
      animation: star-twinkle 3s ease-in-out infinite;
      z-index: -2;
    }
  }

  /* Shooting star container */
  .shooting-star {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -3;
    overflow: hidden;
    pointer-events: none;
  }

  /* Shooting stars - visible on all screens but reduced on mobile */
  .shooting-star::before {
    content: "";
    position: absolute;
    top: 12%;
    left: -5%;
    width: 3px;
    height: 1px;
    background: linear-gradient(45deg, rgba(255, 255, 255, 1), transparent);
    border-radius: 50%;
    box-shadow: 0 0 12px rgba(255, 255, 255, 0.8), 0 0 24px rgba(255, 255, 255, 0.4);
    animation: shooting-star-1 7.3s linear infinite;
  }

  .shooting-star::after {
    content: "";
    position: absolute;
    top: 73%;
    left: -8%;
    width: 2px;
    height: 1px;
    background: linear-gradient(35deg, rgba(255, 255, 255, 1), transparent);
    border-radius: 50%;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.9), 0 0 20px rgba(255, 255, 255, 0.5);
    animation: shooting-star-2 11.7s linear infinite;
  }

  /* Additional shooting stars - only on larger screens */
  @media (min-width: 768px) {
    .shooting-star-extra {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -4;
      overflow: hidden;
      pointer-events: none;
    }

    .shooting-star-extra::before {
      content: "";
      position: absolute;
      top: 45%;
      left: -6%;
      width: 2px;
      height: 1px;
      background: linear-gradient(60deg, rgba(255, 255, 255, 1), transparent);
      border-radius: 50%;
      box-shadow: 0 0 8px rgba(255, 255, 255, 0.7);
      animation: shooting-star-3 13.2s linear infinite;
    }

    .shooting-star-extra::after {
      content: "";
      position: absolute;
      top: 28%;
      left: -4%;
      width: 1px;
      height: 1px;
      background: linear-gradient(25deg, rgba(255, 255, 255, 1), transparent);
      border-radius: 50%;
      box-shadow: 0 0 6px rgba(255, 255, 255, 0.8);
      animation: shooting-star-4 9.8s linear infinite;
    }
  }

  /* Hide extra shooting stars on mobile */
  @media (max-width: 767px) {
    .shooting-star-extra {
      display: none;
    }
  }

  @keyframes star-twinkle {
    0%, 100% {
      opacity: 0.6;
    }
    17% {
      opacity: 0.8;
    }
    33% {
      opacity: 0.4;
    }
    50% {
      opacity: 1;
    }
    67% {
      opacity: 0.7;
    }
    83% {
      opacity: 0.9;
    }
  }

  @keyframes shooting-star-1 {
    0% {
      transform: translateX(-150px) translateY(-50px) rotate(45deg);
      opacity: 0;
    }
    5% {
      opacity: 1;
    }
    15% {
      opacity: 1;
    }
    25% {
      opacity: 0.8;
    }
    100% {
      transform: translateX(calc(100vw + 250px)) translateY(300px) rotate(45deg);
      opacity: 0;
    }
  }

  @keyframes shooting-star-2 {
    0% {
      transform: translateX(-120px) translateY(30px) rotate(35deg);
      opacity: 0;
    }
    8% {
      opacity: 1;
    }
    18% {
      opacity: 1;
    }
    28% {
      opacity: 0.7;
    }
    100% {
      transform: translateX(calc(100vw + 200px)) translateY(-180px) rotate(35deg);
      opacity: 0;
    }
  }

  @keyframes shooting-star-3 {
    0% {
      transform: translateX(-100px) translateY(80px) rotate(60deg);
      opacity: 0;
    }
    12% {
      opacity: 1;
    }
    22% {
      opacity: 0.9;
    }
    100% {
      transform: translateX(calc(100vw + 180px)) translateY(-250px) rotate(60deg);
      opacity: 0;
    }
  }

  @keyframes shooting-star-4 {
    0% {
      transform: translateX(-80px) translateY(-30px) rotate(25deg);
      opacity: 0;
    }
    6% {
      opacity: 1;
    }
    16% {
      opacity: 1;
    }
    26% {
      opacity: 0.8;
    }
    100% {
      transform: translateX(calc(100vw + 220px)) translateY(220px) rotate(25deg);
      opacity: 0;
    }
  }
}

/* Add these elements to your HTML body */
body .shooting-star-extra {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -4;
  overflow: hidden;
  pointer-events: none;
}

===== app/api/chat/route.ts =====
import { NextResponse } from "next/server"
import { PRODUCTS } from "@/data/products"

export const maxDuration = 30

// Store for unavailable product requests and user learning
const unavailableRequests: {
  query: string
  timestamp: string
  userId?: string
  location?: string
}[] = []

const userPreferences: {
  [userId: string]: {
    preferredBrands: string[]
    commonPurchases: string[]
    priceRange: string
    location: string
  }
} = {}

const findRelevantProducts = (query: string, limit = 3) => {
  const lowercaseQuery = query.toLowerCase()

  // Enhanced search with brand matching
  const matchingProducts = PRODUCTS.filter((product) => {
    const searchTerms = [
      product.name.toLowerCase(),
      product.description.toLowerCase(),
      product.category.toLowerCase(),
      product.brand?.toLowerCase() || "",
      // Add Swahili terms
      product.name.toLowerCase().includes("mafuta") ? "oil cooking" : "",
      product.name.toLowerCase().includes("unga") ? "flour" : "",
      product.name.toLowerCase().includes("sukari") ? "sugar" : "",
    ].join(" ")

    return searchTerms.includes(lowercaseQuery) || lowercaseQuery.split(" ").some((term) => searchTerms.includes(term))
  })

  // If no direct matches, try category and keyword matching
  if (matchingProducts.length === 0) {
    const categoryKeywords = {
      // English terms
      oil: "Cooking Oils",
      cooking: "Cooking Oils",
      rice: "Rice",
      flour: "Flour",
      sugar: "Sugar",
      milk: "Dairy",
      soap: "Personal Care",
      cleaning: "Cleaning",
      baby: "Baby Care",
      diaper: "Baby Care",
      tissue: "Cleaning",
      juice: "Juices",
      // Swahili terms
      mafuta: "Cooking Oils",
      kupika: "Cooking Oils",
      unga: "Flour",
      sukari: "Sugar",
      maziwa: "Dairy",
      sabuni: "Personal Care",
      usafi: "Cleaning",
      mtoto: "Baby Care",
    }

    for (const [keyword, category] of Object.entries(categoryKeywords)) {
      if (lowercaseQuery.includes(keyword)) {
        return PRODUCTS.filter((p) => p.category.includes(category)).slice(0, limit)
      }
    }
  }

  return matchingProducts.slice(0, limit)
}

const getAlternativeProducts = (mainProducts: any[], limit = 2) => {
  if (mainProducts.length === 0) return []

  const mainCategory = mainProducts[0].category
  const mainProductIds = mainProducts.map((p) => p.id)

  return PRODUCTS.filter((p) => p.category === mainCategory && !mainProductIds.includes(p.id)).slice(0, limit)
}

const generateProductResponse = (query: string, products: any[]) => {
  const lowercaseQuery = query.toLowerCase()
  const isSwahili =
    lowercaseQuery.includes("nataka") ||
    lowercaseQuery.includes("ninahitaji") ||
    lowercaseQuery.includes("mafuta") ||
    lowercaseQuery.includes("unga")

  if (products.length === 0) {
    // Track unavailable product request for learning
    unavailableRequests.push({
      query,
      timestamp: new Date().toISOString(),
    })

    return {
      content: isSwahili
        ? `Samahani, hatuna "${query}" kwa sasa. Nimerejelea ombi lako na tutazingatia kuongeza kwenye stock. Je, kuna kitu kingine unachohitaji?`
        : `Sorry, we don't have "${query}" in stock right now. I've noted your request for future inventory. What else can I help you find?`,
      products: [],
    }
  }

  // Get alternatives for better recommendations
  const alternatives = getAlternativeProducts(products, 2)
  const allProducts = [...products, ...alternatives]

  // Generate contextual responses based on product category
  if (lowercaseQuery.includes("oil") || lowercaseQuery.includes("mafuta") || lowercaseQuery.includes("cooking")) {
    return {
      content: isSwahili
        ? `🛍️ Mafuta ya kupika ya hali ya juu kwa bei ya jumla. RINA ni mzuri sana, na Fresh Fry pia ni nzuri:`
        : `🛍️ Premium cooking oils at wholesale prices. RINA is top quality, Fresh Fry offers great value:`,
      products: allProducts,
    }
  }

  if (lowercaseQuery.includes("rice") || lowercaseQuery.includes("mcele")) {
    return {
      content: isSwahili
        ? `🍚 Mcele wa hali ya juu! Pishori ni wa kilimo, Basmati na Biriyani ni mazuri kwa chakula maalum:`
        : `🍚 Quality rice varieties! Pishori is premium grade, Basmati and Biriyani perfect for special meals:`,
      products: allProducts,
    }
  }

  if (lowercaseQuery.includes("flour") || lowercaseQuery.includes("unga")) {
    return {
      content: isSwahili
        ? `🌾 Unga wa hali ya juu kutoka kwa makampuni ya kuaminika. Kuna 1kg na 2kg kwa bei ya jumla:`
        : `🌾 Quality flour from trusted brands. Available in 1kg and 2kg at wholesale prices:`,
      products: allProducts,
    }
  }

  if (
    lowercaseQuery.includes("clean") ||
    lowercaseQuery.includes("soap") ||
    lowercaseQuery.includes("sabuni") ||
    lowercaseQuery.includes("usafi")
  ) {
    return {
      content: isSwahili
        ? `🧽 Vitu vya usafi kwa nyumba na biashara. Kuna wingi:`
        : `🧽 Cleaning essentials for home and business. Bulk quantities available:`,
      products: allProducts,
    }
  }

  if (lowercaseQuery.includes("baby") || lowercaseQuery.includes("diaper") || lowercaseQuery.includes("mtoto")) {
    return {
      content: isSwahili
        ? `👶 Vitu vya mtoto kutoka kwa makampuni ya kuaminika. Saizi mbalimbali:`
        : `👶 Baby care products from trusted brands. Different sizes available:`,
      products: allProducts,
    }
  }

  if (lowercaseQuery.includes("dairy") || lowercaseQuery.includes("milk") || lowercaseQuery.includes("maziwa")) {
    return {
      content: isSwahili
        ? `🥛 Mazao ya maziwa kutoka Lato na makampuni mengine. Mazuri kwa nyumba na biashara:`
        : `🥛 Fresh dairy products from Lato and other quality brands. Perfect for homes and businesses:`,
      products: allProducts,
    }
  }

  // Default response
  return {
    content: isSwahili ? `✅ Nimepata bidhaa hizi kwa bei ya jumla:` : `✅ Found these products at wholesale prices:`,
    products: allProducts,
  }
}

const handleGreetingOrHelp = (query: string) => {
  const lowercaseQuery = query.toLowerCase()
  const isSwahili =
    lowercaseQuery.includes("habari") ||
    lowercaseQuery.includes("mambo") ||
    lowercaseQuery.includes("niaje") ||
    lowercaseQuery.includes("sasa")

  if (
    lowercaseQuery.includes("hello") ||
    lowercaseQuery.includes("hi") ||
    lowercaseQuery.includes("habari") ||
    lowercaseQuery.includes("mambo") ||
    lowercaseQuery.includes("niaje")
  ) {
    return {
      content: isSwahili
        ? `Habari! Mimi ni VendAI, msaidizi wako wa ununuzi. Ninasaidia kupata bidhaa za nyumbani kwa bei ya jumla Kenya. Unahitaji nini leo?`
        : `Hello! I'm VendAI, your shopping assistant. I help find household essentials at wholesale prices in Kenya. What do you need today?`,
      products: PRODUCTS.slice(0, 4), // Show some popular products
    }
  }

  if (lowercaseQuery.includes("help") || lowercaseQuery.includes("msaada")) {
    return {
      content: isSwahili
        ? `🛍️ Ninaweza kukusaidia: \n• Kutafuta bidhaa (mfano: "nataka mafuta ya kupika")\n• Kuongeza kwenye cart\n• Maelezo ya bei na delivery\n• Mapendekezo ya bidhaa\n\nUnahitaji nini?`
        : `🛍️ I can help you:\n• Find products (e.g. "I need cooking oil")\n• Add items to cart\n• Check prices and delivery\n• Get product recommendations\n\nWhat do you need?`,
      products: PRODUCTS.slice(0, 3),
    }
  }

  return null
}

export async function POST(req: Request) {
  try {
    const { messages } = await req.json()
    const lastMessage = messages[messages.length - 1]
    const query = lastMessage.content

    // Simulate processing delay
    await new Promise((resolve) => setTimeout(resolve, 600))

    // Handle greetings and help first
    const greetingResponse = handleGreetingOrHelp(query)
    if (greetingResponse) {
      return NextResponse.json({
        id: Date.now().toString(),
        role: "assistant",
        content: greetingResponse.content,
        products: greetingResponse.products,
      })
    }

    // Find relevant products
    const relevantProducts = findRelevantProducts(query, 3)

    // Generate response with alternatives
    const response = generateProductResponse(query, relevantProducts)

    return NextResponse.json({
      id: Date.now().toString(),
      role: "assistant",
      content: response.content,
      products: response.products,
    })
  } catch (error) {
    console.error("Chat API error:", error)
    return NextResponse.json({ error: "Failed to process chat message" }, { status: 500 })
  }
}

// Endpoint to get unavailable product requests for learning
export async function GET() {
  return NextResponse.json({
    unavailableRequests,
    totalRequests: unavailableRequests.length,
    userPreferences,
  })
}


===== app/api/products/route.ts =====
import { NextResponse } from "next/server"
import { PRODUCTS, searchProducts } from "@/data/products"
import { getAllProductsWithImages } from "@/utils/product-management"

export async function GET(request: Request) {
  try {
    const { searchParams } = new URL(request.url)
    const category = searchParams.get("category")
    const search = searchParams.get("search")
    const limit = searchParams.get("limit")
    const withImages = searchParams.get("withImages") === "true"

    let products = withImages ? getAllProductsWithImages() : PRODUCTS

    // Filter by category
    if (category && category !== "all") {
      products = products.filter((product) => product.category === category)
    }

    // Filter by search query
    if (search) {
      const searchResults = searchProducts(search)
      const searchIds = searchResults.map((p) => p.id)
      products = products.filter((product) => searchIds.includes(product.id))
    }

    // Limit results
    if (limit) {
      const limitNum = Number.parseInt(limit)
      products = products.slice(0, limitNum)
    }

    return NextResponse.json({
      success: true,
      data: products,
      total: products.length,
    })
  } catch (error) {
    console.error("Error fetching products:", error)
    return NextResponse.json({ success: false, message: "Failed to fetch products" }, { status: 500 })
  }
}

export async function POST(request: Request) {
  try {
    const productData = await request.json()

    // Validate required fields
    const requiredFields = ["name", "price", "category", "description", "stock", "unit"]
    for (const field of requiredFields) {
      if (!productData[field]) {
        return NextResponse.json({ success: false, message: `Missing required field: ${field}` }, { status: 400 })
      }
    }

    // Add new product (in a real app, this would save to database)
    const newId = Math.max(...PRODUCTS.map((p) => p.id)) + 1
    const newProduct = {
      id: newId,
      ...productData,
      image: productData.image || `/placeholder.svg?height=200&width=200`,
    }

    PRODUCTS.push(newProduct)

    return NextResponse.json({
      success: true,
      data: newProduct,
      message: "Product created successfully",
    })
  } catch (error) {
    console.error("Error creating product:", error)
    return NextResponse.json({ success: false, message: "Failed to create product" }, { status: 500 })
  }
}


===== app/api/products/[id]/route.ts =====
import { NextResponse } from "next/server"
import { getProductWithImages, updateProduct, deleteProduct } from "@/utils/product-management"

export async function GET(request: Request, { params }: { params: { id: string } }) {
  try {
    const productId = Number.parseInt(params.id)
    const product = getProductWithImages(productId)

    if (!product) {
      return NextResponse.json({ success: false, message: "Product not found" }, { status: 404 })
    }

    return NextResponse.json({
      success: true,
      data: product,
    })
  } catch (error) {
    console.error("Error fetching product:", error)
    return NextResponse.json({ success: false, message: "Failed to fetch product" }, { status: 500 })
  }
}

export async function PUT(request: Request, { params }: { params: { id: string } }) {
  try {
    const productId = Number.parseInt(params.id)
    const updates = await request.json()

    const updatedProduct = updateProduct(productId, updates)

    if (!updatedProduct) {
      return NextResponse.json({ success: false, message: "Product not found" }, { status: 404 })
    }

    return NextResponse.json({
      success: true,
      data: updatedProduct,
      message: "Product updated successfully",
    })
  } catch (error) {
    console.error("Error updating product:", error)
    return NextResponse.json({ success: false, message: "Failed to update product" }, { status: 500 })
  }
}

export async function DELETE(request: Request, { params }: { params: { id: string } }) {
  try {
    const productId = Number.parseInt(params.id)
    const deleted = deleteProduct(productId)

    if (!deleted) {
      return NextResponse.json({ success: false, message: "Product not found" }, { status: 404 })
    }

    return NextResponse.json({
      success: true,
      message: "Product deleted successfully",
    })
  } catch (error) {
    console.error("Error deleting product:", error)
    return NextResponse.json({ success: false, message: "Failed to delete product" }, { status: 500 })
  }
}


===== app/api/categories/route.ts =====
import { NextResponse } from "next/server"
import { PRODUCT_CATEGORIES } from "@/data/products"
import { getCategoryStats } from "@/utils/product-management"

export async function GET() {
  try {
    const categories = Object.values(PRODUCT_CATEGORIES)
    const categoryStats = getCategoryStats()

    return NextResponse.json({
      success: true,
      data: {
        categories,
        stats: categoryStats,
      },
    })
  } catch (error) {
    console.error("Error fetching categories:", error)
    return NextResponse.json({ success: false, message: "Failed to fetch categories" }, { status: 500 })
  }
}


===== components/chat-history-sidebar.tsx =====
"use client"

import { motion, AnimatePresence } from "framer-motion"
import { MessageSquare, Plus, ChevronLeft, X, User, Settings, LogOut } from "lucide-react"
import { Button } from "@/components/ui/button"
import { useState } from "react"

interface ChatSession {
  id: string
  title: string
  messages: any[]
  date: string
}

interface ChatHistorySidebarProps {
  chatSessions: ChatSession[]
  currentSessionId: string
  onLoadSession: (sessionId: string) => void
  onNewChat: () => void
  isOpen: boolean
  setIsOpen: (open: boolean) => void
  user: any
  orders: any[]
  onSettings: () => void
  onLogout: () => void
  isAuthenticated: boolean
}

export function ChatHistorySidebar({
  chatSessions,
  currentSessionId,
  onLoadSession,
  onNewChat,
  isOpen,
  setIsOpen,
  user,
  orders,
  onSettings,
  onLogout,
  isAuthenticated,
}: ChatHistorySidebarProps) {
  const [showProfile, setShowProfile] = useState(false)

  // Safely extract user data from Firestore userData
  const userName = user?.name || "User";
  const userEmail = user?.email || "";
  const memberSince = user?.createdAt
    ? new Date(user.createdAt).toLocaleDateString("en-KE", { month: "short", year: "numeric" })
    : "Jan 2024";

  const categorizeChats = (sessions: ChatSession[]) => {
    const now = new Date()
    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate())
    const yesterday = new Date(today.getTime() - 24 * 60 * 60 * 1000)
    const sevenDaysAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000)

    const todayChats = sessions.filter((session) => new Date(session.date) >= today)
    const yesterdayChats = sessions.filter((session) => {
      const sessionDate = new Date(session.date)
      return sessionDate >= yesterday && sessionDate < today
    })
    const last7DaysChats = sessions.filter((session) => {
      const sessionDate = new Date(session.date)
      return sessionDate >= sevenDaysAgo && sessionDate < yesterday
    })
    const olderChats = sessions.filter((session) => new Date(session.date) < sevenDaysAgo)

    return { todayChats, yesterdayChats, last7DaysChats, olderChats }
  }

  const { todayChats, yesterdayChats, last7DaysChats, olderChats } = categorizeChats(chatSessions)

  const handleSessionLoad = (sessionId: string) => {
    onLoadSession(sessionId)
    // Auto-close on mobile after selecting a chat
    if (window.innerWidth < 768) {
      setIsOpen(false)
    }
  }

  const handleNewChat = () => {
    onNewChat()
    // Auto-close on mobile after creating new chat
    if (window.innerWidth < 768) {
      setIsOpen(false)
    }
  }

  const renderChatSection = (sectionChats: ChatSession[], title: string, startIndex: number) => {
    if (sectionChats.length === 0) return null

    return (
      <div className="mb-6">
        <h3 className="text-sm font-medium text-gray-400 mb-3 px-2">{title}</h3>
        <div className="space-y-2">
          {sectionChats.map((session, index) => (
            <motion.div
              key={session.id}
              initial={{ opacity: 0, x: -20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ delay: (startIndex + index) * 0.05 }}
              className={`glass-effect rounded-xl p-3 hover-glow cursor-pointer hover:bg-white/5 transition-all duration-300 ${
                currentSessionId === session.id ? "border border-purple-500/30 bg-purple-500/10" : ""
              }`}
              onClick={() => handleSessionLoad(session.id)}
            >
              <div className="flex items-start space-x-3">
                <MessageSquare className="h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0" />
                <div className="flex-1 min-w-0">
                  <p className="text-sm font-medium truncate">{session.title}</p>
                  <div className="flex items-center justify-between mt-1">
                    <span className="text-xs text-gray-400">
                      {session.messages.length} message{session.messages.length !== 1 ? "s" : ""}
                    </span>
                    <span className="text-xs text-gray-500">
                      {new Date(session.date).toLocaleDateString("en-KE", {
                        month: "short",
                        day: "numeric",
                        hour: "2-digit",
                        minute: "2-digit",
                      })}
                    </span>
                  </div>
                </div>
              </div>
            </motion.div>
          ))}
        </div>
      </div>
    )
  }

  return (
    <>
      {/* Mobile/Tablet Backdrop */}
      <AnimatePresence>
        {isOpen && (
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            className="fixed inset-0 z-40 bg-black/50 backdrop-blur-sm md:hidden"
            onClick={() => setIsOpen(false)}
          />
        )}
      </AnimatePresence>

      {/* Desktop Sidebar */}
      <motion.div
        initial={{ x: isOpen ? 0 : -320 }}
        animate={{ x: isOpen ? 0 : -320 }}
        transition={{ type: "spring", damping: 25, stiffness: 200 }}
        className="hidden md:block fixed inset-y-0 left-0 z-30 w-80 glass-effect border-r border-white/10"
      >
        <div className="flex h-full flex-col">
          <div className="flex items-center justify-between p-4 border-b border-white/10">
            <h2 className="text-xl font-semibold text-gradient">Chat History</h2>
            <div className="flex items-center space-x-2">
              <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
                <Button 
                  variant="ghost" 
                  size="sm" 
                  onClick={handleNewChat} 
                  className="hover:bg-white/10 rounded-xl h-10 w-10"
                >
                  <Plus className="h-4 w-4" />
                </Button>
              </motion.div>
              <Button
                variant="ghost"
                size="sm"
                onClick={() => setIsOpen(false)}
                className="hover:bg-white/10 rounded-xl h-10 w-10"
              >
                <ChevronLeft className="h-4 w-4" />
              </Button>
            </div>
          </div>

          <div className="flex-1 overflow-y-auto p-4 overscroll-contain">
            {chatSessions.length === 0 ? (
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                className="text-center text-gray-400 h-full flex flex-col items-center justify-center space-y-3"
              >
                <MessageSquare className="h-12 w-12 mx-auto mb-3 opacity-50" />
                <p className="text-sm">No chat history yet</p>
                <p className="text-xs mt-1">Start a conversation to see your chat history</p>
              </motion.div>
            ) : (
              <>
                {renderChatSection(todayChats, "Today", 0)}
                {renderChatSection(yesterdayChats, "Yesterday", todayChats.length)}
                {renderChatSection(last7DaysChats, "Last 7 Days", todayChats.length + yesterdayChats.length)}
                {renderChatSection(
                  olderChats,
                  "Earlier",
                  todayChats.length + yesterdayChats.length + last7DaysChats.length,
                )}
              </>
            )}
          </div>

          <div className="border-t border-white/10 p-4">
            <div className="relative">
              <motion.div whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }}>
                <Button
                  onClick={isAuthenticated ? () => setShowProfile(!showProfile) : handleNewChat}
                  className={`w-full ${
                    isAuthenticated 
                      ? "bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600" 
                      : "bg-white text-black hover:bg-gray-200"
                  } transition-all duration-300 rounded-xl h-12 text-base`}
                >
                  {isAuthenticated ? (
                    <>
                      <User className="h-4 w-4 mr-2" />
                      Profile
                    </>
                  ) : (
                    <>
                      <Plus className="h-4 w-4 mr-2" />
                      New Chat
                    </>
                  )}
                </Button>
              </motion.div>

              {/* Profile Dropdown */}
              <AnimatePresence>
                {showProfile && isAuthenticated && (
                  <motion.div
                    initial={{ opacity: 0, scale: 0.95, y: 10 }}
                    animate={{ opacity: 1, scale: 1, y: 0 }}
                    exit={{ opacity: 0, scale: 0.95, y: 10 }}
                    className="absolute bottom-full left-0 right-0 mb-2 bg-black/90 backdrop-blur-xl rounded-xl border border-white/10 p-4 z-50"
                  >
                    <div className="space-y-4">
                      <div className="border-b border-white/10 pb-3">
                        <div className="flex items-center space-x-3">
                          <div className="w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center">
                            <User className="h-5 w-5" />
                          </div>
                          <div>
                            <p className="font-medium">{userName}</p>
                            <p className="text-xs text-gray-400">{userEmail}</p>
                          </div>
                        </div>
                      </div>

                      <div className="space-y-2">
                        <div className="flex items-center justify-between text-sm">
                          <span className="text-gray-400">Total Orders</span>
                          <span className="font-medium">{orders.length}</span>
                        </div>
                        <div className="flex items-center justify-between text-sm">
                          <span className="text-gray-400">Total Spent</span>
                          <span className="font-medium">
                            KES {orders.reduce((sum, order) => sum + order.total, 0).toLocaleString()}
                          </span>
                        </div>
                        <div className="flex items-center justify-between text-sm">
                          <span className="text-gray-400">Member Since</span>
                          <span className="font-medium">{memberSince}</span>
                        </div>
                      </div>

                      <div className="border-t border-white/10 pt-3 space-y-2">
                        <Button
                          variant="ghost"
                          size="sm"
                          className="w-full justify-start hover:bg-white/5 rounded-lg"
                          onClick={onSettings}
                        >
                          <Settings className="h-4 w-4 mr-2" />
                          Settings
                        </Button>
                        <Button
                          variant="ghost"
                          size="sm"
                          className="w-full justify-start hover:bg-white/5 text-red-400 rounded-lg"
                          onClick={onLogout}
                        >
                          <LogOut className="h-4 w-4 mr-2" />
                          Logout
                        </Button>
                      </div>
                    </div>
                  </motion.div>
                )}
              </AnimatePresence>
            </div>
          </div>
        </div>
      </motion.div>

      {/* Mobile/Tablet Modal */}
      <AnimatePresence>
        {isOpen && (
          <motion.div
            initial={{ x: -320 }}
            animate={{ x: 0 }}
            exit={{ x: -320 }}
            transition={{ type: "spring", damping: 25, stiffness: 200 }}
            className="fixed inset-y-0 left-0 z-50 w-80 glass-effect border-r border-white/10 md:hidden"
          >
            <div className="flex h-full flex-col">
              <div className="flex items-center justify-between p-4 border-b border-white/10">
                <motion.button
                  whileHover={{ scale: 1.05 }}
                  whileTap={{ scale: 0.95 }}
                  className="flex items-center hover:opacity-80 transition-opacity"
                >
                  <h1 className="text-xl font-bold">
                    <span className="bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent font-light">
                      vend
                    </span>
                    <span className="bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent font-black">
                      ai
                    </span>
                  </h1>
                </motion.button>

                <div className="flex items-center space-x-2">
                  <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
                    <Button 
                      variant="ghost" 
                      size="sm" 
                      onClick={handleNewChat} 
                      className="hover:bg-white/10 rounded-xl h-10 w-10"
                    >
                      <Plus className="h-4 w-4" />
                    </Button>
                  </motion.div>
                  <Button
                    variant="ghost"
                    size="sm"
                    onClick={() => setIsOpen(false)}
                    className="hover:bg-white/10 rounded-xl h-10 w-10"
                  >
                    <X className="h-4 w-4" />
                  </Button>
                </div>
              </div>

              <div className="flex-1 overflow-y-auto p-4 overscroll-contain">
                {chatSessions.length === 0 ? (
                  <motion.div
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    className="text-center text-gray-400 h-full flex flex-col items-center justify-center space-y-3"
                  >
                    <MessageSquare className="h-12 w-12 mx-auto mb-3 opacity-50" />
                    <p className="text-sm">No chat history yet</p>
                    <p className="text-xs mt-1">Start a conversation to see your chat history</p>
                  </motion.div>
                ) : (
                  <>
                    {renderChatSection(todayChats, "Today", 0)}
                    {renderChatSection(yesterdayChats, "Yesterday", todayChats.length)}
                    {renderChatSection(last7DaysChats, "Last 7 Days", todayChats.length + yesterdayChats.length)}
                    {renderChatSection(
                      olderChats,
                      "Earlier",
                      todayChats.length + yesterdayChats.length + last7DaysChats.length,
                    )}
                  </>
                )}
              </div>

              <div className="border-t border-white/10 p-4">
                <div className="relative">
                  <motion.div whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }}>
                    <Button
                      onClick={isAuthenticated ? () => setShowProfile(!showProfile) : handleNewChat}
                      className={`w-full ${
                        isAuthenticated 
                          ? "bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600" 
                          : "bg-white text-black hover:bg-gray-200"
                      } transition-all duration-300 rounded-xl h-12 text-base`}
                    >
                      {isAuthenticated ? (
                        <>
                          <User className="h-4 w-4 mr-2" />
                          Profile
                        </>
                      ) : (
                        <>
                          <Plus className="h-4 w-4 mr-2" />
                          New Chat
                        </>
                      )}
                    </Button>
                  </motion.div>

                  {/* Profile Dropdown */}
                  <AnimatePresence>
                    {showProfile && isAuthenticated && (
                      <motion.div
                        initial={{ opacity: 0, scale: 0.95, y: 10 }}
                        animate={{ opacity: 1, scale: 1, y: 0 }}
                        exit={{ opacity: 0, scale: 0.95, y: 10 }}
                        className="absolute bottom-full left-0 right-0 mb-2 bg-black/90 backdrop-blur-xl rounded-xl border border-white/10 p-4 z-50"
                      >
                        <div className="space-y-4">
                          <div className="border-b border-white/10 pb-3">
                            <div className="flex items-center space-x-3">
                              <div className="w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center">
                                <User className="h-5 w-5" />
                              </div>
                              <div>
                                <p className="font-medium">{userName}</p>
                                <p className="text-xs text-gray-400">{userEmail}</p>
                              </div>
                            </div>
                          </div>

                          <div className="space-y-2">
                            <div className="flex items-center justify-between text-sm">
                              <span className="text-gray-400">Total Orders</span>
                              <span className="font-medium">{orders.length}</span>
                            </div>
                            <div className="flex items-center justify-between text-sm">
                              <span className="text-gray-400">Total Spent</span>
                              <span className="font-medium">
                                KES {orders.reduce((sum, order) => sum + order.total, 0).toLocaleString()}
                              </span>
                            </div>
                            <div className="flex items-center justify-between text-sm">
                              <span className="text-gray-400">Member Since</span>
                              <span className="font-medium">{memberSince}</span>
                            </div>
                          </div>

                          <div className="border-t border-white/10 pt-3 space-y-2">
                            <Button
                              variant="ghost"
                              size="sm"
                              className="w-full justify-start hover:bg-white/5 rounded-lg"
                              onClick={onSettings}
                            >
                              <Settings className="h-4 w-4 mr-2" />
                              Settings
                            </Button>
                            <Button
                              variant="ghost"
                              size="sm"
                              className="w-full justify-start hover:bg-white/5 text-red-400 rounded-lg"
                              onClick={onLogout}
                            >
                              <LogOut className="h-4 w-4 mr-2" />
                              Logout
                            </Button>
                          </div>
                        </div>
                      </motion.div>
                    )}
                  </AnimatePresence>
                </div>
              </div>
            </div>
          </motion.div>
        )}
      </AnimatePresence>
    </>
  )
}

===== components/order-history-modal.tsx =====
"use client";

import { motion, AnimatePresence } from "framer-motion";
import { X, Package, Clock, CheckCircle, Truck, MapPin, ChevronDown, ChevronUp, Calendar } from "lucide-react";
import { Button } from "@/components/ui/button";
import { useState } from "react";

// Shared Types
import { Order, OrderItem } from "@/lib/types";

interface OrderHistoryModalProps {
  show: boolean;
  onClose: () => void;
  orders: Order[];
}

export function OrderHistoryModal({ show, onClose, orders }: OrderHistoryModalProps) {
  const [expandedOrder, setExpandedOrder] = useState<string | null>(null);

  const getStatusColor = (status: string) => {
    switch (status) {
      case "processing": return "text-yellow-400 bg-yellow-400/10";
      case "shipped": return "text-blue-400 bg-blue-400/10";
      case "completed": return "text-green-400 bg-green-400/10";
      case "cancelled": return "text-red-400 bg-red-400/10";
      default: return "text-gray-400 bg-gray-400/10";
    }
  };

  const getStatusIcon = (status: string) => {
    switch (status) {
      case "processing": return Clock;
      case "shipped": return Truck;
      case "completed": return CheckCircle;
      case "cancelled": return X;
      default: return Package;
    }
  };

  const getStatusText = (status: string) => {
    switch (status) {
      case "processing": return "Processing";
      case "shipped": return "Shipped";
      case "completed": return "Delivered";
      case "cancelled": return "Cancelled";
      default: return "Unknown";
    }
  };

  const getTrackingSteps = (status: string) => {
    const steps = [
      { id: "confirmed", label: "Order Confirmed", completed: true },
      { id: "preparing", label: "Preparing", completed: status !== "cancelled" },
      { id: "shipped", label: "Shipped", completed: status === "shipped" || status === "completed" },
      { id: "delivered", label: "Delivered", completed: status === "completed" },
    ];
    return steps;
  };

  const toggleOrderExpansion = (orderId: string) => {
    setExpandedOrder(expandedOrder === orderId ? null : orderId);
  };

  return (
    <AnimatePresence>
      {show && (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"
          onClick={onClose}
        >
          <motion.div
            initial={{ scale: 0.9, opacity: 0 }}
            animate={{ scale: 1, opacity: 1 }}
            exit={{ scale: 0.9, opacity: 0 }}
            className="glass-effect rounded-2xl p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto"
            onClick={(e) => e.stopPropagation()}
          >
            <div className="flex items-center justify-between mb-6">
              <div className="flex items-center space-x-2">
                <Package className="h-5 w-5 text-blue-400" />
                <h2 className="text-xl font-bold text-gradient">Orders</h2>
              </div>
              <Button variant="ghost" size="sm" onClick={onClose} className="hover:bg-white/10">
                <X className="h-4 w-4" />
              </Button>
            </div>

            {orders.length === 0 ? (
              <div className="text-center py-8">
                <Package className="h-16 w-16 mx-auto mb-4 text-gray-600" />
                <h3 className="text-lg font-medium mb-2">No Orders Yet</h3>
                <p className="text-gray-400">Your order history will appear here</p>
              </div>
            ) : (
              <div className="space-y-4">
                {orders.map((order, index) => {
                  const StatusIcon = getStatusIcon(order.status);
                  const isExpanded = expandedOrder === order.id;
                  const trackingSteps = getTrackingSteps(order.status);

                  return (
                    <motion.div
                      key={order.id}
                      initial={{ opacity: 0, y: 20 }}
                      animate={{ opacity: 1, y: 0 }}
                      transition={{ delay: index * 0.1 }}
                      className="glass-effect rounded-lg overflow-hidden"
                    >
                      {/* Order Header */}
                      <div
                        className="p-4 cursor-pointer hover:bg-white/5 transition-colors"
                        onClick={() => toggleOrderExpansion(order.id)}
                      >
                        <div className="flex items-center justify-between">
                          <div className="flex items-center space-x-4">
                            <div className={`p-2 rounded-lg ${getStatusColor(order.status)}`}>
                              <StatusIcon className="h-4 w-4" />
                            </div>
                            <div>
                              <h3 className="font-medium">Order #{order.orderNumber || order.id.split("-").pop()}</h3>
                              <div className="flex items-center space-x-4 text-sm text-gray-400 mt-1">
                                <div className="flex items-center space-x-1">
                                  <Calendar className="h-3 w-3" />
                                  <span>{new Date(order.date || order.createdAt).toLocaleDateString()}</span>
                                </div>
                                <span>•</span>
                                <span>{order.items.length} items</span>
                                <span>•</span>
                                <span className={getStatusColor(order.status).split(" ")[0]}>
                                  {getStatusText(order.status)}
                                </span>
                              </div>
                            </div>
                          </div>
                          <div className="flex items-center space-x-4">
                            <div className="text-right">
                              <p className="font-bold">KES {order.total.toLocaleString()}</p>
                            </div>
                            <motion.div
                              animate={{ rotate: isExpanded ? 180 : 0 }}
                              transition={{ duration: 0.2 }}
                            >
                              <ChevronDown className="h-4 w-4 text-gray-400" />
                            </motion.div>
                          </div>
                        </div>
                      </div>

                      {/* Expanded Order Details */}
                      <AnimatePresence>
                        {isExpanded && (
                          <motion.div
                            initial={{ height: 0, opacity: 0 }}
                            animate={{ height: "auto", opacity: 1 }}
                            exit={{ height: 0, opacity: 0 }}
                            transition={{ duration: 0.3 }}
                            className="border-t border-white/10"
                          >
                            <div className="p-4 space-y-6">
                              {/* Order Progress */}
                              <div>
                                <h4 className="font-medium mb-4 flex items-center space-x-2">
                                  <Truck className="h-4 w-4" />
                                  <span>Order Progress</span>
                                </h4>
                                <div className="flex items-center space-x-2">
                                  {trackingSteps.map((step, stepIndex) => (
                                    <div key={step.id} className="flex items-center">
                                      <div
                                        className={`w-3 h-3 rounded-full ${
                                          step.completed ? "bg-green-500" : "bg-gray-600"
                                        }`}
                                      />
                                      {stepIndex < trackingSteps.length - 1 && (
                                        <div
                                          className={`w-8 h-0.5 ${
                                            step.completed ? "bg-green-500" : "bg-gray-600"
                                          }`}
                                        />
                                      )}
                                    </div>
                                  ))}
                                </div>
                                <div className="flex justify-between text-xs text-gray-400 mt-2">
                                  {trackingSteps.map((step) => (
                                    <span
                                      key={step.id}
                                      className={step.completed ? "text-green-400" : ""}
                                    >
                                      {step.label}
                                    </span>
                                  ))}
                                </div>
                              </div>

                              {/* Order Items */}
                              <div>
                                <h4 className="font-medium mb-3">Items Ordered</h4>
                                <div className="space-y-2">
                                  {order.items.map((item) => (
                                    <div
                                      key={item.id}
                                      className="flex items-center justify-between p-3 glass-effect rounded-lg"
                                    >
                                      <div className="flex items-center space-x-3">
                                        <div className="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center">
                                          <Package className="h-5 w-5 text-gray-400" />
                                        </div>
                                        <div>
                                          <p className="font-medium text-sm">{item.name}</p>
                                          <p className="text-xs text-gray-400">{item.category}</p>
                                        </div>
                                      </div>
                                      <div className="text-right">
                                        <p className="text-sm font-medium">Qty: {item.quantity}</p>
                                        <p className="text-sm text-green-400">
                                          KES {(item.price * item.quantity).toLocaleString()}
                                        </p>
                                      </div>
                                    </div>
                                  ))}
                                </div>
                              </div>

                              {/* Delivery & Payment Info */}
                              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div className="glass-effect rounded-lg p-4">
                                  <h5 className="font-medium mb-2 flex items-center space-x-2">
                                    <MapPin className="h-4 w-4" />
                                    <span>Delivery Address</span>
                                  </h5>
                                  <p className="text-sm text-gray-400">{order.deliveryAddress.address}</p>
                                  <p className="text-xs text-gray-500 mt-1">
                                    Expected: {new Date(order.deliveryDate).toLocaleDateString()}
                                  </p>
                                </div>
                                <div className="glass-effect rounded-lg p-4">
                                  <h5 className="font-medium mb-2">Payment Method</h5>
                                  <p className="text-sm text-gray-400">{order.paymentMethod}</p>
                                  <p className="text-xs text-green-400 mt-1">Payment Confirmed</p>
                                </div>
                              </div>

                              {/* Order Summary */}
                              <div className="glass-effect rounded-lg p-4 bg-blue-500/5 border border-blue-500/20">
                                <div className="flex items-center justify-between">
                                  <span className="font-medium">Order Total</span>
                                  <span className="text-lg font-bold text-blue-400">
                                    KES {order.total.toLocaleString()}
                                  </span>
                                </div>
                              </div>
                            </div>
                          </motion.div>
                        )}
                      </AnimatePresence>
                    </motion.div>
                  );
                })}
              </div>
            )}
          </motion.div>
        </motion.div>
      )}
    </AnimatePresence>
  );
}

===== components/quick-orders-view.tsx =====
"use client"

import { motion } from "framer-motion"
import { ArrowLeft, Zap, RotateCcw, Star, TrendingUp, Clock } from "lucide-react"
import { Button } from "@/components/ui/button"

interface OrderItem {
  id: string
  name: string
  quantity: number
  price: number
  [key: string]: any
}

interface QuickOrdersViewProps {
  products: any[]
  orders: any[]
  onAddToCart: (product: any) => void
  onReorder: (items: any[]) => void
  onBack: () => void
}

export function QuickOrdersView({ products, orders, onAddToCart, onReorder, onBack }: QuickOrdersViewProps) {
  // Safety check to ensure products is an array
  const safeProducts = Array.isArray(products) ? products : []

  // Update the essential products filter to prioritize actual essentials and avoid the single-unit bulk items
  const essentialProducts = safeProducts
    .filter(
      (product) =>
        // Prioritize smaller unit items that are daily essentials
        (product.category.includes("Flour") && product.price < 100) ||
        (product.category.includes("Cooking Oils") && product.price < 300) ||
        (product.category.includes("Sugar") && product.price < 500) ||
        product.category.includes("Personal Care") ||
        product.category.includes("Cleaning") ||
        (product.category.includes("Dairy") && product.price < 500),
    )
    .slice(0, 6)

  // Get affordable products (under KES 200)
  const affordableProducts = safeProducts.filter((product) => product.price < 200).slice(0, 4)

  return (
    <div className="flex-1 overflow-y-auto">
      {/* Header */}
      <div className="sticky top-0 z-10 glass-effect border-b border-white/10 p-4">
        <div className="flex items-center space-x-3">
          <Button variant="ghost" size="sm" onClick={onBack} className="hover:bg-white/10 rounded-xl">
            <ArrowLeft className="h-4 w-4" />
          </Button>
          <div className="flex items-center space-x-2">
            <Zap className="h-5 w-5 text-green-400" />
            <h2 className="text-xl font-bold text-gradient">Quick Orders</h2>
          </div>
        </div>
      </div>

      <div className="p-4 space-y-6">
        {/* Essential Items */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="glass-effect rounded-xl p-6"
        >
          <div className="flex items-center space-x-3 mb-4">
            <div className="w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-xl flex items-center justify-center">
              <Star className="h-5 w-5 text-white" />
            </div>
            <div>
              <h3 className="font-bold text-lg">Essential Items</h3>
              <p className="text-sm text-gray-400">Kitchen basics you need most</p>
            </div>
          </div>

          <div className="grid grid-cols-2 lg:grid-cols-3 gap-3">
            {essentialProducts.map((product, index) => (
              <motion.div
                key={product.id}
                initial={{ opacity: 0, scale: 0.9 }}
                animate={{ opacity: 1, scale: 1 }}
                transition={{ delay: index * 0.1 }}
                whileHover={{ scale: 1.02 }}
                whileTap={{ scale: 0.98 }}
                onClick={() => onAddToCart(product)}
                className="glass-effect rounded-xl p-4 cursor-pointer hover:bg-white/5 transition-all duration-300 group"
              >
                <div className="flex items-center space-x-3">
                  <div className="w-12 h-12 bg-gradient-to-br from-white/20 to-white/10 rounded-xl overflow-hidden group-hover:from-white/30 group-hover:to-white/20 transition-all">
                    <img
                      src={product.image || `/placeholder.svg?height=48&width=48`}
                      alt={product.name}
                      className="w-full h-full object-cover"
                      onError={(e) => {
                        const target = e.target as HTMLImageElement
                        target.src = `/placeholder.svg?height=48&width=48`
                      }}
                    />
                  </div>
                  <div className="flex-1 min-w-0">
                    <p className="font-medium text-sm truncate">{product.name}</p>
                    <p className="text-xs text-gray-400">{product.brand || product.category.split(" ")[0]}</p>
                    <p className="font-bold text-green-400">KES {product.price.toLocaleString()}</p>
                  </div>
                </div>
              </motion.div>
            ))}
          </div>
        </motion.div>

        {/* Budget Friendly */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.2 }}
          className="glass-effect rounded-xl p-6"
        >
          <div className="flex items-center space-x-3 mb-4">
            <div className="w-10 h-10 bg-gradient-to-r from-green-500 to-teal-500 rounded-xl flex items-center justify-center">
              <TrendingUp className="h-5 w-5 text-white" />
            </div>
            <div>
              <h3 className="font-bold text-lg">Budget Friendly</h3>
              <p className="text-sm text-gray-400">Great value under KES 200</p>
            </div>
          </div>

          <div className="grid grid-cols-1 sm:grid-cols-2 gap-3">
            {affordableProducts.map((product, index) => (
              <motion.div
                key={product.id}
                initial={{ opacity: 0, x: -20 }}
                animate={{ opacity: 1, x: 0 }}
                transition={{ delay: index * 0.1 }}
                whileHover={{ scale: 1.02 }}
                whileTap={{ scale: 0.98 }}
                onClick={() => onAddToCart(product)}
                className="glass-effect rounded-xl p-4 cursor-pointer hover:bg-white/5 transition-all duration-300 group"
              >
                <div className="flex items-center justify-between">
                  <div className="flex items-center space-x-3">
                    <div className="w-10 h-10 bg-gradient-to-br from-green-500/20 to-teal-500/20 rounded-lg overflow-hidden">
                      <img
                        src={product.image || `/placeholder.svg?height=40&width=40`}
                        alt={product.name}
                        className="w-full h-full object-cover"
                        onError={(e) => {
                          const target = e.target as HTMLImageElement
                          target.src = `/placeholder.svg?height=40&width=40`
                        }}
                      />
                    </div>
                    <div>
                      <p className="font-medium text-sm">{product.name}</p>
                      <p className="text-xs text-gray-400">{product.unit}</p>
                    </div>
                  </div>
                  <div className="text-right">
                    <p className="font-bold text-green-400">KES {product.price.toLocaleString()}</p>
                    <span className="text-xs bg-green-500/20 text-green-300 px-2 py-1 rounded-full">Great Deal</span>
                  </div>
                </div>
              </motion.div>
            ))}
          </div>
        </motion.div>

        {/* Recent Orders */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.4 }}
          className="glass-effect rounded-xl p-6"
        >
          <div className="flex items-center space-x-3 mb-4">
            <div className="w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center">
              <Clock className="h-5 w-5 text-white" />
            </div>
            <div>
              <h3 className="font-bold text-lg">Recent Orders</h3>
              <p className="text-sm text-gray-400">Reorder your favorites</p>
            </div>
          </div>

          <div className="space-y-3">
            {orders.slice(0, 3).map((order, index) => (
              <motion.div
                key={order.id}
                initial={{ opacity: 0, y: 10 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: index * 0.1 }}
                whileHover={{ scale: 1.01 }}
                className="glass-effect rounded-xl p-4 hover:bg-white/5 transition-all duration-300"
              >
                <div className="flex items-center justify-between">
                  <div className="flex items-center space-x-4">
                    <div className="w-12 h-12 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-xl flex items-center justify-center">
                      <RotateCcw className="h-6 w-6 text-purple-400" />
                    </div>
                    <div>
                      <div className="flex items-center space-x-2 mb-1">
                        <span className="font-medium text-sm">Order #{order.id.split("-").pop()}</span>
                        <span className="text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full">
                          {new Date(order.date).toLocaleDateString("en-KE", { month: "short", day: "numeric" })}
                        </span>
                      </div>
                      <div className="text-xs text-gray-400">
                        {order.items.length} items • KES {order.total.toLocaleString()}
                      </div>
                      <div className="text-xs text-gray-500 mt-1">
                        {order.items
                          .slice(0, 2)
                          .map((item: OrderItem) => item.name)
                          .join(", ")}
                        {order.items.length > 2 && ` +${order.items.length - 2} more`}
                      </div>
                    </div>
                  </div>

                  <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
                    <Button
                      size="sm"
                      onClick={() => onReorder(order.items)}
                      className="bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 rounded-xl shadow-lg"
                    >
                      <RotateCcw className="h-3 w-3 mr-1" />
                      Reorder
                    </Button>
                  </motion.div>
                </div>
              </motion.div>
            ))}
          </div>
        </motion.div>
      </div>
    </div>
  )
}


===== components/product-card-response.tsx =====
"use client"

import { motion } from "framer-motion"
import { Plus, Star, Package } from "lucide-react"
import { Button } from "@/components/ui/button"

interface Product {
  id: number
  name: string
  price: number
  category: string
  description: string
  image: string
  brand?: string
  unit?: string
}

interface ProductCardResponseProps {
  products: Product[]
  onAddToCart: (product: Product) => void
  explanation?: string
}

export function ProductCardResponse({ products, onAddToCart, explanation }: ProductCardResponseProps) {
  return (
    <div className="space-y-4">
      {explanation && <p className="text-gray-300 leading-relaxed mb-4">{explanation}</p>}

      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        {products.map((product, index) => (
          <motion.div
            key={product.id}
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: index * 0.1 }}
            className="glass-effect rounded-xl p-4 hover:bg-white/5 transition-all duration-300 group"
          >
            <div className="aspect-square bg-gradient-to-br from-white/10 to-white/5 rounded-lg mb-3 flex items-center justify-center group-hover:from-white/15 group-hover:to-white/10 transition-all duration-300 overflow-hidden">
              {product.image && !product.image.includes("placeholder") ? (
                <img
                  src={product.image || "/placeholder.svg"}
                  alt={product.name}
                  className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                  onError={(e) => {
                    const target = e.target as HTMLImageElement
                    target.style.display = "none"
                    target.nextElementSibling?.classList.remove("hidden")
                  }}
                />
              ) : null}
              <Package
                className={`h-8 w-8 text-gray-400 group-hover:text-gray-300 transition-colors ${
                  product.image && !product.image.includes("placeholder") ? "hidden" : ""
                }`}
              />
            </div>

            <div className="space-y-2">
              <div className="flex items-start justify-between">
                <h3 className="font-medium text-sm leading-tight">{product.name}</h3>
                {product.brand && (
                  <span className="text-xs text-blue-400 bg-blue-500/20 px-2 py-1 rounded-full">{product.brand}</span>
                )}
              </div>

              <p className="text-xs text-gray-400 line-clamp-2">{product.description}</p>

              <div className="flex items-center justify-between">
                <div>
                  <span className="font-bold text-green-400">KES {product.price.toLocaleString()}</span>
                  {product.unit && <span className="text-xs text-gray-400 ml-1">/{product.unit}</span>}
                </div>
                <div className="flex items-center space-x-1">
                  <Star className="h-3 w-3 text-yellow-400 fill-current" />
                  <span className="text-xs text-gray-400">4.5</span>
                </div>
              </div>

              <motion.div whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }}>
                <Button
                  size="sm"
                  onClick={() => onAddToCart(product)}
                  className="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 rounded-lg shadow-lg"
                >
                  <Plus className="h-3 w-3 mr-1" />
                  Add to Cart
                </Button>
              </motion.div>
            </div>
          </motion.div>
        ))}
      </div>
    </div>
  )
}


===== components/ui/label.tsx =====
"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const labelVariants = cva(
  "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
)

const Label = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
    VariantProps<typeof labelVariants>
>(({ className, ...props }, ref) => (
  <LabelPrimitive.Root
    ref={ref}
    className={cn(labelVariants(), className)}
    {...props}
  />
))
Label.displayName = LabelPrimitive.Root.displayName

export { Label }


===== components/ui/tooltip.tsx =====
"use client"

import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

const TooltipProvider = TooltipPrimitive.Provider

const Tooltip = TooltipPrimitive.Root

const TooltipTrigger = TooltipPrimitive.Trigger

const TooltipContent = React.forwardRef<
  React.ElementRef<typeof TooltipPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <TooltipPrimitive.Content
    ref={ref}
    sideOffset={sideOffset}
    className={cn(
      "z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
TooltipContent.displayName = TooltipPrimitive.Content.displayName

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }


===== components/ui/navigation-menu.tsx =====
import * as React from "react"
import * as NavigationMenuPrimitive from "@radix-ui/react-navigation-menu"
import { cva } from "class-variance-authority"
import { ChevronDown } from "lucide-react"

import { cn } from "@/lib/utils"

const NavigationMenu = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <NavigationMenuPrimitive.Root
    ref={ref}
    className={cn(
      "relative z-10 flex max-w-max flex-1 items-center justify-center",
      className
    )}
    {...props}
  >
    {children}
    <NavigationMenuViewport />
  </NavigationMenuPrimitive.Root>
))
NavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName

const NavigationMenuList = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.List
    ref={ref}
    className={cn(
      "group flex flex-1 list-none items-center justify-center space-x-1",
      className
    )}
    {...props}
  />
))
NavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName

const NavigationMenuItem = NavigationMenuPrimitive.Item

const navigationMenuTriggerStyle = cva(
  "group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"
)

const NavigationMenuTrigger = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <NavigationMenuPrimitive.Trigger
    ref={ref}
    className={cn(navigationMenuTriggerStyle(), "group", className)}
    {...props}
  >
    {children}{" "}
    <ChevronDown
      className="relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180"
      aria-hidden="true"
    />
  </NavigationMenuPrimitive.Trigger>
))
NavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName

const NavigationMenuContent = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.Content
    ref={ref}
    className={cn(
      "left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",
      className
    )}
    {...props}
  />
))
NavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName

const NavigationMenuLink = NavigationMenuPrimitive.Link

const NavigationMenuViewport = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>
>(({ className, ...props }, ref) => (
  <div className={cn("absolute left-0 top-full flex justify-center")}>
    <NavigationMenuPrimitive.Viewport
      className={cn(
        "origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",
        className
      )}
      ref={ref}
      {...props}
    />
  </div>
))
NavigationMenuViewport.displayName =
  NavigationMenuPrimitive.Viewport.displayName

const NavigationMenuIndicator = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.Indicator
    ref={ref}
    className={cn(
      "top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",
      className
    )}
    {...props}
  >
    <div className="relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md" />
  </NavigationMenuPrimitive.Indicator>
))
NavigationMenuIndicator.displayName =
  NavigationMenuPrimitive.Indicator.displayName

export {
  navigationMenuTriggerStyle,
  NavigationMenu,
  NavigationMenuList,
  NavigationMenuItem,
  NavigationMenuContent,
  NavigationMenuTrigger,
  NavigationMenuLink,
  NavigationMenuIndicator,
  NavigationMenuViewport,
}


===== components/ui/hover-card.tsx =====
"use client"

import * as React from "react"
import * as HoverCardPrimitive from "@radix-ui/react-hover-card"

import { cn } from "@/lib/utils"

const HoverCard = HoverCardPrimitive.Root

const HoverCardTrigger = HoverCardPrimitive.Trigger

const HoverCardContent = React.forwardRef<
  React.ElementRef<typeof HoverCardPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>
>(({ className, align = "center", sideOffset = 4, ...props }, ref) => (
  <HoverCardPrimitive.Content
    ref={ref}
    align={align}
    sideOffset={sideOffset}
    className={cn(
      "z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
HoverCardContent.displayName = HoverCardPrimitive.Content.displayName

export { HoverCard, HoverCardTrigger, HoverCardContent }


===== components/ui/scroll-area.tsx =====
"use client"

import * as React from "react"
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area"

import { cn } from "@/lib/utils"

const ScrollArea = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <ScrollAreaPrimitive.Root
    ref={ref}
    className={cn("relative overflow-hidden", className)}
    {...props}
  >
    <ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]">
      {children}
    </ScrollAreaPrimitive.Viewport>
    <ScrollBar />
    <ScrollAreaPrimitive.Corner />
  </ScrollAreaPrimitive.Root>
))
ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName

const ScrollBar = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>
>(({ className, orientation = "vertical", ...props }, ref) => (
  <ScrollAreaPrimitive.ScrollAreaScrollbar
    ref={ref}
    orientation={orientation}
    className={cn(
      "flex touch-none select-none transition-colors",
      orientation === "vertical" &&
        "h-full w-2.5 border-l border-l-transparent p-[1px]",
      orientation === "horizontal" &&
        "h-2.5 flex-col border-t border-t-transparent p-[1px]",
      className
    )}
    {...props}
  >
    <ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" />
  </ScrollAreaPrimitive.ScrollAreaScrollbar>
))
ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName

export { ScrollArea, ScrollBar }


===== components/ui/calendar.tsx =====
"use client"

import * as React from "react"
import { ChevronLeft, ChevronRight } from "lucide-react"
import { DayPicker } from "react-day-picker"

import { cn } from "@/lib/utils"
import { buttonVariants } from "@/components/ui/button"

export type CalendarProps = React.ComponentProps<typeof DayPicker>

function Calendar({
  className,
  classNames,
  showOutsideDays = true,
  ...props
}: CalendarProps) {
  return (
    <DayPicker
      showOutsideDays={showOutsideDays}
      className={cn("p-3", className)}
      classNames={{
        months: "flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",
        month: "space-y-4",
        caption: "flex justify-center pt-1 relative items-center",
        caption_label: "text-sm font-medium",
        nav: "space-x-1 flex items-center",
        nav_button: cn(
          buttonVariants({ variant: "outline" }),
          "h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"
        ),
        nav_button_previous: "absolute left-1",
        nav_button_next: "absolute right-1",
        table: "w-full border-collapse space-y-1",
        head_row: "flex",
        head_cell:
          "text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",
        row: "flex w-full mt-2",
        cell: "h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",
        day: cn(
          buttonVariants({ variant: "ghost" }),
          "h-9 w-9 p-0 font-normal aria-selected:opacity-100"
        ),
        day_range_end: "day-range-end",
        day_selected:
          "bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",
        day_today: "bg-accent text-accent-foreground",
        day_outside:
          "day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",
        day_disabled: "text-muted-foreground opacity-50",
        day_range_middle:
          "aria-selected:bg-accent aria-selected:text-accent-foreground",
        day_hidden: "invisible",
        ...classNames,
      }}
      components={{
        IconLeft: ({ ...props }) => <ChevronLeft className="h-4 w-4" />,
        IconRight: ({ ...props }) => <ChevronRight className="h-4 w-4" />,
      }}
      {...props}
    />
  )
}
Calendar.displayName = "Calendar"

export { Calendar }


===== components/ui/input-otp.tsx =====
"use client"

import * as React from "react"
import { OTPInput, OTPInputContext } from "input-otp"
import { Dot } from "lucide-react"

import { cn } from "@/lib/utils"

const InputOTP = React.forwardRef<
  React.ElementRef<typeof OTPInput>,
  React.ComponentPropsWithoutRef<typeof OTPInput>
>(({ className, containerClassName, ...props }, ref) => (
  <OTPInput
    ref={ref}
    containerClassName={cn(
      "flex items-center gap-2 has-[:disabled]:opacity-50",
      containerClassName
    )}
    className={cn("disabled:cursor-not-allowed", className)}
    {...props}
  />
))
InputOTP.displayName = "InputOTP"

const InputOTPGroup = React.forwardRef<
  React.ElementRef<"div">,
  React.ComponentPropsWithoutRef<"div">
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("flex items-center", className)} {...props} />
))
InputOTPGroup.displayName = "InputOTPGroup"

const InputOTPSlot = React.forwardRef<
  React.ElementRef<"div">,
  React.ComponentPropsWithoutRef<"div"> & { index: number }
>(({ index, className, ...props }, ref) => {
  const inputOTPContext = React.useContext(OTPInputContext)
  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]

  return (
    <div
      ref={ref}
      className={cn(
        "relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",
        isActive && "z-10 ring-2 ring-ring ring-offset-background",
        className
      )}
      {...props}
    >
      {char}
      {hasFakeCaret && (
        <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
          <div className="h-4 w-px animate-caret-blink bg-foreground duration-1000" />
        </div>
      )}
    </div>
  )
})
InputOTPSlot.displayName = "InputOTPSlot"

const InputOTPSeparator = React.forwardRef<
  React.ElementRef<"div">,
  React.ComponentPropsWithoutRef<"div">
>(({ ...props }, ref) => (
  <div ref={ref} role="separator" {...props}>
    <Dot />
  </div>
))
InputOTPSeparator.displayName = "InputOTPSeparator"

export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }


===== components/ui/toast.tsx =====
"use client"

import * as React from "react"
import * as ToastPrimitives from "@radix-ui/react-toast"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const ToastProvider = ToastPrimitives.Provider

const ToastViewport = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Viewport>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Viewport
    ref={ref}
    className={cn(
      "fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",
      className
    )}
    {...props}
  />
))
ToastViewport.displayName = ToastPrimitives.Viewport.displayName

const toastVariants = cva(
  "group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",
  {
    variants: {
      variant: {
        default: "border bg-background text-foreground",
        destructive:
          "destructive group border-destructive bg-destructive text-destructive-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Toast = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &
    VariantProps<typeof toastVariants>
>(({ className, variant, ...props }, ref) => {
  return (
    <ToastPrimitives.Root
      ref={ref}
      className={cn(toastVariants({ variant }), className)}
      {...props}
    />
  )
})
Toast.displayName = ToastPrimitives.Root.displayName

const ToastAction = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Action>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Action
    ref={ref}
    className={cn(
      "inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",
      className
    )}
    {...props}
  />
))
ToastAction.displayName = ToastPrimitives.Action.displayName

const ToastClose = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Close>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Close
    ref={ref}
    className={cn(
      "absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",
      className
    )}
    toast-close=""
    {...props}
  >
    <X className="h-4 w-4" />
  </ToastPrimitives.Close>
))
ToastClose.displayName = ToastPrimitives.Close.displayName

const ToastTitle = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Title>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Title
    ref={ref}
    className={cn("text-sm font-semibold", className)}
    {...props}
  />
))
ToastTitle.displayName = ToastPrimitives.Title.displayName

const ToastDescription = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Description>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Description
    ref={ref}
    className={cn("text-sm opacity-90", className)}
    {...props}
  />
))
ToastDescription.displayName = ToastPrimitives.Description.displayName

type ToastProps = React.ComponentPropsWithoutRef<typeof Toast>

type ToastActionElement = React.ReactElement<typeof ToastAction>

export {
  type ToastProps,
  type ToastActionElement,
  ToastProvider,
  ToastViewport,
  Toast,
  ToastTitle,
  ToastDescription,
  ToastClose,
  ToastAction,
}


===== components/ui/use-mobile.tsx =====
import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange)
  }, [])

  return !!isMobile
}


===== components/ui/card.tsx =====
import * as React from "react"

import { cn } from "@/lib/utils"

const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      "rounded-lg border bg-card text-card-foreground shadow-sm",
      className
    )}
    {...props}
  />
))
Card.displayName = "Card"

const CardHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex flex-col space-y-1.5 p-6", className)}
    {...props}
  />
))
CardHeader.displayName = "CardHeader"

const CardTitle = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      "text-2xl font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
CardTitle.displayName = "CardTitle"

const CardDescription = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
CardDescription.displayName = "CardDescription"

const CardContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />
))
CardContent.displayName = "CardContent"

const CardFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex items-center p-6 pt-0", className)}
    {...props}
  />
))
CardFooter.displayName = "CardFooter"

export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }


===== components/ui/table.tsx =====
import * as React from "react"

import { cn } from "@/lib/utils"

const Table = React.forwardRef<
  HTMLTableElement,
  React.HTMLAttributes<HTMLTableElement>
>(({ className, ...props }, ref) => (
  <div className="relative w-full overflow-auto">
    <table
      ref={ref}
      className={cn("w-full caption-bottom text-sm", className)}
      {...props}
    />
  </div>
))
Table.displayName = "Table"

const TableHeader = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <thead ref={ref} className={cn("[&_tr]:border-b", className)} {...props} />
))
TableHeader.displayName = "TableHeader"

const TableBody = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tbody
    ref={ref}
    className={cn("[&_tr:last-child]:border-0", className)}
    {...props}
  />
))
TableBody.displayName = "TableBody"

const TableFooter = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tfoot
    ref={ref}
    className={cn(
      "border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",
      className
    )}
    {...props}
  />
))
TableFooter.displayName = "TableFooter"

const TableRow = React.forwardRef<
  HTMLTableRowElement,
  React.HTMLAttributes<HTMLTableRowElement>
>(({ className, ...props }, ref) => (
  <tr
    ref={ref}
    className={cn(
      "border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",
      className
    )}
    {...props}
  />
))
TableRow.displayName = "TableRow"

const TableHead = React.forwardRef<
  HTMLTableCellElement,
  React.ThHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <th
    ref={ref}
    className={cn(
      "h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",
      className
    )}
    {...props}
  />
))
TableHead.displayName = "TableHead"

const TableCell = React.forwardRef<
  HTMLTableCellElement,
  React.TdHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <td
    ref={ref}
    className={cn("p-4 align-middle [&:has([role=checkbox])]:pr-0", className)}
    {...props}
  />
))
TableCell.displayName = "TableCell"

const TableCaption = React.forwardRef<
  HTMLTableCaptionElement,
  React.HTMLAttributes<HTMLTableCaptionElement>
>(({ className, ...props }, ref) => (
  <caption
    ref={ref}
    className={cn("mt-4 text-sm text-muted-foreground", className)}
    {...props}
  />
))
TableCaption.displayName = "TableCaption"

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}


===== components/ui/skeleton.tsx =====
import { cn } from "@/lib/utils"

function Skeleton({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) {
  return (
    <div
      className={cn("animate-pulse rounded-md bg-muted", className)}
      {...props}
    />
  )
}

export { Skeleton }


===== components/ui/chart.tsx =====
"use client"

import * as React from "react"
import * as RechartsPrimitive from "recharts"

import { cn } from "@/lib/utils"

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: "", dark: ".dark" } as const

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode
    icon?: React.ComponentType
  } & (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record<keyof typeof THEMES, string> }
  )
}

type ChartContextProps = {
  config: ChartConfig
}

const ChartContext = React.createContext<ChartContextProps | null>(null)

function useChart() {
  const context = React.useContext(ChartContext)

  if (!context) {
    throw new Error("useChart must be used within a <ChartContainer />")
  }

  return context
}

const ChartContainer = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    config: ChartConfig
    children: React.ComponentProps<
      typeof RechartsPrimitive.ResponsiveContainer
    >["children"]
  }
>(({ id, className, children, config, ...props }, ref) => {
  const uniqueId = React.useId()
  const chartId = `chart-${id || uniqueId.replace(/:/g, "")}`

  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-chart={chartId}
        ref={ref}
        className={cn(
          "flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",
          className
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>
          {children}
        </RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  )
})
ChartContainer.displayName = "Chart"

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(
    ([_, config]) => config.theme || config.color
  )

  if (!colorConfig.length) {
    return null
  }

  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color
    return color ? `  --color-${key}: ${color};` : null
  })
  .join("\n")}
}
`
          )
          .join("\n"),
      }}
    />
  )
}

const ChartTooltip = RechartsPrimitive.Tooltip

const ChartTooltipContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
    React.ComponentProps<"div"> & {
      hideLabel?: boolean
      hideIndicator?: boolean
      indicator?: "line" | "dot" | "dashed"
      nameKey?: string
      labelKey?: string
    }
>(
  (
    {
      active,
      payload,
      className,
      indicator = "dot",
      hideLabel = false,
      hideIndicator = false,
      label,
      labelFormatter,
      labelClassName,
      formatter,
      color,
      nameKey,
      labelKey,
    },
    ref
  ) => {
    const { config } = useChart()

    const tooltipLabel = React.useMemo(() => {
      if (hideLabel || !payload?.length) {
        return null
      }

      const [item] = payload
      const key = `${labelKey || item.dataKey || item.name || "value"}`
      const itemConfig = getPayloadConfigFromPayload(config, item, key)
      const value =
        !labelKey && typeof label === "string"
          ? config[label as keyof typeof config]?.label || label
          : itemConfig?.label

      if (labelFormatter) {
        return (
          <div className={cn("font-medium", labelClassName)}>
            {labelFormatter(value, payload)}
          </div>
        )
      }

      if (!value) {
        return null
      }

      return <div className={cn("font-medium", labelClassName)}>{value}</div>
    }, [
      label,
      labelFormatter,
      payload,
      hideLabel,
      labelClassName,
      config,
      labelKey,
    ])

    if (!active || !payload?.length) {
      return null
    }

    const nestLabel = payload.length === 1 && indicator !== "dot"

    return (
      <div
        ref={ref}
        className={cn(
          "grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",
          className
        )}
      >
        {!nestLabel ? tooltipLabel : null}
        <div className="grid gap-1.5">
          {payload.map((item, index) => {
            const key = `${nameKey || item.name || item.dataKey || "value"}`
            const itemConfig = getPayloadConfigFromPayload(config, item, key)
            const indicatorColor = color || item.payload.fill || item.color

            return (
              <div
                key={item.dataKey}
                className={cn(
                  "flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",
                  indicator === "dot" && "items-center"
                )}
              >
                {formatter && item?.value !== undefined && item.name ? (
                  formatter(item.value, item.name, item, index, item.payload)
                ) : (
                  <>
                    {itemConfig?.icon ? (
                      <itemConfig.icon />
                    ) : (
                      !hideIndicator && (
                        <div
                          className={cn(
                            "shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",
                            {
                              "h-2.5 w-2.5": indicator === "dot",
                              "w-1": indicator === "line",
                              "w-0 border-[1.5px] border-dashed bg-transparent":
                                indicator === "dashed",
                              "my-0.5": nestLabel && indicator === "dashed",
                            }
                          )}
                          style={
                            {
                              "--color-bg": indicatorColor,
                              "--color-border": indicatorColor,
                            } as React.CSSProperties
                          }
                        />
                      )
                    )}
                    <div
                      className={cn(
                        "flex flex-1 justify-between leading-none",
                        nestLabel ? "items-end" : "items-center"
                      )}
                    >
                      <div className="grid gap-1.5">
                        {nestLabel ? tooltipLabel : null}
                        <span className="text-muted-foreground">
                          {itemConfig?.label || item.name}
                        </span>
                      </div>
                      {item.value && (
                        <span className="font-mono font-medium tabular-nums text-foreground">
                          {item.value.toLocaleString()}
                        </span>
                      )}
                    </div>
                  </>
                )}
              </div>
            )
          })}
        </div>
      </div>
    )
  }
)
ChartTooltipContent.displayName = "ChartTooltip"

const ChartLegend = RechartsPrimitive.Legend

const ChartLegendContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> &
    Pick<RechartsPrimitive.LegendProps, "payload" | "verticalAlign"> & {
      hideIcon?: boolean
      nameKey?: string
    }
>(
  (
    { className, hideIcon = false, payload, verticalAlign = "bottom", nameKey },
    ref
  ) => {
    const { config } = useChart()

    if (!payload?.length) {
      return null
    }

    return (
      <div
        ref={ref}
        className={cn(
          "flex items-center justify-center gap-4",
          verticalAlign === "top" ? "pb-3" : "pt-3",
          className
        )}
      >
        {payload.map((item) => {
          const key = `${nameKey || item.dataKey || "value"}`
          const itemConfig = getPayloadConfigFromPayload(config, item, key)

          return (
            <div
              key={item.value}
              className={cn(
                "flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"
              )}
            >
              {itemConfig?.icon && !hideIcon ? (
                <itemConfig.icon />
              ) : (
                <div
                  className="h-2 w-2 shrink-0 rounded-[2px]"
                  style={{
                    backgroundColor: item.color,
                  }}
                />
              )}
              {itemConfig?.label}
            </div>
          )
        })}
      </div>
    )
  }
)
ChartLegendContent.displayName = "ChartLegend"

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string
) {
  if (typeof payload !== "object" || payload === null) {
    return undefined
  }

  const payloadPayload =
    "payload" in payload &&
    typeof payload.payload === "object" &&
    payload.payload !== null
      ? payload.payload
      : undefined

  let configLabelKey: string = key

  if (
    key in payload &&
    typeof payload[key as keyof typeof payload] === "string"
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === "string"
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string
  }

  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config]
}

export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
}


===== components/ui/use-toast.ts =====
"use client"

// Inspired by react-hot-toast library
import * as React from "react"

import type {
  ToastActionElement,
  ToastProps,
} from "@/components/ui/toast"

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 1000000

type ToasterToast = ToastProps & {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
}

const actionTypes = {
  ADD_TOAST: "ADD_TOAST",
  UPDATE_TOAST: "UPDATE_TOAST",
  DISMISS_TOAST: "DISMISS_TOAST",
  REMOVE_TOAST: "REMOVE_TOAST",
} as const

let count = 0

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER
  return count.toString()
}

type ActionType = typeof actionTypes

type Action =
  | {
      type: ActionType["ADD_TOAST"]
      toast: ToasterToast
    }
  | {
      type: ActionType["UPDATE_TOAST"]
      toast: Partial<ToasterToast>
    }
  | {
      type: ActionType["DISMISS_TOAST"]
      toastId?: ToasterToast["id"]
    }
  | {
      type: ActionType["REMOVE_TOAST"]
      toastId?: ToasterToast["id"]
    }

interface State {
  toasts: ToasterToast[]
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()

const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) {
    return
  }

  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId)
    dispatch({
      type: "REMOVE_TOAST",
      toastId: toastId,
    })
  }, TOAST_REMOVE_DELAY)

  toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case "ADD_TOAST":
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      }

    case "UPDATE_TOAST":
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t
        ),
      }

    case "DISMISS_TOAST": {
      const { toastId } = action

      // ! Side effects ! - This could be extracted into a dismissToast() action,
      // but I'll keep it here for simplicity
      if (toastId) {
        addToRemoveQueue(toastId)
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id)
        })
      }

      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t
        ),
      }
    }
    case "REMOVE_TOAST":
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        }
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      }
  }
}

const listeners: Array<(state: State) => void> = []

let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action)
  listeners.forEach((listener) => {
    listener(memoryState)
  })
}

type Toast = Omit<ToasterToast, "id">

function toast({ ...props }: Toast) {
  const id = genId()

  const update = (props: ToasterToast) =>
    dispatch({
      type: "UPDATE_TOAST",
      toast: { ...props, id },
    })
  const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id })

  dispatch({
    type: "ADD_TOAST",
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) dismiss()
      },
    },
  })

  return {
    id: id,
    dismiss,
    update,
  }
}

function useToast() {
  const [state, setState] = React.useState<State>(memoryState)

  React.useEffect(() => {
    listeners.push(setState)
    return () => {
      const index = listeners.indexOf(setState)
      if (index > -1) {
        listeners.splice(index, 1)
      }
    }
  }, [state])

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: "DISMISS_TOAST", toastId }),
  }
}

export { useToast, toast }


===== components/ui/radio-group.tsx =====
"use client"

import * as React from "react"
import * as RadioGroupPrimitive from "@radix-ui/react-radio-group"
import { Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const RadioGroup = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Root
      className={cn("grid gap-2", className)}
      {...props}
      ref={ref}
    />
  )
})
RadioGroup.displayName = RadioGroupPrimitive.Root.displayName

const RadioGroupItem = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Item
      ref={ref}
      className={cn(
        "aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator className="flex items-center justify-center">
        <Circle className="h-2.5 w-2.5 fill-current text-current" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  )
})
RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName

export { RadioGroup, RadioGroupItem }


===== components/ui/alert.tsx =====
import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const alertVariants = cva(
  "relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",
  {
    variants: {
      variant: {
        default: "bg-background text-foreground",
        destructive:
          "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Alert = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>
>(({ className, variant, ...props }, ref) => (
  <div
    ref={ref}
    role="alert"
    className={cn(alertVariants({ variant }), className)}
    {...props}
  />
))
Alert.displayName = "Alert"

const AlertTitle = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h5
    ref={ref}
    className={cn("mb-1 font-medium leading-none tracking-tight", className)}
    {...props}
  />
))
AlertTitle.displayName = "AlertTitle"

const AlertDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("text-sm [&_p]:leading-relaxed", className)}
    {...props}
  />
))
AlertDescription.displayName = "AlertDescription"

export { Alert, AlertTitle, AlertDescription }


===== components/ui/dialog.tsx =====
"use client"

import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Dialog = DialogPrimitive.Root

const DialogTrigger = DialogPrimitive.Trigger

const DialogPortal = DialogPrimitive.Portal

const DialogClose = DialogPrimitive.Close

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
  />
))
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
))
DialogContent.displayName = DialogPrimitive.Content.displayName

const DialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-1.5 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
DialogHeader.displayName = "DialogHeader"

const DialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
DialogFooter.displayName = "DialogFooter"

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
DialogTitle.displayName = DialogPrimitive.Title.displayName

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
DialogDescription.displayName = DialogPrimitive.Description.displayName

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogClose,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
}


===== components/ui/switch.tsx =====
"use client"

import * as React from "react"
import * as SwitchPrimitives from "@radix-ui/react-switch"

import { cn } from "@/lib/utils"

const Switch = React.forwardRef<
  React.ElementRef<typeof SwitchPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>
>(({ className, ...props }, ref) => (
  <SwitchPrimitives.Root
    className={cn(
      "peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",
      className
    )}
    {...props}
    ref={ref}
  >
    <SwitchPrimitives.Thumb
      className={cn(
        "pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"
      )}
    />
  </SwitchPrimitives.Root>
))
Switch.displayName = SwitchPrimitives.Root.displayName

export { Switch }


===== components/ui/button.tsx =====
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline:
          "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button"
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }


===== components/ui/badge.tsx =====
import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground hover:bg-primary/80",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive:
          "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",
        outline: "text-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    <div className={cn(badgeVariants({ variant }), className)} {...props} />
  )
}

export { Badge, badgeVariants }


===== components/ui/aspect-ratio.tsx =====
"use client"

import * as AspectRatioPrimitive from "@radix-ui/react-aspect-ratio"

const AspectRatio = AspectRatioPrimitive.Root

export { AspectRatio }


===== components/ui/tabs.tsx =====
"use client"

import * as React from "react"
import * as TabsPrimitive from "@radix-ui/react-tabs"

import { cn } from "@/lib/utils"

const Tabs = TabsPrimitive.Root

const TabsList = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.List
    ref={ref}
    className={cn(
      "inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",
      className
    )}
    {...props}
  />
))
TabsList.displayName = TabsPrimitive.List.displayName

const TabsTrigger = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Trigger
    ref={ref}
    className={cn(
      "inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",
      className
    )}
    {...props}
  />
))
TabsTrigger.displayName = TabsPrimitive.Trigger.displayName

const TabsContent = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Content
    ref={ref}
    className={cn(
      "mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
      className
    )}
    {...props}
  />
))
TabsContent.displayName = TabsPrimitive.Content.displayName

export { Tabs, TabsList, TabsTrigger, TabsContent }


===== components/ui/textarea.tsx =====
import * as React from "react"

import { cn } from "@/lib/utils"

const Textarea = React.forwardRef<
  HTMLTextAreaElement,
  React.ComponentProps<"textarea">
>(({ className, ...props }, ref) => {
  return (
    <textarea
      className={cn(
        "flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        className
      )}
      ref={ref}
      {...props}
    />
  )
})
Textarea.displayName = "Textarea"

export { Textarea }


===== components/ui/toggle.tsx =====
"use client"

import * as React from "react"
import * as TogglePrimitive from "@radix-ui/react-toggle"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const toggleVariants = cva(
  "inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",
  {
    variants: {
      variant: {
        default: "bg-transparent",
        outline:
          "border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",
      },
      size: {
        default: "h-10 px-3 min-w-10",
        sm: "h-9 px-2.5 min-w-9",
        lg: "h-11 px-5 min-w-11",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

const Toggle = React.forwardRef<
  React.ElementRef<typeof TogglePrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &
    VariantProps<typeof toggleVariants>
>(({ className, variant, size, ...props }, ref) => (
  <TogglePrimitive.Root
    ref={ref}
    className={cn(toggleVariants({ variant, size, className }))}
    {...props}
  />
))

Toggle.displayName = TogglePrimitive.Root.displayName

export { Toggle, toggleVariants }


===== components/ui/toggle-group.tsx =====
"use client"

import * as React from "react"
import * as ToggleGroupPrimitive from "@radix-ui/react-toggle-group"
import { type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"
import { toggleVariants } from "@/components/ui/toggle"

const ToggleGroupContext = React.createContext<
  VariantProps<typeof toggleVariants>
>({
  size: "default",
  variant: "default",
})

const ToggleGroup = React.forwardRef<
  React.ElementRef<typeof ToggleGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &
    VariantProps<typeof toggleVariants>
>(({ className, variant, size, children, ...props }, ref) => (
  <ToggleGroupPrimitive.Root
    ref={ref}
    className={cn("flex items-center justify-center gap-1", className)}
    {...props}
  >
    <ToggleGroupContext.Provider value={{ variant, size }}>
      {children}
    </ToggleGroupContext.Provider>
  </ToggleGroupPrimitive.Root>
))

ToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName

const ToggleGroupItem = React.forwardRef<
  React.ElementRef<typeof ToggleGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &
    VariantProps<typeof toggleVariants>
>(({ className, children, variant, size, ...props }, ref) => {
  const context = React.useContext(ToggleGroupContext)

  return (
    <ToggleGroupPrimitive.Item
      ref={ref}
      className={cn(
        toggleVariants({
          variant: context.variant || variant,
          size: context.size || size,
        }),
        className
      )}
      {...props}
    >
      {children}
    </ToggleGroupPrimitive.Item>
  )
})

ToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName

export { ToggleGroup, ToggleGroupItem }


===== components/ui/progress.tsx =====
"use client"

import * as React from "react"
import * as ProgressPrimitive from "@radix-ui/react-progress"

import { cn } from "@/lib/utils"

const Progress = React.forwardRef<
  React.ElementRef<typeof ProgressPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>
>(({ className, value, ...props }, ref) => (
  <ProgressPrimitive.Root
    ref={ref}
    className={cn(
      "relative h-4 w-full overflow-hidden rounded-full bg-secondary",
      className
    )}
    {...props}
  >
    <ProgressPrimitive.Indicator
      className="h-full w-full flex-1 bg-primary transition-all"
      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
    />
  </ProgressPrimitive.Root>
))
Progress.displayName = ProgressPrimitive.Root.displayName

export { Progress }


===== components/ui/toaster.tsx =====
"use client"

import { useToast } from "@/hooks/use-toast"
import {
  Toast,
  ToastClose,
  ToastDescription,
  ToastProvider,
  ToastTitle,
  ToastViewport,
} from "@/components/ui/toast"

export function Toaster() {
  const { toasts } = useToast()

  return (
    <ToastProvider>
      {toasts.map(function ({ id, title, description, action, ...props }) {
        return (
          <Toast key={id} {...props}>
            <div className="grid gap-1">
              {title && <ToastTitle>{title}</ToastTitle>}
              {description && (
                <ToastDescription>{description}</ToastDescription>
              )}
            </div>
            {action}
            <ToastClose />
          </Toast>
        )
      })}
      <ToastViewport />
    </ToastProvider>
  )
}


===== components/ui/context-menu.tsx =====
"use client"

import * as React from "react"
import * as ContextMenuPrimitive from "@radix-ui/react-context-menu"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const ContextMenu = ContextMenuPrimitive.Root

const ContextMenuTrigger = ContextMenuPrimitive.Trigger

const ContextMenuGroup = ContextMenuPrimitive.Group

const ContextMenuPortal = ContextMenuPrimitive.Portal

const ContextMenuSub = ContextMenuPrimitive.Sub

const ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup

const ContextMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <ContextMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </ContextMenuPrimitive.SubTrigger>
))
ContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName

const ContextMenuSubContent = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
ContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName

const ContextMenuContent = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.Portal>
    <ContextMenuPrimitive.Content
      ref={ref}
      className={cn(
        "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    />
  </ContextMenuPrimitive.Portal>
))
ContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName

const ContextMenuItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <ContextMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
ContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName

const ContextMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <ContextMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <ContextMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </ContextMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </ContextMenuPrimitive.CheckboxItem>
))
ContextMenuCheckboxItem.displayName =
  ContextMenuPrimitive.CheckboxItem.displayName

const ContextMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <ContextMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <ContextMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </ContextMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </ContextMenuPrimitive.RadioItem>
))
ContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName

const ContextMenuLabel = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <ContextMenuPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold text-foreground",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
ContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName

const ContextMenuSeparator = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-border", className)}
    {...props}
  />
))
ContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName

const ContextMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    />
  )
}
ContextMenuShortcut.displayName = "ContextMenuShortcut"

export {
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuCheckboxItem,
  ContextMenuRadioItem,
  ContextMenuLabel,
  ContextMenuSeparator,
  ContextMenuShortcut,
  ContextMenuGroup,
  ContextMenuPortal,
  ContextMenuSub,
  ContextMenuSubContent,
  ContextMenuSubTrigger,
  ContextMenuRadioGroup,
}


===== components/ui/checkbox.tsx =====
"use client"

import * as React from "react"
import * as CheckboxPrimitive from "@radix-ui/react-checkbox"
import { Check } from "lucide-react"

import { cn } from "@/lib/utils"

const Checkbox = React.forwardRef<
  React.ElementRef<typeof CheckboxPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>
>(({ className, ...props }, ref) => (
  <CheckboxPrimitive.Root
    ref={ref}
    className={cn(
      "peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",
      className
    )}
    {...props}
  >
    <CheckboxPrimitive.Indicator
      className={cn("flex items-center justify-center text-current")}
    >
      <Check className="h-4 w-4" />
    </CheckboxPrimitive.Indicator>
  </CheckboxPrimitive.Root>
))
Checkbox.displayName = CheckboxPrimitive.Root.displayName

export { Checkbox }


===== components/ui/form.tsx =====
"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { Slot } from "@radix-ui/react-slot"
import {
  Controller,
  ControllerProps,
  FieldPath,
  FieldValues,
  FormProvider,
  useFormContext,
} from "react-hook-form"

import { cn } from "@/lib/utils"
import { Label } from "@/components/ui/label"

const Form = FormProvider

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
> = {
  name: TName
}

const FormFieldContext = React.createContext<FormFieldContextValue>(
  {} as FormFieldContextValue
)

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  )
}

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext)
  const itemContext = React.useContext(FormItemContext)
  const { getFieldState, formState } = useFormContext()

  const fieldState = getFieldState(fieldContext.name, formState)

  if (!fieldContext) {
    throw new Error("useFormField should be used within <FormField>")
  }

  const { id } = itemContext

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  }
}

type FormItemContextValue = {
  id: string
}

const FormItemContext = React.createContext<FormItemContextValue>(
  {} as FormItemContextValue
)

const FormItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const id = React.useId()

  return (
    <FormItemContext.Provider value={{ id }}>
      <div ref={ref} className={cn("space-y-2", className)} {...props} />
    </FormItemContext.Provider>
  )
})
FormItem.displayName = "FormItem"

const FormLabel = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>
>(({ className, ...props }, ref) => {
  const { error, formItemId } = useFormField()

  return (
    <Label
      ref={ref}
      className={cn(error && "text-destructive", className)}
      htmlFor={formItemId}
      {...props}
    />
  )
})
FormLabel.displayName = "FormLabel"

const FormControl = React.forwardRef<
  React.ElementRef<typeof Slot>,
  React.ComponentPropsWithoutRef<typeof Slot>
>(({ ...props }, ref) => {
  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()

  return (
    <Slot
      ref={ref}
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  )
})
FormControl.displayName = "FormControl"

const FormDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => {
  const { formDescriptionId } = useFormField()

  return (
    <p
      ref={ref}
      id={formDescriptionId}
      className={cn("text-sm text-muted-foreground", className)}
      {...props}
    />
  )
})
FormDescription.displayName = "FormDescription"

const FormMessage = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, children, ...props }, ref) => {
  const { error, formMessageId } = useFormField()
  const body = error ? String(error?.message) : children

  if (!body) {
    return null
  }

  return (
    <p
      ref={ref}
      id={formMessageId}
      className={cn("text-sm font-medium text-destructive", className)}
      {...props}
    >
      {body}
    </p>
  )
})
FormMessage.displayName = "FormMessage"

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
}


===== components/ui/carousel.tsx =====
"use client"

import * as React from "react"
import useEmblaCarousel, {
  type UseEmblaCarouselType,
} from "embla-carousel-react"
import { ArrowLeft, ArrowRight } from "lucide-react"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"

type CarouselApi = UseEmblaCarouselType[1]
type UseCarouselParameters = Parameters<typeof useEmblaCarousel>
type CarouselOptions = UseCarouselParameters[0]
type CarouselPlugin = UseCarouselParameters[1]

type CarouselProps = {
  opts?: CarouselOptions
  plugins?: CarouselPlugin
  orientation?: "horizontal" | "vertical"
  setApi?: (api: CarouselApi) => void
}

type CarouselContextProps = {
  carouselRef: ReturnType<typeof useEmblaCarousel>[0]
  api: ReturnType<typeof useEmblaCarousel>[1]
  scrollPrev: () => void
  scrollNext: () => void
  canScrollPrev: boolean
  canScrollNext: boolean
} & CarouselProps

const CarouselContext = React.createContext<CarouselContextProps | null>(null)

function useCarousel() {
  const context = React.useContext(CarouselContext)

  if (!context) {
    throw new Error("useCarousel must be used within a <Carousel />")
  }

  return context
}

const Carousel = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & CarouselProps
>(
  (
    {
      orientation = "horizontal",
      opts,
      setApi,
      plugins,
      className,
      children,
      ...props
    },
    ref
  ) => {
    const [carouselRef, api] = useEmblaCarousel(
      {
        ...opts,
        axis: orientation === "horizontal" ? "x" : "y",
      },
      plugins
    )
    const [canScrollPrev, setCanScrollPrev] = React.useState(false)
    const [canScrollNext, setCanScrollNext] = React.useState(false)

    const onSelect = React.useCallback((api: CarouselApi) => {
      if (!api) {
        return
      }

      setCanScrollPrev(api.canScrollPrev())
      setCanScrollNext(api.canScrollNext())
    }, [])

    const scrollPrev = React.useCallback(() => {
      api?.scrollPrev()
    }, [api])

    const scrollNext = React.useCallback(() => {
      api?.scrollNext()
    }, [api])

    const handleKeyDown = React.useCallback(
      (event: React.KeyboardEvent<HTMLDivElement>) => {
        if (event.key === "ArrowLeft") {
          event.preventDefault()
          scrollPrev()
        } else if (event.key === "ArrowRight") {
          event.preventDefault()
          scrollNext()
        }
      },
      [scrollPrev, scrollNext]
    )

    React.useEffect(() => {
      if (!api || !setApi) {
        return
      }

      setApi(api)
    }, [api, setApi])

    React.useEffect(() => {
      if (!api) {
        return
      }

      onSelect(api)
      api.on("reInit", onSelect)
      api.on("select", onSelect)

      return () => {
        api?.off("select", onSelect)
      }
    }, [api, onSelect])

    return (
      <CarouselContext.Provider
        value={{
          carouselRef,
          api: api,
          opts,
          orientation:
            orientation || (opts?.axis === "y" ? "vertical" : "horizontal"),
          scrollPrev,
          scrollNext,
          canScrollPrev,
          canScrollNext,
        }}
      >
        <div
          ref={ref}
          onKeyDownCapture={handleKeyDown}
          className={cn("relative", className)}
          role="region"
          aria-roledescription="carousel"
          {...props}
        >
          {children}
        </div>
      </CarouselContext.Provider>
    )
  }
)
Carousel.displayName = "Carousel"

const CarouselContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const { carouselRef, orientation } = useCarousel()

  return (
    <div ref={carouselRef} className="overflow-hidden">
      <div
        ref={ref}
        className={cn(
          "flex",
          orientation === "horizontal" ? "-ml-4" : "-mt-4 flex-col",
          className
        )}
        {...props}
      />
    </div>
  )
})
CarouselContent.displayName = "CarouselContent"

const CarouselItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const { orientation } = useCarousel()

  return (
    <div
      ref={ref}
      role="group"
      aria-roledescription="slide"
      className={cn(
        "min-w-0 shrink-0 grow-0 basis-full",
        orientation === "horizontal" ? "pl-4" : "pt-4",
        className
      )}
      {...props}
    />
  )
})
CarouselItem.displayName = "CarouselItem"

const CarouselPrevious = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<typeof Button>
>(({ className, variant = "outline", size = "icon", ...props }, ref) => {
  const { orientation, scrollPrev, canScrollPrev } = useCarousel()

  return (
    <Button
      ref={ref}
      variant={variant}
      size={size}
      className={cn(
        "absolute  h-8 w-8 rounded-full",
        orientation === "horizontal"
          ? "-left-12 top-1/2 -translate-y-1/2"
          : "-top-12 left-1/2 -translate-x-1/2 rotate-90",
        className
      )}
      disabled={!canScrollPrev}
      onClick={scrollPrev}
      {...props}
    >
      <ArrowLeft className="h-4 w-4" />
      <span className="sr-only">Previous slide</span>
    </Button>
  )
})
CarouselPrevious.displayName = "CarouselPrevious"

const CarouselNext = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<typeof Button>
>(({ className, variant = "outline", size = "icon", ...props }, ref) => {
  const { orientation, scrollNext, canScrollNext } = useCarousel()

  return (
    <Button
      ref={ref}
      variant={variant}
      size={size}
      className={cn(
        "absolute h-8 w-8 rounded-full",
        orientation === "horizontal"
          ? "-right-12 top-1/2 -translate-y-1/2"
          : "-bottom-12 left-1/2 -translate-x-1/2 rotate-90",
        className
      )}
      disabled={!canScrollNext}
      onClick={scrollNext}
      {...props}
    >
      <ArrowRight className="h-4 w-4" />
      <span className="sr-only">Next slide</span>
    </Button>
  )
})
CarouselNext.displayName = "CarouselNext"

export {
  type CarouselApi,
  Carousel,
  CarouselContent,
  CarouselItem,
  CarouselPrevious,
  CarouselNext,
}


===== components/ui/sonner.tsx =====
"use client"

import { useTheme } from "next-themes"
import { Toaster as Sonner } from "sonner"

type ToasterProps = React.ComponentProps<typeof Sonner>

const Toaster = ({ ...props }: ToasterProps) => {
  const { theme = "system" } = useTheme()

  return (
    <Sonner
      theme={theme as ToasterProps["theme"]}
      className="toaster group"
      toastOptions={{
        classNames: {
          toast:
            "group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",
          description: "group-[.toast]:text-muted-foreground",
          actionButton:
            "group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",
          cancelButton:
            "group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",
        },
      }}
      {...props}
    />
  )
}

export { Toaster }


===== components/ui/dropdown-menu.tsx =====
"use client"

import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const DropdownMenu = DropdownMenuPrimitive.Root

const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger

const DropdownMenuGroup = DropdownMenuPrimitive.Group

const DropdownMenuPortal = DropdownMenuPrimitive.Portal

const DropdownMenuSub = DropdownMenuPrimitive.Sub

const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup

const DropdownMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <DropdownMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto" />
  </DropdownMenuPrimitive.SubTrigger>
))
DropdownMenuSubTrigger.displayName =
  DropdownMenuPrimitive.SubTrigger.displayName

const DropdownMenuSubContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
DropdownMenuSubContent.displayName =
  DropdownMenuPrimitive.SubContent.displayName

const DropdownMenuContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <DropdownMenuPrimitive.Portal>
    <DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    />
  </DropdownMenuPrimitive.Portal>
))
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName

const DropdownMenuItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName

const DropdownMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <DropdownMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.CheckboxItem>
))
DropdownMenuCheckboxItem.displayName =
  DropdownMenuPrimitive.CheckboxItem.displayName

const DropdownMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <DropdownMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.RadioItem>
))
DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName

const DropdownMenuLabel = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName

const DropdownMenuSeparator = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName

const DropdownMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn("ml-auto text-xs tracking-widest opacity-60", className)}
      {...props}
    />
  )
}
DropdownMenuShortcut.displayName = "DropdownMenuShortcut"

export {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuGroup,
  DropdownMenuPortal,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuRadioGroup,
}


===== components/ui/select.tsx =====
"use client"

import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { Check, ChevronDown, ChevronUp } from "lucide-react"

import { cn } from "@/lib/utils"

const Select = SelectPrimitive.Root

const SelectGroup = SelectPrimitive.Group

const SelectValue = SelectPrimitive.Value

const SelectTrigger = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      className
    )}
    {...props}
  >
    {children}
    <SelectPrimitive.Icon asChild>
      <ChevronDown className="h-4 w-4 opacity-50" />
    </SelectPrimitive.Icon>
  </SelectPrimitive.Trigger>
))
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName

const SelectScrollUpButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronUp className="h-4 w-4" />
  </SelectPrimitive.ScrollUpButton>
))
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName

const SelectScrollDownButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronDown className="h-4 w-4" />
  </SelectPrimitive.ScrollDownButton>
))
SelectScrollDownButton.displayName =
  SelectPrimitive.ScrollDownButton.displayName

const SelectContent = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
>(({ className, children, position = "popper", ...props }, ref) => (
  <SelectPrimitive.Portal>
    <SelectPrimitive.Content
      ref={ref}
      className={cn(
        "relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        position === "popper" &&
          "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
        className
      )}
      position={position}
      {...props}
    >
      <SelectScrollUpButton />
      <SelectPrimitive.Viewport
        className={cn(
          "p-1",
          position === "popper" &&
            "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"
        )}
      >
        {children}
      </SelectPrimitive.Viewport>
      <SelectScrollDownButton />
    </SelectPrimitive.Content>
  </SelectPrimitive.Portal>
))
SelectContent.displayName = SelectPrimitive.Content.displayName

const SelectLabel = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Label
    ref={ref}
    className={cn("py-1.5 pl-8 pr-2 text-sm font-semibold", className)}
    {...props}
  />
))
SelectLabel.displayName = SelectPrimitive.Label.displayName

const SelectItem = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <SelectPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </SelectPrimitive.ItemIndicator>
    </span>

    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
  </SelectPrimitive.Item>
))
SelectItem.displayName = SelectPrimitive.Item.displayName

const SelectSeparator = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
SelectSeparator.displayName = SelectPrimitive.Separator.displayName

export {
  Select,
  SelectGroup,
  SelectValue,
  SelectTrigger,
  SelectContent,
  SelectLabel,
  SelectItem,
  SelectSeparator,
  SelectScrollUpButton,
  SelectScrollDownButton,
}


===== components/ui/pagination.tsx =====
import * as React from "react"
import { ChevronLeft, ChevronRight, MoreHorizontal } from "lucide-react"

import { cn } from "@/lib/utils"
import { ButtonProps, buttonVariants } from "@/components/ui/button"

const Pagination = ({ className, ...props }: React.ComponentProps<"nav">) => (
  <nav
    role="navigation"
    aria-label="pagination"
    className={cn("mx-auto flex w-full justify-center", className)}
    {...props}
  />
)
Pagination.displayName = "Pagination"

const PaginationContent = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    className={cn("flex flex-row items-center gap-1", className)}
    {...props}
  />
))
PaginationContent.displayName = "PaginationContent"

const PaginationItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ className, ...props }, ref) => (
  <li ref={ref} className={cn("", className)} {...props} />
))
PaginationItem.displayName = "PaginationItem"

type PaginationLinkProps = {
  isActive?: boolean
} & Pick<ButtonProps, "size"> &
  React.ComponentProps<"a">

const PaginationLink = ({
  className,
  isActive,
  size = "icon",
  ...props
}: PaginationLinkProps) => (
  <a
    aria-current={isActive ? "page" : undefined}
    className={cn(
      buttonVariants({
        variant: isActive ? "outline" : "ghost",
        size,
      }),
      className
    )}
    {...props}
  />
)
PaginationLink.displayName = "PaginationLink"

const PaginationPrevious = ({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink
    aria-label="Go to previous page"
    size="default"
    className={cn("gap-1 pl-2.5", className)}
    {...props}
  >
    <ChevronLeft className="h-4 w-4" />
    <span>Previous</span>
  </PaginationLink>
)
PaginationPrevious.displayName = "PaginationPrevious"

const PaginationNext = ({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink
    aria-label="Go to next page"
    size="default"
    className={cn("gap-1 pr-2.5", className)}
    {...props}
  >
    <span>Next</span>
    <ChevronRight className="h-4 w-4" />
  </PaginationLink>
)
PaginationNext.displayName = "PaginationNext"

const PaginationEllipsis = ({
  className,
  ...props
}: React.ComponentProps<"span">) => (
  <span
    aria-hidden
    className={cn("flex h-9 w-9 items-center justify-center", className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More pages</span>
  </span>
)
PaginationEllipsis.displayName = "PaginationEllipsis"

export {
  Pagination,
  PaginationContent,
  PaginationEllipsis,
  PaginationItem,
  PaginationLink,
  PaginationNext,
  PaginationPrevious,
}


===== components/ui/drawer.tsx =====
"use client"

import * as React from "react"
import { Drawer as DrawerPrimitive } from "vaul"

import { cn } from "@/lib/utils"

const Drawer = ({
  shouldScaleBackground = true,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (
  <DrawerPrimitive.Root
    shouldScaleBackground={shouldScaleBackground}
    {...props}
  />
)
Drawer.displayName = "Drawer"

const DrawerTrigger = DrawerPrimitive.Trigger

const DrawerPortal = DrawerPrimitive.Portal

const DrawerClose = DrawerPrimitive.Close

const DrawerOverlay = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Overlay
    ref={ref}
    className={cn("fixed inset-0 z-50 bg-black/80", className)}
    {...props}
  />
))
DrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName

const DrawerContent = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DrawerPortal>
    <DrawerOverlay />
    <DrawerPrimitive.Content
      ref={ref}
      className={cn(
        "fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",
        className
      )}
      {...props}
    >
      <div className="mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted" />
      {children}
    </DrawerPrimitive.Content>
  </DrawerPortal>
))
DrawerContent.displayName = "DrawerContent"

const DrawerHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn("grid gap-1.5 p-4 text-center sm:text-left", className)}
    {...props}
  />
)
DrawerHeader.displayName = "DrawerHeader"

const DrawerFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn("mt-auto flex flex-col gap-2 p-4", className)}
    {...props}
  />
)
DrawerFooter.displayName = "DrawerFooter"

const DrawerTitle = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
DrawerTitle.displayName = DrawerPrimitive.Title.displayName

const DrawerDescription = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
DrawerDescription.displayName = DrawerPrimitive.Description.displayName

export {
  Drawer,
  DrawerPortal,
  DrawerOverlay,
  DrawerTrigger,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerFooter,
  DrawerTitle,
  DrawerDescription,
}


===== components/ui/popover.tsx =====
"use client"

import * as React from "react"
import * as PopoverPrimitive from "@radix-ui/react-popover"

import { cn } from "@/lib/utils"

const Popover = PopoverPrimitive.Root

const PopoverTrigger = PopoverPrimitive.Trigger

const PopoverContent = React.forwardRef<
  React.ElementRef<typeof PopoverPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>
>(({ className, align = "center", sideOffset = 4, ...props }, ref) => (
  <PopoverPrimitive.Portal>
    <PopoverPrimitive.Content
      ref={ref}
      align={align}
      sideOffset={sideOffset}
      className={cn(
        "z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    />
  </PopoverPrimitive.Portal>
))
PopoverContent.displayName = PopoverPrimitive.Content.displayName

export { Popover, PopoverTrigger, PopoverContent }


===== components/ui/sidebar.tsx =====
"use client"

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { VariantProps, cva } from "class-variance-authority"
import { PanelLeft } from "lucide-react"

import { useIsMobile } from "@/hooks/use-mobile"
import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import { Sheet, SheetContent } from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"

const SIDEBAR_COOKIE_NAME = "sidebar:state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "3rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

type SidebarContext = {
  state: "expanded" | "collapsed"
  open: boolean
  setOpen: (open: boolean) => void
  openMobile: boolean
  setOpenMobile: (open: boolean) => void
  isMobile: boolean
  toggleSidebar: () => void
}

const SidebarContext = React.createContext<SidebarContext | null>(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

const SidebarProvider = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    defaultOpen?: boolean
    open?: boolean
    onOpenChange?: (open: boolean) => void
  }
>(
  (
    {
      defaultOpen = true,
      open: openProp,
      onOpenChange: setOpenProp,
      className,
      style,
      children,
      ...props
    },
    ref
  ) => {
    const isMobile = useIsMobile()
    const [openMobile, setOpenMobile] = React.useState(false)

    // This is the internal state of the sidebar.
    // We use openProp and setOpenProp for control from outside the component.
    const [_open, _setOpen] = React.useState(defaultOpen)
    const open = openProp ?? _open
    const setOpen = React.useCallback(
      (value: boolean | ((value: boolean) => boolean)) => {
        const openState = typeof value === "function" ? value(open) : value
        if (setOpenProp) {
          setOpenProp(openState)
        } else {
          _setOpen(openState)
        }

        // This sets the cookie to keep the sidebar state.
        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
      },
      [setOpenProp, open]
    )

    // Helper to toggle the sidebar.
    const toggleSidebar = React.useCallback(() => {
      return isMobile
        ? setOpenMobile((open) => !open)
        : setOpen((open) => !open)
    }, [isMobile, setOpen, setOpenMobile])

    // Adds a keyboard shortcut to toggle the sidebar.
    React.useEffect(() => {
      const handleKeyDown = (event: KeyboardEvent) => {
        if (
          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
          (event.metaKey || event.ctrlKey)
        ) {
          event.preventDefault()
          toggleSidebar()
        }
      }

      window.addEventListener("keydown", handleKeyDown)
      return () => window.removeEventListener("keydown", handleKeyDown)
    }, [toggleSidebar])

    // We add a state so that we can do data-state="expanded" or "collapsed".
    // This makes it easier to style the sidebar with Tailwind classes.
    const state = open ? "expanded" : "collapsed"

    const contextValue = React.useMemo<SidebarContext>(
      () => ({
        state,
        open,
        setOpen,
        isMobile,
        openMobile,
        setOpenMobile,
        toggleSidebar,
      }),
      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
    )

    return (
      <SidebarContext.Provider value={contextValue}>
        <TooltipProvider delayDuration={0}>
          <div
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH,
                "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
                ...style,
              } as React.CSSProperties
            }
            className={cn(
              "group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",
              className
            )}
            ref={ref}
            {...props}
          >
            {children}
          </div>
        </TooltipProvider>
      </SidebarContext.Provider>
    )
  }
)
SidebarProvider.displayName = "SidebarProvider"

const Sidebar = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    side?: "left" | "right"
    variant?: "sidebar" | "floating" | "inset"
    collapsible?: "offcanvas" | "icon" | "none"
  }
>(
  (
    {
      side = "left",
      variant = "sidebar",
      collapsible = "offcanvas",
      className,
      children,
      ...props
    },
    ref
  ) => {
    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()

    if (collapsible === "none") {
      return (
        <div
          className={cn(
            "flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",
            className
          )}
          ref={ref}
          {...props}
        >
          {children}
        </div>
      )
    }

    if (isMobile) {
      return (
        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
          <SheetContent
            data-sidebar="sidebar"
            data-mobile="true"
            className="w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden"
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
              } as React.CSSProperties
            }
            side={side}
          >
            <div className="flex h-full w-full flex-col">{children}</div>
          </SheetContent>
        </Sheet>
      )
    }

    return (
      <div
        ref={ref}
        className="group peer hidden md:block text-sidebar-foreground"
        data-state={state}
        data-collapsible={state === "collapsed" ? collapsible : ""}
        data-variant={variant}
        data-side={side}
      >
        {/* This is what handles the sidebar gap on desktop */}
        <div
          className={cn(
            "duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear",
            "group-data-[collapsible=offcanvas]:w-0",
            "group-data-[side=right]:rotate-180",
            variant === "floating" || variant === "inset"
              ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon]"
          )}
        />
        <div
          className={cn(
            "duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",
            side === "left"
              ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
              : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
            // Adjust the padding for floating and inset variants.
            variant === "floating" || variant === "inset"
              ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",
            className
          )}
          {...props}
        >
          <div
            data-sidebar="sidebar"
            className="flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"
          >
            {children}
          </div>
        </div>
      </div>
    )
  }
)
Sidebar.displayName = "Sidebar"

const SidebarTrigger = React.forwardRef<
  React.ElementRef<typeof Button>,
  React.ComponentProps<typeof Button>
>(({ className, onClick, ...props }, ref) => {
  const { toggleSidebar } = useSidebar()

  return (
    <Button
      ref={ref}
      data-sidebar="trigger"
      variant="ghost"
      size="icon"
      className={cn("h-7 w-7", className)}
      onClick={(event) => {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}
    >
      <PanelLeft />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  )
})
SidebarTrigger.displayName = "SidebarTrigger"

const SidebarRail = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button">
>(({ className, ...props }, ref) => {
  const { toggleSidebar } = useSidebar()

  return (
    <button
      ref={ref}
      data-sidebar="rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex",
        "[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className
      )}
      {...props}
    />
  )
})
SidebarRail.displayName = "SidebarRail"

const SidebarInset = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"main">
>(({ className, ...props }, ref) => {
  return (
    <main
      ref={ref}
      className={cn(
        "relative flex min-h-svh flex-1 flex-col bg-background",
        "peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",
        className
      )}
      {...props}
    />
  )
})
SidebarInset.displayName = "SidebarInset"

const SidebarInput = React.forwardRef<
  React.ElementRef<typeof Input>,
  React.ComponentProps<typeof Input>
>(({ className, ...props }, ref) => {
  return (
    <Input
      ref={ref}
      data-sidebar="input"
      className={cn(
        "h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",
        className
      )}
      {...props}
    />
  )
})
SidebarInput.displayName = "SidebarInput"

const SidebarHeader = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
})
SidebarHeader.displayName = "SidebarHeader"

const SidebarFooter = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
})
SidebarFooter.displayName = "SidebarFooter"

const SidebarSeparator = React.forwardRef<
  React.ElementRef<typeof Separator>,
  React.ComponentProps<typeof Separator>
>(({ className, ...props }, ref) => {
  return (
    <Separator
      ref={ref}
      data-sidebar="separator"
      className={cn("mx-2 w-auto bg-sidebar-border", className)}
      {...props}
    />
  )
})
SidebarSeparator.displayName = "SidebarSeparator"

const SidebarContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarContent.displayName = "SidebarContent"

const SidebarGroup = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  )
})
SidebarGroup.displayName = "SidebarGroup"

const SidebarGroupLabel = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & { asChild?: boolean }
>(({ className, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "div"

  return (
    <Comp
      ref={ref}
      data-sidebar="group-label"
      className={cn(
        "duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className
      )}
      {...props}
    />
  )
})
SidebarGroupLabel.displayName = "SidebarGroupLabel"

const SidebarGroupAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & { asChild?: boolean }
>(({ className, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      ref={ref}
      data-sidebar="group-action"
      className={cn(
        "absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarGroupAction.displayName = "SidebarGroupAction"

const SidebarGroupContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-sidebar="group-content"
    className={cn("w-full text-sm", className)}
    {...props}
  />
))
SidebarGroupContent.displayName = "SidebarGroupContent"

const SidebarMenu = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    data-sidebar="menu"
    className={cn("flex w-full min-w-0 flex-col gap-1", className)}
    {...props}
  />
))
SidebarMenu.displayName = "SidebarMenu"

const SidebarMenuItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ className, ...props }, ref) => (
  <li
    ref={ref}
    data-sidebar="menu-item"
    className={cn("group/menu-item relative", className)}
    {...props}
  />
))
SidebarMenuItem.displayName = "SidebarMenuItem"

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:!p-0",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

const SidebarMenuButton = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean
    isActive?: boolean
    tooltip?: string | React.ComponentProps<typeof TooltipContent>
  } & VariantProps<typeof sidebarMenuButtonVariants>
>(
  (
    {
      asChild = false,
      isActive = false,
      variant = "default",
      size = "default",
      tooltip,
      className,
      ...props
    },
    ref
  ) => {
    const Comp = asChild ? Slot : "button"
    const { isMobile, state } = useSidebar()

    const button = (
      <Comp
        ref={ref}
        data-sidebar="menu-button"
        data-size={size}
        data-active={isActive}
        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
        {...props}
      />
    )

    if (!tooltip) {
      return button
    }

    if (typeof tooltip === "string") {
      tooltip = {
        children: tooltip,
      }
    }

    return (
      <Tooltip>
        <TooltipTrigger asChild>{button}</TooltipTrigger>
        <TooltipContent
          side="right"
          align="center"
          hidden={state !== "collapsed" || isMobile}
          {...tooltip}
        />
      </Tooltip>
    )
  }
)
SidebarMenuButton.displayName = "SidebarMenuButton"

const SidebarMenuAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean
    showOnHover?: boolean
  }
>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-action"
      className={cn(
        "absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",
        className
      )}
      {...props}
    />
  )
})
SidebarMenuAction.displayName = "SidebarMenuAction"

const SidebarMenuBadge = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-sidebar="menu-badge"
    className={cn(
      "absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none",
      "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
      "peer-data-[size=sm]/menu-button:top-1",
      "peer-data-[size=default]/menu-button:top-1.5",
      "peer-data-[size=lg]/menu-button:top-2.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  />
))
SidebarMenuBadge.displayName = "SidebarMenuBadge"

const SidebarMenuSkeleton = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    showIcon?: boolean
  }
>(({ className, showIcon = false, ...props }, ref) => {
  // Random width between 50 to 90%.
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`
  }, [])

  return (
    <div
      ref={ref}
      data-sidebar="menu-skeleton"
      className={cn("rounded-md h-8 flex gap-2 px-2 items-center", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 flex-1 max-w-[--skeleton-width]"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  )
})
SidebarMenuSkeleton.displayName = "SidebarMenuSkeleton"

const SidebarMenuSub = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    data-sidebar="menu-sub"
    className={cn(
      "mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  />
))
SidebarMenuSub.displayName = "SidebarMenuSub"

const SidebarMenuSubItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ ...props }, ref) => <li ref={ref} {...props} />)
SidebarMenuSubItem.displayName = "SidebarMenuSubItem"

const SidebarMenuSubButton = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentProps<"a"> & {
    asChild?: boolean
    size?: "sm" | "md"
    isActive?: boolean
  }
>(({ asChild = false, size = "md", isActive, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarMenuSubButton.displayName = "SidebarMenuSubButton"

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}


===== components/ui/slider.tsx =====
"use client"

import * as React from "react"
import * as SliderPrimitive from "@radix-ui/react-slider"

import { cn } from "@/lib/utils"

const Slider = React.forwardRef<
  React.ElementRef<typeof SliderPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>
>(({ className, ...props }, ref) => (
  <SliderPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex w-full touch-none select-none items-center",
      className
    )}
    {...props}
  >
    <SliderPrimitive.Track className="relative h-2 w-full grow overflow-hidden rounded-full bg-secondary">
      <SliderPrimitive.Range className="absolute h-full bg-primary" />
    </SliderPrimitive.Track>
    <SliderPrimitive.Thumb className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" />
  </SliderPrimitive.Root>
))
Slider.displayName = SliderPrimitive.Root.displayName

export { Slider }


===== components/ui/separator.tsx =====
"use client"

import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

const Separator = React.forwardRef<
  React.ElementRef<typeof SeparatorPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
>(
  (
    { className, orientation = "horizontal", decorative = true, ...props },
    ref
  ) => (
    <SeparatorPrimitive.Root
      ref={ref}
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "shrink-0 bg-border",
        orientation === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]",
        className
      )}
      {...props}
    />
  )
)
Separator.displayName = SeparatorPrimitive.Root.displayName

export { Separator }


===== components/ui/collapsible.tsx =====
"use client"

import * as CollapsiblePrimitive from "@radix-ui/react-collapsible"

const Collapsible = CollapsiblePrimitive.Root

const CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger

const CollapsibleContent = CollapsiblePrimitive.CollapsibleContent

export { Collapsible, CollapsibleTrigger, CollapsibleContent }


===== components/ui/input.tsx =====
import * as React from "react"

import { cn } from "@/lib/utils"

const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<"input">>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Input.displayName = "Input"

export { Input }


===== components/ui/sheet.tsx =====
"use client"

import * as React from "react"
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Sheet = SheetPrimitive.Root

const SheetTrigger = SheetPrimitive.Trigger

const SheetClose = SheetPrimitive.Close

const SheetPortal = SheetPrimitive.Portal

const SheetOverlay = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  />
))
SheetOverlay.displayName = SheetPrimitive.Overlay.displayName

const sheetVariants = cva(
  "fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
  {
    variants: {
      side: {
        top: "inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",
        bottom:
          "inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",
        left: "inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",
        right:
          "inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",
      },
    },
    defaultVariants: {
      side: "right",
    },
  }
)

interface SheetContentProps
  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,
    VariantProps<typeof sheetVariants> {}

const SheetContent = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Content>,
  SheetContentProps
>(({ side = "right", className, children, ...props }, ref) => (
  <SheetPortal>
    <SheetOverlay />
    <SheetPrimitive.Content
      ref={ref}
      className={cn(sheetVariants({ side }), className)}
      {...props}
    >
      {children}
      <SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </SheetPrimitive.Close>
    </SheetPrimitive.Content>
  </SheetPortal>
))
SheetContent.displayName = SheetPrimitive.Content.displayName

const SheetHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
SheetHeader.displayName = "SheetHeader"

const SheetFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
SheetFooter.displayName = "SheetFooter"

const SheetTitle = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold text-foreground", className)}
    {...props}
  />
))
SheetTitle.displayName = SheetPrimitive.Title.displayName

const SheetDescription = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
SheetDescription.displayName = SheetPrimitive.Description.displayName

export {
  Sheet,
  SheetPortal,
  SheetOverlay,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}


===== components/ui/alert-dialog.tsx =====
"use client"

import * as React from "react"
import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog"

import { cn } from "@/lib/utils"
import { buttonVariants } from "@/components/ui/button"

const AlertDialog = AlertDialogPrimitive.Root

const AlertDialogTrigger = AlertDialogPrimitive.Trigger

const AlertDialogPortal = AlertDialogPrimitive.Portal

const AlertDialogOverlay = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  />
))
AlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName

const AlertDialogContent = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>
>(({ className, ...props }, ref) => (
  <AlertDialogPortal>
    <AlertDialogOverlay />
    <AlertDialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    />
  </AlertDialogPortal>
))
AlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName

const AlertDialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
AlertDialogHeader.displayName = "AlertDialogHeader"

const AlertDialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
AlertDialogFooter.displayName = "AlertDialogFooter"

const AlertDialogTitle = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold", className)}
    {...props}
  />
))
AlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName

const AlertDialogDescription = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
AlertDialogDescription.displayName =
  AlertDialogPrimitive.Description.displayName

const AlertDialogAction = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Action>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Action
    ref={ref}
    className={cn(buttonVariants(), className)}
    {...props}
  />
))
AlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName

const AlertDialogCancel = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Cancel
    ref={ref}
    className={cn(
      buttonVariants({ variant: "outline" }),
      "mt-2 sm:mt-0",
      className
    )}
    {...props}
  />
))
AlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName

export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
}


===== components/ui/menubar.tsx =====
"use client"

import * as React from "react"
import * as MenubarPrimitive from "@radix-ui/react-menubar"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const MenubarMenu = MenubarPrimitive.Menu

const MenubarGroup = MenubarPrimitive.Group

const MenubarPortal = MenubarPrimitive.Portal

const MenubarSub = MenubarPrimitive.Sub

const MenubarRadioGroup = MenubarPrimitive.RadioGroup

const Menubar = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Root
    ref={ref}
    className={cn(
      "flex h-10 items-center space-x-1 rounded-md border bg-background p-1",
      className
    )}
    {...props}
  />
))
Menubar.displayName = MenubarPrimitive.Root.displayName

const MenubarTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      className
    )}
    {...props}
  />
))
MenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName

const MenubarSubTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <MenubarPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </MenubarPrimitive.SubTrigger>
))
MenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName

const MenubarSubContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
MenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName

const MenubarContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>
>(
  (
    { className, align = "start", alignOffset = -4, sideOffset = 8, ...props },
    ref
  ) => (
    <MenubarPrimitive.Portal>
      <MenubarPrimitive.Content
        ref={ref}
        align={align}
        alignOffset={alignOffset}
        sideOffset={sideOffset}
        className={cn(
          "z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
          className
        )}
        {...props}
      />
    </MenubarPrimitive.Portal>
  )
)
MenubarContent.displayName = MenubarPrimitive.Content.displayName

const MenubarItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
MenubarItem.displayName = MenubarPrimitive.Item.displayName

const MenubarCheckboxItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <MenubarPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.CheckboxItem>
))
MenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName

const MenubarRadioItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <MenubarPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.RadioItem>
))
MenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName

const MenubarLabel = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
MenubarLabel.displayName = MenubarPrimitive.Label.displayName

const MenubarSeparator = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
MenubarSeparator.displayName = MenubarPrimitive.Separator.displayName

const MenubarShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    />
  )
}
MenubarShortcut.displayname = "MenubarShortcut"

export {
  Menubar,
  MenubarMenu,
  MenubarTrigger,
  MenubarContent,
  MenubarItem,
  MenubarSeparator,
  MenubarLabel,
  MenubarCheckboxItem,
  MenubarRadioGroup,
  MenubarRadioItem,
  MenubarPortal,
  MenubarSubContent,
  MenubarSubTrigger,
  MenubarGroup,
  MenubarSub,
  MenubarShortcut,
}


===== components/ui/command.tsx =====
"use client"

import * as React from "react"
import { type DialogProps } from "@radix-ui/react-dialog"
import { Command as CommandPrimitive } from "cmdk"
import { Search } from "lucide-react"

import { cn } from "@/lib/utils"
import { Dialog, DialogContent } from "@/components/ui/dialog"

const Command = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive>
>(({ className, ...props }, ref) => (
  <CommandPrimitive
    ref={ref}
    className={cn(
      "flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",
      className
    )}
    {...props}
  />
))
Command.displayName = CommandPrimitive.displayName

const CommandDialog = ({ children, ...props }: DialogProps) => {
  return (
    <Dialog {...props}>
      <DialogContent className="overflow-hidden p-0 shadow-lg">
        <Command className="[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  )
}

const CommandInput = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Input>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>
>(({ className, ...props }, ref) => (
  <div className="flex items-center border-b px-3" cmdk-input-wrapper="">
    <Search className="mr-2 h-4 w-4 shrink-0 opacity-50" />
    <CommandPrimitive.Input
      ref={ref}
      className={cn(
        "flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    />
  </div>
))

CommandInput.displayName = CommandPrimitive.Input.displayName

const CommandList = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.List
    ref={ref}
    className={cn("max-h-[300px] overflow-y-auto overflow-x-hidden", className)}
    {...props}
  />
))

CommandList.displayName = CommandPrimitive.List.displayName

const CommandEmpty = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Empty>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>
>((props, ref) => (
  <CommandPrimitive.Empty
    ref={ref}
    className="py-6 text-center text-sm"
    {...props}
  />
))

CommandEmpty.displayName = CommandPrimitive.Empty.displayName

const CommandGroup = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Group>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Group
    ref={ref}
    className={cn(
      "overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",
      className
    )}
    {...props}
  />
))

CommandGroup.displayName = CommandPrimitive.Group.displayName

const CommandSeparator = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 h-px bg-border", className)}
    {...props}
  />
))
CommandSeparator.displayName = CommandPrimitive.Separator.displayName

const CommandItem = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
      className
    )}
    {...props}
  />
))

CommandItem.displayName = CommandPrimitive.Item.displayName

const CommandShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    />
  )
}
CommandShortcut.displayName = "CommandShortcut"

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
}


===== components/ui/accordion.tsx =====
"use client"

import * as React from "react"
import * as AccordionPrimitive from "@radix-ui/react-accordion"
import { ChevronDown } from "lucide-react"

import { cn } from "@/lib/utils"

const Accordion = AccordionPrimitive.Root

const AccordionItem = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>
>(({ className, ...props }, ref) => (
  <AccordionPrimitive.Item
    ref={ref}
    className={cn("border-b", className)}
    {...props}
  />
))
AccordionItem.displayName = "AccordionItem"

const AccordionTrigger = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Header className="flex">
    <AccordionPrimitive.Trigger
      ref={ref}
      className={cn(
        "flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",
        className
      )}
      {...props}
    >
      {children}
      <ChevronDown className="h-4 w-4 shrink-0 transition-transform duration-200" />
    </AccordionPrimitive.Trigger>
  </AccordionPrimitive.Header>
))
AccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName

const AccordionContent = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Content
    ref={ref}
    className="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"
    {...props}
  >
    <div className={cn("pb-4 pt-0", className)}>{children}</div>
  </AccordionPrimitive.Content>
))

AccordionContent.displayName = AccordionPrimitive.Content.displayName

export { Accordion, AccordionItem, AccordionTrigger, AccordionContent }


===== components/ui/resizable.tsx =====
"use client"

import { GripVertical } from "lucide-react"
import * as ResizablePrimitive from "react-resizable-panels"

import { cn } from "@/lib/utils"

const ResizablePanelGroup = ({
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (
  <ResizablePrimitive.PanelGroup
    className={cn(
      "flex h-full w-full data-[panel-group-direction=vertical]:flex-col",
      className
    )}
    {...props}
  />
)

const ResizablePanel = ResizablePrimitive.Panel

const ResizableHandle = ({
  withHandle,
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {
  withHandle?: boolean
}) => (
  <ResizablePrimitive.PanelResizeHandle
    className={cn(
      "relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",
      className
    )}
    {...props}
  >
    {withHandle && (
      <div className="z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border">
        <GripVertical className="h-2.5 w-2.5" />
      </div>
    )}
  </ResizablePrimitive.PanelResizeHandle>
)

export { ResizablePanelGroup, ResizablePanel, ResizableHandle }


===== components/ui/breadcrumb.tsx =====
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { ChevronRight, MoreHorizontal } from "lucide-react"

import { cn } from "@/lib/utils"

const Breadcrumb = React.forwardRef<
  HTMLElement,
  React.ComponentPropsWithoutRef<"nav"> & {
    separator?: React.ReactNode
  }
>(({ ...props }, ref) => <nav ref={ref} aria-label="breadcrumb" {...props} />)
Breadcrumb.displayName = "Breadcrumb"

const BreadcrumbList = React.forwardRef<
  HTMLOListElement,
  React.ComponentPropsWithoutRef<"ol">
>(({ className, ...props }, ref) => (
  <ol
    ref={ref}
    className={cn(
      "flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",
      className
    )}
    {...props}
  />
))
BreadcrumbList.displayName = "BreadcrumbList"

const BreadcrumbItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentPropsWithoutRef<"li">
>(({ className, ...props }, ref) => (
  <li
    ref={ref}
    className={cn("inline-flex items-center gap-1.5", className)}
    {...props}
  />
))
BreadcrumbItem.displayName = "BreadcrumbItem"

const BreadcrumbLink = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentPropsWithoutRef<"a"> & {
    asChild?: boolean
  }
>(({ asChild, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      ref={ref}
      className={cn("transition-colors hover:text-foreground", className)}
      {...props}
    />
  )
})
BreadcrumbLink.displayName = "BreadcrumbLink"

const BreadcrumbPage = React.forwardRef<
  HTMLSpanElement,
  React.ComponentPropsWithoutRef<"span">
>(({ className, ...props }, ref) => (
  <span
    ref={ref}
    role="link"
    aria-disabled="true"
    aria-current="page"
    className={cn("font-normal text-foreground", className)}
    {...props}
  />
))
BreadcrumbPage.displayName = "BreadcrumbPage"

const BreadcrumbSeparator = ({
  children,
  className,
  ...props
}: React.ComponentProps<"li">) => (
  <li
    role="presentation"
    aria-hidden="true"
    className={cn("[&>svg]:w-3.5 [&>svg]:h-3.5", className)}
    {...props}
  >
    {children ?? <ChevronRight />}
  </li>
)
BreadcrumbSeparator.displayName = "BreadcrumbSeparator"

const BreadcrumbEllipsis = ({
  className,
  ...props
}: React.ComponentProps<"span">) => (
  <span
    role="presentation"
    aria-hidden="true"
    className={cn("flex h-9 w-9 items-center justify-center", className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More</span>
  </span>
)
BreadcrumbEllipsis.displayName = "BreadcrumbElipssis"

export {
  Breadcrumb,
  BreadcrumbList,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbPage,
  BreadcrumbSeparator,
  BreadcrumbEllipsis,
}


===== components/ui/avatar.tsx =====
"use client"

import * as React from "react"
import * as AvatarPrimitive from "@radix-ui/react-avatar"

import { cn } from "@/lib/utils"

const Avatar = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",
      className
    )}
    {...props}
  />
))
Avatar.displayName = AvatarPrimitive.Root.displayName

const AvatarImage = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Image>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Image
    ref={ref}
    className={cn("aspect-square h-full w-full", className)}
    {...props}
  />
))
AvatarImage.displayName = AvatarPrimitive.Image.displayName

const AvatarFallback = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Fallback>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Fallback
    ref={ref}
    className={cn(
      "flex h-full w-full items-center justify-center rounded-full bg-muted",
      className
    )}
    {...props}
  />
))
AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName

export { Avatar, AvatarImage, AvatarFallback }


===== components/order-tracking.tsx =====
"use client"

import { motion, AnimatePresence } from "framer-motion"
import { Check, Clock, Truck, Package, MapPin, Phone, X } from "lucide-react"
import { Button } from "@/components/ui/button"

interface OrderTrackingModalProps {
  isOpen: boolean
  onClose: () => void
  order: any
}

export function OrderTrackingModal({ isOpen, onClose, order }: OrderTrackingModalProps) {
  const getProgressSteps = (status: string) => {
    const steps = [
      { id: "confirmed", label: "Order Confirmed", icon: Check, time: "2 mins ago" },
      { id: "preparing", label: "Preparing Order", icon: Package, time: "15 mins ago" },
      { id: "shipped", label: "Out for Delivery", icon: Truck, time: status === "shipped" ? "1 hour ago" : null },
      { id: "delivered", label: "Delivered", icon: MapPin, time: status === "completed" ? "30 mins ago" : null },
    ]

    const currentIndex = steps.findIndex((step) => {
      if (status === "processing") return step.id === "preparing"
      if (status === "shipped") return step.id === "shipped"
      if (status === "completed") return step.id === "delivered"
      return false
    })

    return steps.map((step, index) => ({
      ...step,
      completed: index <= currentIndex,
      active: index === currentIndex,
    }))
  }

  if (!order) return null

  const steps = getProgressSteps(order.status)

  return (
    <AnimatePresence>
      {isOpen && (
        <>
          {/* Backdrop */}
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50"
            onClick={onClose}
          />

          {/* Modal */}
          <motion.div
            initial={{ opacity: 0, scale: 0.9, y: 50 }}
            animate={{ opacity: 1, scale: 1, y: 0 }}
            exit={{ opacity: 0, scale: 0.9, y: 50 }}
            className="fixed inset-0 z-50 flex items-center justify-center p-4"
            onClick={(e) => e.stopPropagation()}
          >
            <div className="bg-black/90 backdrop-blur-xl rounded-2xl border border-white/10 w-full max-w-2xl max-h-[90vh] overflow-y-auto">
              {/* Header */}
              <div className="sticky top-0 bg-black/90 backdrop-blur-xl border-b border-white/10 p-6 flex items-center justify-between">
                <h2 className="text-xl font-bold">Order Tracking</h2>
                <Button
                  variant="ghost"
                  size="sm"
                  onClick={onClose}
                  className="hover:bg-white/10 rounded-lg"
                >
                  <X className="h-5 w-5" />
                </Button>
              </div>

              {/* Content */}
              <div className="p-6 space-y-6">
                {/* Order Header */}
                <div className="glass-effect rounded-lg p-6">
                  <div className="flex items-center justify-between mb-4">
                    <div>
                      <h3 className="text-lg font-bold">Order #{order.orderNumber || order.id.split("-").pop()}</h3>
                      <p className="text-sm text-gray-400">
                        Placed on{" "}
                        {new Date(order.date).toLocaleDateString("en-KE", {
                          weekday: "long",
                          year: "numeric",
                          month: "long",
                          day: "numeric",
                        })}
                      </p>
                    </div>
                    <div className="text-right">
                      <p className="text-lg font-bold">KES {order.total.toLocaleString()}</p>
                      <p className="text-sm text-gray-400">{order.items.length} items</p>
                    </div>
                  </div>

                  {/* Estimated Delivery */}
                  <div className="glass-effect rounded-lg p-4 bg-blue-500/10 border border-blue-500/20">
                    <div className="flex items-center space-x-3">
                      <Clock className="h-5 w-5 text-blue-400" />
                      <div>
                        <p className="font-medium text-blue-400">
                          {order.status === "completed" ? "Delivered" : "Estimated Delivery"}
                        </p>
                        <p className="text-sm text-gray-300">
                          {new Date(order.deliveryDate).toLocaleDateString("en-KE", {
                            weekday: "long",
                            month: "long",
                            day: "numeric",
                            hour: "2-digit",
                            minute: "2-digit",
                          })}
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

                {/* Progress Tracking */}
                <div className="glass-effect rounded-lg p-6">
                  <h4 className="font-medium mb-6">Order Progress</h4>

                  <div className="space-y-6">
                    {steps.map((step, index) => (
                      <motion.div
                        key={step.id}
                        initial={{ opacity: 0, x: -20 }}
                        animate={{ opacity: 1, x: 0 }}
                        transition={{ delay: index * 0.1 }}
                        className="flex items-center space-x-4"
                      >
                        <div
                          className={`relative flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${
                            step.completed
                              ? "bg-green-500 text-white"
                              : step.active
                                ? "bg-blue-500 text-white animate-pulse"
                                : "bg-gray-600 text-gray-400"
                          }`}
                        >
                          <step.icon className="h-5 w-5" />
                          {index < steps.length - 1 && (
                            <div
                              className={`absolute top-10 left-1/2 transform -translate-x-1/2 w-0.5 h-6 ${
                                step.completed ? "bg-green-500" : "bg-gray-600"
                              }`}
                            />
                          )}
                        </div>

                        <div className="flex-1">
                          <p className={`font-medium ${step.completed ? "text-white" : "text-gray-400"}`}>{step.label}</p>
                          {step.time && <p className="text-xs text-gray-500">{step.time}</p>}
                        </div>
                      </motion.div>
                    ))}
                  </div>
                </div>

                {/* Delivery Details */}
                <div className="glass-effect rounded-lg p-6">
                  <h4 className="font-medium mb-4">Delivery Information</h4>

                  <div className="space-y-4">
                    <div className="flex items-start space-x-3">
                      <MapPin className="h-5 w-5 text-gray-400 mt-0.5" />
                      <div>
                        <p className="font-medium">Delivery Address</p>
                        <p className="text-sm text-gray-400">
                          123 Nairobi Street, Westlands
                          <br />
                          Nairobi, 00100
                        </p>
                      </div>
                    </div>

                    <div className="flex items-start space-x-3">
                      <Phone className="h-5 w-5 text-gray-400 mt-0.5" />
                      <div>
                        <p className="font-medium">Contact Number</p>
                        <p className="text-sm text-gray-400">+254 712 345 678</p>
                      </div>
                    </div>

                    {order.status === "shipped" && (
                      <div className="glass-effect rounded-lg p-4 bg-green-500/10 border border-green-500/20">
                        <div className="flex items-center space-x-3">
                          <Truck className="h-5 w-5 text-green-400" />
                          <div>
                            <p className="font-medium text-green-400">Driver: James Mwangi</p>
                            <p className="text-sm text-gray-300">Vehicle: KCA 123A</p>
                            <p className="text-sm text-gray-300">ETA: 15-20 minutes</p>
                          </div>
                        </div>
                      </div>
                    )}
                  </div>
                </div>

                {/* Order Items */}
                <div className="glass-effect rounded-lg p-6">
                  <h4 className="font-medium mb-4">Order Items</h4>

                  <div className="space-y-3">
                    {order.items.map((item: any) => (
                      <div key={item.id} className="flex items-center justify-between py-2">
                        <div className="flex items-center space-x-3">
                          <div className="w-12 h-12 bg-white/10 rounded-lg flex items-center justify-center">
                            <Package className="h-6 w-6 text-gray-400" />
                          </div>
                          <div>
                            <p className="font-medium">{item.name}</p>
                            <p className="text-sm text-gray-400">Qty: {item.quantity}</p>
                          </div>
                        </div>
                        <p className="font-medium">KES {(item.price * item.quantity).toLocaleString()}</p>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            </div>
          </motion.div>
        </>
      )}
    </AnimatePresence>
  )
}

===== components/product-shortcuts.tsx =====
"use client"

import { motion } from "framer-motion"
import { Plus, Sparkles } from "lucide-react"
import { Button } from "@/components/ui/button"

interface Product {
  id: number
  name: string
  price: number
  category: string
  description: string
  image: string
}

interface ProductShortcutsProps {
  products: Product[]
  onQuickAdd: (product: Product) => void
  onViewAll: () => void
}

export function ProductShortcuts({ products, onQuickAdd, onViewAll }: ProductShortcutsProps) {
  // Safety check to ensure products is an array
  const safeProducts = Array.isArray(products) ? products : []

  // Get essential products for shortcuts
  const essentialProducts = safeProducts
    .filter(
      (product) =>
        // Show smaller unit cooking oils, flour, and other daily essentials
        (product.category.includes("Cooking Oils") && product.price < 300) ||
        (product.category.includes("Flour") && product.price < 100) ||
        (product.category.includes("Personal Care") && product.price < 200) ||
        (product.category.includes("Cleaning") && product.price < 200) ||
        (product.category.includes("Dairy") && product.price < 400),
    )
    .slice(0, 3)

  return (
    <div className="border-t border-white/5 pt-3">
      <p className="text-xs text-gray-500 mb-2 text-center">Quick add:</p>
      <div className="flex gap-2 justify-center overflow-x-auto scrollbar-hide">
        {essentialProducts.map((product, index) => (
          <motion.div
            key={product.id}
            initial={{ opacity: 0, x: -10 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: index * 0.05 }}
            whileHover={{ scale: 1.02 }}
            whileTap={{ scale: 0.98 }}
            className="flex-shrink-0"
          >
            <Button
              variant="ghost"
              size="sm"
              onClick={() => onQuickAdd(product)}
              className="text-xs bg-white/5 hover:bg-white/10 border border-white/10 hover:border-purple-500/30 rounded-lg px-3 py-2 h-auto transition-all duration-300 whitespace-nowrap"
            >
              <Plus className="h-3 w-3 mr-1" />
              <div className="text-left">
                <div className="font-medium text-xs">{product.name.split(" ").slice(0, 2).join(" ")}</div>
                <div className="text-green-400 font-bold text-xs">KES {product.price.toLocaleString()}</div>
              </div>
            </Button>
          </motion.div>
        ))}

        <motion.div
          initial={{ opacity: 0, x: -10 }}
          animate={{ opacity: 1, x: 0 }}
          transition={{ delay: 0.15 }}
          whileHover={{ scale: 1.02 }}
          whileTap={{ scale: 0.98 }}
          className="flex-shrink-0"
        >
          <Button
            variant="ghost"
            size="sm"
            onClick={onViewAll}
            className="text-xs bg-gradient-to-r from-purple-500/20 to-pink-500/20 hover:from-purple-500/30 hover:to-pink-500/30 border border-purple-500/30 hover:border-purple-500/50 rounded-lg px-3 py-2 h-auto text-purple-300 transition-all duration-300 whitespace-nowrap"
          >
            <Sparkles className="h-3 w-3 mr-1" />
            <div className="text-left">
              <div className="font-medium text-xs">View All</div>
              <div className="text-purple-400 text-xs">120+ items</div>
            </div>
          </Button>
        </motion.div>
      </div>
    </div>
  )
}


===== components/image-upload.tsx =====
"use client"

import type React from "react"

import { useState, useRef } from "react"
import { motion } from "framer-motion"
import { Upload, X, ImageIcon } from "lucide-react"
import { Button } from "@/components/ui/button"

interface ImageUploadProps {
  currentImage?: string
  onImageChange: (imageUrl: string) => void
  className?: string
}

export function ImageUpload({ currentImage, onImageChange, className = "" }: ImageUploadProps) {
  const [dragActive, setDragActive] = useState(false)
  const [uploading, setUploading] = useState(false)
  const fileInputRef = useRef<HTMLInputElement>(null)

  const handleFiles = async (files: FileList) => {
    const file = files[0]
    if (!file) return

    // Validate file type
    if (!file.type.startsWith("image/")) {
      alert("Please upload an image file")
      return
    }

    // Validate file size (5MB max)
    if (file.size > 5 * 1024 * 1024) {
      alert("File size must be less than 5MB")
      return
    }

    setUploading(true)

    try {
      // In a real app, you'd upload to your server/cloud storage
      // For now, we'll create a local URL
      const imageUrl = URL.createObjectURL(file)
      onImageChange(imageUrl)
    } catch (error) {
      console.error("Upload failed:", error)
      alert("Upload failed. Please try again.")
    } finally {
      setUploading(false)
    }
  }

  const handleDrag = (e: React.DragEvent) => {
    e.preventDefault()
    e.stopPropagation()
    if (e.type === "dragenter" || e.type === "dragover") {
      setDragActive(true)
    } else if (e.type === "dragleave") {
      setDragActive(false)
    }
  }

  const handleDrop = (e: React.DragEvent) => {
    e.preventDefault()
    e.stopPropagation()
    setDragActive(false)

    if (e.dataTransfer.files && e.dataTransfer.files[0]) {
      handleFiles(e.dataTransfer.files)
    }
  }

  const handleClick = () => {
    fileInputRef.current?.click()
  }

  return (
    <div className={`space-y-4 ${className}`}>
      {/* Current Image Preview */}
      {currentImage && (
        <div className="relative">
          <img
            src={currentImage || "/placeholder.svg"}
            alt="Product preview"
            className="w-full h-32 object-cover rounded-lg"
            onError={(e) => {
              const target = e.target as HTMLImageElement
              target.src = `/placeholder.svg?height=128&width=200`
            }}
          />
          <Button
            type="button"
            variant="ghost"
            size="sm"
            onClick={() => onImageChange("")}
            className="absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white"
          >
            <X className="h-3 w-3" />
          </Button>
        </div>
      )}

      {/* Upload Area */}
      <motion.div
        className={`relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-300 cursor-pointer ${
          dragActive ? "border-blue-500 bg-blue-500/10" : "border-white/20 hover:border-white/40 hover:bg-white/5"
        }`}
        onDragEnter={handleDrag}
        onDragLeave={handleDrag}
        onDragOver={handleDrag}
        onDrop={handleDrop}
        onClick={handleClick}
        whileHover={{ scale: 1.02 }}
        whileTap={{ scale: 0.98 }}
      >
        <input
          ref={fileInputRef}
          type="file"
          accept="image/*"
          onChange={(e) => e.target.files && handleFiles(e.target.files)}
          className="hidden"
        />

        {uploading ? (
          <div className="space-y-2">
            <motion.div
              animate={{ rotate: 360 }}
              transition={{ duration: 1, repeat: Number.POSITIVE_INFINITY, ease: "linear" }}
            >
              <Upload className="h-8 w-8 mx-auto text-blue-400" />
            </motion.div>
            <p className="text-sm text-gray-400">Uploading...</p>
          </div>
        ) : (
          <div className="space-y-2">
            <ImageIcon className="h-8 w-8 mx-auto text-gray-400" />
            <div>
              <p className="text-sm font-medium">Click to upload or drag and drop</p>
              <p className="text-xs text-gray-500">PNG, JPG, WebP up to 5MB</p>
            </div>
          </div>
        )}
      </motion.div>
    </div>
  )
}


===== components/checkout-modal.tsx =====
"use client";

import { useState, useEffect, useRef } from "react";
import { motion, AnimatePresence } from "framer-motion";
import { X, MapPin, Navigation, CreditCard, Smartphone, Banknote, AlertCircle, Search } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Textarea } from "@/components/ui/textarea";
import { db } from "@/lib/firebase";
import { collection, addDoc, serverTimestamp } from "firebase/firestore";

interface CartItem {
  id: number;
  name: string;
  price: number;
  quantity: number;
  category: string;
  description: string;
  image: string;
}

interface CheckoutModalProps {
  show: boolean;
  onClose: () => void;
  cart: CartItem[];
  onCheckoutComplete: (orderData: any) => void;
  user: any;
}

interface PlaceSuggestion {
  place_id: string;
  description: string;
  main_text: string;
  secondary_text: string;
}

declare global {
  interface Window {
    google: any;
  }
}

export function CheckoutModal({ show, onClose, cart, onCheckoutComplete, user }: CheckoutModalProps) {
  const [step, setStep] = useState(1);
  const [paymentMethod, setPaymentMethod] = useState("mpesa");
  const [phoneNumber, setPhoneNumber] = useState(user?.phone || "");
  const [deliveryAddress, setDeliveryAddress] = useState(user?.address || "");
  const [deliveryNotes, setDeliveryNotes] = useState("");
  const [selectedLocation, setSelectedLocation] = useState<{ lat: number; lng: number } | null>(null);
  const [isLoadingLocation, setIsLoadingLocation] = useState(false);
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [mapError, setMapError] = useState<string | null>(null);
  const [isMapLoaded, setIsMapLoaded] = useState(false);
  
  // New states for autocomplete
  const [searchQuery, setSearchQuery] = useState("");
  const [suggestions, setSuggestions] = useState<PlaceSuggestion[]>([]);
  const [showSuggestions, setShowSuggestions] = useState(false);
  const [isLoadingSuggestions, setIsLoadingSuggestions] = useState(false);

  const mapRef = useRef<HTMLDivElement>(null);
  const mapInstanceRef = useRef<any>(null);
  const markerRef = useRef<any>(null);
  const autocompleteServiceRef = useRef<any>(null);
  const placesServiceRef = useRef<any>(null);

  const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);

  // Check if Google Maps API key is available
  const apiKey = process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY;

  // Load Google Maps script with error handling
  useEffect(() => {
    if (show && !window.google && !isMapLoaded) {
      if (!apiKey) {
        setMapError("Google Maps API key is not configured. Please add NEXT_PUBLIC_GOOGLE_MAPS_API_KEY to your environment variables.");
        return;
      }

      const script = document.createElement("script");
      script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places`;
      script.async = true;
      script.defer = true;
      
      script.onload = () => {
        setIsMapLoaded(true);
        setMapError(null);
      };
      
      script.onerror = () => {
        setMapError("Failed to load Google Maps. Please check your API key and internet connection.");
      };

      document.head.appendChild(script);
    }
  }, [show, apiKey, isMapLoaded]);

  // Initialize Google Maps
  useEffect(() => {
    if (show && step === 1 && mapRef.current && window.google && isMapLoaded && !mapError) {
      initializeMap();
    }
  }, [show, step, isMapLoaded, mapError]);

  const initializeMap = () => {
    if (!mapRef.current || !window.google) return;

    try {
      // Default to Nairobi center
      const defaultLocation = { lat: -1.2921, lng: 36.8219 };

      const map = new window.google.maps.Map(mapRef.current, {
        zoom: 13,
        center: selectedLocation || defaultLocation,
        mapTypeControl: false,
        fullscreenControl: false,
        streetViewControl: false,
        zoomControl: true,
        styles: [
          {
            "featureType": "all",
            "elementType": "labels.text.fill",
            "stylers": [{ "color": "#ffffff" }]
          },
          {
            "featureType": "all",
            "elementType": "labels.text.stroke",
            "stylers": [{ "color": "#000000" }, { "lightness": 13 }]
          },
          {
            "featureType": "administrative",
            "elementType": "geometry.fill",
            "stylers": [{ "color": "#000000" }]
          },
          {
            "featureType": "administrative",
            "elementType": "geometry.stroke",
            "stylers": [{ "color": "#144b53" }, { "lightness": 14 }, { "weight": 1.4 }]
          },
          {
            "featureType": "landscape",
            "elementType": "all",
            "stylers": [{ "color": "#08304b" }]
          },
          {
            "featureType": "poi",
            "elementType": "geometry",
            "stylers": [{ "color": "#0c4152" }, { "lightness": 5 }]
          },
          {
            "featureType": "road.highway",
            "elementType": "geometry.fill",
            "stylers": [{ "color": "#000000" }]
          },
          {
            "featureType": "road.highway",
            "elementType": "geometry.stroke",
            "stylers": [{ "color": "#0b434f" }, { "lightness": 25 }]
          },
          {
            "featureType": "road.arterial",
            "elementType": "geometry.fill",
            "stylers": [{ "color": "#000000" }]
          },
          {
            "featureType": "road.arterial",
            "elementType": "geometry.stroke",
            "stylers": [{ "color": "#0b3d51" }, { "lightness": 16 }]
          },
          {
            "featureType": "road.local",
            "elementType": "geometry",
            "stylers": [{ "color": "#000000" }]
          },
          {
            "featureType": "transit",
            "elementType": "all",
            "stylers": [{ "color": "#146474" }]
          },
          {
            "featureType": "water",
            "elementType": "all",
            "stylers": [{ "color": "#021019" }]
          }
        ],
      });

      mapInstanceRef.current = map;

      // Initialize Places services
      autocompleteServiceRef.current = new window.google.maps.places.AutocompleteService();
      placesServiceRef.current = new window.google.maps.places.PlacesService(map);

      // Add click listener to place marker
      map.addListener("click", (event: any) => {
        placeMarker(event.latLng);
      });

      // Add existing marker if location is selected
      if (selectedLocation) {
        placeMarker(new window.google.maps.LatLng(selectedLocation.lat, selectedLocation.lng));
      }
    } catch (error) {
      console.error("Error initializing map:", error);
      setMapError("Failed to initialize the map. Please refresh the page and try again.");
    }
  };

  const placeMarker = (location: any) => {
    if (!window.google || !mapInstanceRef.current) return;

    try {
      // Remove existing marker
      if (markerRef.current) {
        markerRef.current.setMap(null);
      }

      // Create new marker with custom icon
      const marker = new window.google.maps.Marker({
        position: location,
        map: mapInstanceRef.current,
        draggable: true,
        animation: window.google.maps.Animation.DROP,
        icon: {
          path: window.google.maps.SymbolPath.CIRCLE,
          scale: 8,
          fillColor: "#8B5CF6",
          fillOpacity: 1,
          strokeColor: "#ffffff",
          strokeWeight: 2,
        },
      });

      markerRef.current = marker;

      // Update selected location
      setSelectedLocation({
        lat: location.lat(),
        lng: location.lng(),
      });

      // Reverse geocode to get address
      const geocoder = new window.google.maps.Geocoder();
      geocoder.geocode({ location }, (results: any, status: any) => {
        if (status === "OK" && results[0]) {
          setDeliveryAddress(results[0].formatted_address);
          setSearchQuery(results[0].formatted_address);
        }
      });

      // Add drag listener
      marker.addListener("dragend", (event: any) => {
        const newLocation = {
          lat: event.latLng.lat(),
          lng: event.latLng.lng(),
        };
        setSelectedLocation(newLocation);

        // Update address
        geocoder.geocode({ location: event.latLng }, (results: any, status: any) => {
          if (status === "OK" && results[0]) {
            setDeliveryAddress(results[0].formatted_address);
            setSearchQuery(results[0].formatted_address);
          }
        });
      });
    } catch (error) {
      console.error("Error placing marker:", error);
      setMapError("Failed to place marker. Please try again.");
    }
  };

  const handleSearchChange = (value: string) => {
    setSearchQuery(value);
    
    if (value.length > 2 && autocompleteServiceRef.current) {
      setIsLoadingSuggestions(true);
      
      autocompleteServiceRef.current.getPlacePredictions(
        {
          input: value,
          componentRestrictions: { country: 'ke' }, // Restrict to Kenya
          types: ['establishment', 'geocode'],
        },
        (predictions: any, status: any) => {
          setIsLoadingSuggestions(false);
          
          if (status === window.google.maps.places.PlacesServiceStatus.OK && predictions) {
            const formattedSuggestions = predictions.map((prediction: any) => ({
              place_id: prediction.place_id,
              description: prediction.description,
              main_text: prediction.structured_formatting.main_text,
              secondary_text: prediction.structured_formatting.secondary_text,
            }));
            setSuggestions(formattedSuggestions);
            setShowSuggestions(true);
          } else {
            setSuggestions([]);
            setShowSuggestions(false);
          }
        }
      );
    } else {
      setSuggestions([]);
      setShowSuggestions(false);
    }
  };

  const handleSuggestionClick = (suggestion: PlaceSuggestion) => {
    if (!placesServiceRef.current) return;

    placesServiceRef.current.getDetails(
      { placeId: suggestion.place_id },
      (place: any, status: any) => {
        if (status === window.google.maps.places.PlacesServiceStatus.OK && place.geometry) {
          const location = place.geometry.location;
          
          setSelectedLocation({
            lat: location.lat(),
            lng: location.lng(),
          });
          
          setDeliveryAddress(place.formatted_address);
          setSearchQuery(place.formatted_address);
          setShowSuggestions(false);
          
          // Update map center and place marker
          if (mapInstanceRef.current) {
            mapInstanceRef.current.setCenter(location);
            mapInstanceRef.current.setZoom(15);
            placeMarker(location);
          }
        }
      }
    );
  };

  const getCurrentLocation = () => {
    if (!navigator.geolocation) {
      alert("Geolocation is not supported by your browser");
      return;
    }

    setIsLoadingLocation(true);

    navigator.geolocation.getCurrentPosition(
      (position) => {
        const location = {
          lat: position.coords.latitude,
          lng: position.coords.longitude,
        };

        setSelectedLocation(location);

        if (mapInstanceRef.current && window.google) {
          mapInstanceRef.current.setCenter(location);
          mapInstanceRef.current.setZoom(15);
          placeMarker(new window.google.maps.LatLng(location.lat, location.lng));
        }

        setIsLoadingLocation(false);
      },
      (error) => {
        console.error("Geolocation error:", error);
        let errorMessage = "Unable to get your location. ";
        
        switch (error.code) {
          case error.PERMISSION_DENIED:
            errorMessage += "Please enable location permissions and try again.";
            break;
          case error.POSITION_UNAVAILABLE:
            errorMessage += "Location information is unavailable.";
            break;
          case error.TIMEOUT:
            errorMessage += "Location request timed out.";
            break;
          default:
            errorMessage += "An unknown error occurred.";
            break;
        }
        
        alert(errorMessage);
        setIsLoadingLocation(false);
      },
      {
        enableHighAccuracy: true,
        timeout: 10000,
        maximumAge: 300000 // 5 minutes
      }
    );
  };

  const handleCheckout = async () => {
    if (!user) {
      alert("Please log in to complete the checkout.");
      return;
    }

    if (!selectedLocation || !deliveryAddress) {
      alert("Please select a delivery location on the map.");
      return;
    }

    setIsSubmitting(true);

    try {
      // Prepare order data matching Firestore schema
      const orderData = {
        userId: user.uid,
        items: cart.map((item) => ({
          id: item.id,
          name: item.name,
          price: item.price,
          quantity: item.quantity,
          category: item.category,
          description: item.description,
          image: item.image,
        })),
        total,
        status: "pending",
        paymentStatus: "pending",
        paymentMethod,
        deliveryAddress: {
          address: deliveryAddress,
          location: selectedLocation,
          notes: deliveryNotes,
        },
        deliveryDate: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),
        createdAt: serverTimestamp(),
        updatedAt: serverTimestamp(),
      };

      // Save order to Firestore
      const orderRef = await addDoc(collection(db, "orders"), orderData);

      // Initiate M-Pesa payment if selected
      if (paymentMethod === "mpesa") {
        const paymentResponse = await fetch("/api/payments", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            orderId: orderRef.id,
            userId: user.uid,
            amount: total,
            phoneNumber,
          }),
        });

        const paymentData = await paymentResponse.json();

        if (!paymentData.success) {
          throw new Error(paymentData.error || "Failed to initiate M-Pesa payment");
        }

        // Save payment to Firestore
        await addDoc(collection(db, "payments"), {
          orderId: orderRef.id,
          userId: user.uid,
          amount: total,
          phoneNumber,
          provider: "mpesa",
          status: "pending",
          checkoutRequestId: paymentData.checkoutRequestId,
          transactionId: "",
          transactionData: {},
          description: `Payment for order ${orderRef.id}`,
          createdAt: serverTimestamp(),
          updatedAt: serverTimestamp(),
        });
      }

      onCheckoutComplete({ id: orderRef.id, ...orderData });
      setStep(1);
      setSelectedLocation(null);
      setDeliveryAddress("");
      setDeliveryNotes("");
      setPhoneNumber("");
      setSearchQuery("");
      onClose();
    } catch (error: any) {
      console.error("Checkout error:", error);
      alert(`Checkout failed: ${error.message}`);
    } finally {
      setIsSubmitting(false);
    }
  };

  const renderStep1 = () => (
    <div className="space-y-6">
      <div>
        <h3 className="text-lg font-semibold text-white mb-4 flex items-center">
          <MapPin className="h-5 w-5 mr-2 text-purple-400" />
          Delivery Location
        </h3>

        {/* Search Box */}
        <div className="relative mb-4">
          <div className="relative">
            <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" />
            <Input
              value={searchQuery}
              onChange={(e) => handleSearchChange(e.target.value)}
              onFocus={() => suggestions.length > 0 && setShowSuggestions(true)}
              placeholder="Search for places, restaurants, landmarks..."
              className="pl-10 bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-purple-500"
            />
            {isLoadingSuggestions && (
              <div className="absolute right-3 top-1/2 transform -translate-y-1/2">
                <div className="w-4 h-4 border-2 border-purple-500 border-t-transparent rounded-full animate-spin" />
              </div>
            )}
          </div>
          
          {/* Suggestions Dropdown */}
          {showSuggestions && suggestions.length > 0 && (
            <div className="absolute z-10 w-full mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-xl max-h-60 overflow-y-auto">
              {suggestions.map((suggestion) => (
                <button
                  key={suggestion.place_id}
                  onClick={() => handleSuggestionClick(suggestion)}
                  className="w-full px-4 py-3 text-left hover:bg-white/10 border-b border-white/10 last:border-b-0 focus:outline-none focus:bg-white/10"
                >
                  <div className="text-white font-medium">{suggestion.main_text}</div>
                  <div className="text-gray-400 text-sm">{suggestion.secondary_text}</div>
                </button>
              ))}
            </div>
          )}
        </div>

        {/* Map Container */}
        <div className="relative">
          {mapError ? (
            <div className="w-full h-64 rounded-lg border border-red-500/20 bg-red-900/20 flex items-center justify-center">
              <div className="text-center text-red-400 p-4">
                <AlertCircle className="h-8 w-8 mx-auto mb-2" />
                <p className="text-sm">{mapError}</p>
                <p className="text-xs mt-2 text-red-300">
                  You can still enter your address manually below
                </p>
              </div>
            </div>
          ) : (
            <>
              <div 
                ref={mapRef} 
                className="w-full h-64 rounded-lg border border-white/20 bg-gray-900 shadow-lg" 
                style={{ minHeight: '300px' }}
              />
              <Button
                onClick={getCurrentLocation}
                disabled={isLoadingLocation || !isMapLoaded}
                className="absolute top-3 right-3 bg-purple-600 hover:bg-purple-700 text-white text-xs px-3 py-2 h-auto shadow-lg"
              >
                <Navigation className="h-3 w-3 mr-1" />
                {isLoadingLocation ? "Getting..." : "Current Location"}
              </Button>
            </>
          )}
        </div>

        {!mapError && (
          <p className="text-sm text-gray-400 mt-2">
            🔍 Search for places above, click on the map to place a pin, or use your current location
          </p>
        )}
      </div>

      {/* Address Display */}
      <div>
        <Label htmlFor="address" className="text-white">
          Delivery Address
        </Label>
        <Textarea
          id="address"
          value={deliveryAddress}
          onChange={(e) => setDeliveryAddress(e.target.value)}
          className="mt-1 bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-purple-500"
          rows={2}
          placeholder="Enter your delivery address"
        />
      </div>

      {/* Delivery Notes */}
      <div>
        <Label htmlFor="notes" className="text-white">
          Delivery Notes (Optional)
        </Label>
        <Textarea
          id="notes"
          value={deliveryNotes}
          onChange={(e) => setDeliveryNotes(e.target.value)}
          placeholder="Building name, floor, apartment number, etc."
          className="mt-1 bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-purple-500"
          rows={2}
        />
      </div>
    </div>
  );

  const renderStep2 = () => (
    <div className="space-y-6">
      <div>
        <h3 className="text-lg font-semibold text-white mb-4">Payment Method</h3>
        <div className="grid grid-cols-1 gap-3">
          <motion.button
            whileHover={{ scale: 1.02 }}
            whileTap={{ scale: 0.98 }}
            onClick={() => setPaymentMethod("mpesa")}
            className={`p-4 rounded-lg border-2 transition-all duration-300 ${
              paymentMethod === "mpesa"
                ? "border-green-500 bg-green-500/10"
                : "border-white/10 bg-white/5 hover:border-green-500/50"
            }`}
          >
            <div className="flex items-center space-x-3">
              <Smartphone className="h-6 w-6 text-green-400" />
              <div className="text-left">
                <p className="font-medium text-white">M-Pesa</p>
                <p className="text-sm text-gray-400">Pay with your mobile money</p>
              </div>
            </div>
          </motion.button>

          <motion.button
            whileHover={{ scale: 1.02 }}
            whileTap={{ scale: 0.98 }}
            onClick={() => setPaymentMethod("card")}
            className={`p-4 rounded-lg border-2 transition-all duration-300 ${
              paymentMethod === "card"
                ? "border-blue-500 bg-blue-500/10"
                : "border-white/10 bg-white/5 hover:border-blue-500/50"
            }`}
          >
            <div className="flex items-center space-x-3">
              <CreditCard className="h-6 w-6 text-blue-400" />
              <div className="text-left">
                <p className="font-medium text-white">Card Payment</p>
                <p className="text-sm text-gray-400">Visa, Mastercard</p>
              </div>
            </div>
          </motion.button>

          <motion.button
            whileHover={{ scale: 1.02 }}
            whileTap={{ scale: 0.98 }}
            onClick={() => setPaymentMethod("cash")}
            className={`p-4 rounded-lg border-2 transition-all duration-300 ${
              paymentMethod === "cash"
                ? "border-yellow-500 bg-yellow-500/10"
                : "border-white/10 bg-white/5 hover:border-yellow-500/50"
            }`}
          >
            <div className="flex items-center space-x-3">
              <Banknote className="h-6 w-6 text-yellow-400" />
              <div className="text-left">
                <p className="font-medium text-white">Cash on Delivery</p>
                <p className="text-sm text-gray-400">Pay when you receive</p>
              </div>
            </div>
          </motion.button>
        </div>
      </div>

      {paymentMethod === "mpesa" && (
        <div>
          <Label htmlFor="phone" className="text-white">
            M-Pesa Phone Number
          </Label>
          <Input
            id="phone"
            type="tel"
            value={phoneNumber}
            onChange={(e) => setPhoneNumber(e.target.value)}
            placeholder="254712345678"
            className="mt-1 bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-purple-500"
          />
        </div>
      )}
    </div>
  );

  const renderOrderSummary = () => (
    <div className="bg-white/5 rounded-lg p-4 space-y-3">
      <h4 className="font-medium text-white">Order Summary</h4>
      {cart.map((item) => (
        <div key={item.id} className="flex justify-between text-sm">
          <span className="text-gray-300">
            {item.name} × {item.quantity}
          </span>
          <span className="text-white">KES {(item.price * item.quantity).toLocaleString()}</span>
        </div>
      ))}
      <div className="border-t border-white/10 pt-3">
        <div className="flex justify-between font-medium">
          <span className="text-white">Total</span>
          <span className="text-white">KES {total.toLocaleString()}</span>
        </div>
      </div>
    </div>
  );

  return (
    <AnimatePresence>
      {show && (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          className="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4"
          onClick={onClose}
        >
          <motion.div
            initial={{ scale: 0.9, opacity: 0, y: 20 }}
            animate={{ scale: 1, opacity: 1, y: 0 }}
            exit={{ scale: 0.9, opacity: 0, y: 20 }}
            transition={{ type: "spring", duration: 0.5 }}
            className="bg-gray-900 rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto"
            onClick={(e) => e.stopPropagation()}
          >
            {/* Header */}
            <div className="flex items-center justify-between mb-6">
              <h2 className="text-2xl font-bold text-white">{step === 1 ? "Delivery Details" : "Payment & Review"}</h2>
              <Button
                variant="ghost"
                size="sm"
                onClick={onClose}
                className="text-gray-400 hover:text-white hover:bg-white/10 rounded-full p-2"
              >
                <X className="h-5 w-5" />
              </Button>
            </div>

            {/* Progress Indicator */}
            <div className="flex items-center mb-8">
              <div
                className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${
                  step >= 1 ? "bg-purple-500 text-white" : "bg-white/10 text-gray-400"
                }`}
              >
                1
              </div>
              <div className={`flex-1 h-1 mx-3 ${step >= 2 ? "bg-purple-500" : "bg-white/10"}`} />
              <div
                className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${
                  step >= 2 ? "bg-purple-500 text-white" : "bg-white/10 text-gray-400"
                }`}
              >
                2
              </div>
            </div>

            {/* Step Content */}
            {step === 1 ? renderStep1() : renderStep2()}

            {/* Order Summary */}
            <div className="mt-8">{renderOrderSummary()}</div>

            {/* Actions */}
            <div className="flex space-x-3 mt-8">
              {step === 2 && (
                <Button
                  variant="outline"
                  onClick={() => setStep(1)}
                  className="flex-1 border-white/20 text-white hover:bg-white/10"
                >
                  Back
                </Button>
              )}
              <Button
                onClick={step === 1 ? () => setStep(2) : handleCheckout}
                disabled={step === 1 ? !deliveryAddress : isSubmitting}
                className="flex-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 disabled:opacity-50"
              >
                {step === 1 ? "Continue to Payment" : isSubmitting ? "Processing..." : `Pay KES ${total.toLocaleString()}`}
              </Button>
            </div>
          </motion.div>
        </motion.div>
      )}
    </AnimatePresence>
  );
}

===== components/all-products-modal.tsx =====
"use client"

import { motion, AnimatePresence } from "framer-motion"
import { X, Plus, Search } from "lucide-react"
import { Button } from "@/components/ui/button"
import { useState } from "react"

interface AllProductsModalProps {
  show: boolean
  onClose: () => void
  products: any[]
  onAddToCart: (product: any) => void
}

export function AllProductsModal({ show, onClose, products, onAddToCart }: AllProductsModalProps) {
  const [searchQuery, setSearchQuery] = useState("")
  
  // Safety check to ensure products is an array
  const safeProducts = Array.isArray(products) ? products : []
  
  // Filter products based on search query
  const filteredProducts = safeProducts.filter(product => 
    product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
    product.description.toLowerCase().includes(searchQuery.toLowerCase())
  )

  return (
    <AnimatePresence>
      {show && (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"
          onClick={onClose}
        >
          <motion.div
            initial={{ scale: 0.9, opacity: 0 }}
            animate={{ scale: 1, opacity: 1 }}
            exit={{ scale: 0.9, opacity: 0 }}
            className="glass-effect rounded-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden"
            onClick={(e) => e.stopPropagation()}
          >
            {/* Sticky Header */}
            <div className="sticky top-0 bg-black/80 backdrop-blur-sm border-b border-white/10 p-6 z-10">
              <div className="flex items-center justify-between mb-4">
                <h2 className="text-xl font-bold text-gradient">Products</h2>
                <Button variant="ghost" size="sm" onClick={onClose} className="hover:bg-white/10">
                  <X className="h-4 w-4" />
                </Button>
              </div>
              
              {/* Search Bar */}
              <div className="relative">
                <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" />
                <input
                  type="text"
                  placeholder="Search products..."
                  value={searchQuery}
                  onChange={(e) => setSearchQuery(e.target.value)}
                  className="w-full bg-black border border-white/20 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-200"
                />
              </div>
            </div>

            {/* Scrollable Content */}
            <div className="p-6 overflow-y-auto max-h-[calc(80vh-140px)]">
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                {filteredProducts.map((product, index) => (
                  <motion.div
                    key={product.id}
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: index * 0.05 }}
                    className="glass-effect rounded-lg p-4 hover:bg-white/5 transition-all duration-300"
                  >
                    <div className="aspect-square bg-white/10 rounded-lg mb-3 overflow-hidden">
                      <img
                        src={product.image || `/placeholder.svg?height=200&width=200`}
                        alt={product.name}
                        className="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
                        onError={(e) => {
                          const target = e.target as HTMLImageElement
                          target.src = `/placeholder.svg?height=200&width=200`
                        }}
                      />
                    </div>
                    <h3 className="font-medium mb-2">{product.name}</h3>
                    <p className="text-xs text-gray-400 mb-3">{product.description}</p>
                    <div className="flex items-center justify-between">
                      <span className="font-bold">KES {product.price.toLocaleString()}</span>
                      <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
                        <Button
                          size="sm"
                          onClick={() => {
                            onAddToCart(product)
                            onClose()
                          }}
                          className="bg-white text-black hover:bg-gray-200"
                        >
                          <Plus className="h-3 w-3 mr-1" />
                          Add
                        </Button>
                      </motion.div>
                    </div>
                  </motion.div>
                ))}
              </div>
              
              {/* No results message */}
              {filteredProducts.length === 0 && searchQuery && (
                <div className="text-center py-8">
                  <p className="text-gray-400">No products found matching "{searchQuery}"</p>
                </div>
              )}
            </div>
          </motion.div>
        </motion.div>
      )}
    </AnimatePresence>
  )
}

===== components/chat-view.tsx =====
"use client";

import { motion } from "framer-motion";
import { Grid3X3, Zap, Send, Home, User, Bot } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { ProductShortcuts } from "./product-shortcuts";
import { ProductCardResponse } from "./product-card-response";
import { useState, useEffect } from "react";

interface ChatViewProps {
  messages: any[];
  input: string;
  handleInputChange: (e: any) => void;
  handleSubmit: (e: any) => void;
  isLoading: boolean;
  products: any[];
  onQuickAdd: (product: any) => void;
  onViewAll: () => void;
  setCurrentView: (view: string) => void;
  onBackToMain: () => void;
  showBackButton?: boolean;
  isInSubView?: boolean;
  chatHistoryMinimized: boolean;
}

export function ChatView({
  messages,
  input,
  handleInputChange,
  handleSubmit,
  isLoading,
  products,
  onQuickAdd,
  onViewAll,
  setCurrentView,
  onBackToMain,
  showBackButton = false,
  isInSubView = false,
  chatHistoryMinimized,
}: ChatViewProps) {
  const welcomeMessages = [
    "Niaje.",
    "Twende.",
    "#Wantam",
    "What do you want to get?",
  ];
  const [randomMessage, setRandomMessage] = useState("");
  const [isLargeScreen, setIsLargeScreen] = useState(false);

  useEffect(() => {
    if (messages.length === 0) {
      const randomIndex = Math.floor(Math.random() * welcomeMessages.length);
      setRandomMessage(welcomeMessages[randomIndex]);
    }
  }, [messages.length]);

  // Handle screen size changes
  useEffect(() => {
    const checkScreenSize = () => {
      setIsLargeScreen(window.innerWidth >= 768);
    };

    checkScreenSize();
    window.addEventListener('resize', checkScreenSize);
    return () => window.removeEventListener('resize', checkScreenSize);
  }, []);

  // Handle Enter key press
  const handleKeyPress = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      if (input.trim() && !isLoading) {
        handleSubmit(e);
      }
    }
  };

  const renderMessage = (message: any, index: number) => {
    if (message.role === "user") {
      return (
        <motion.div
          key={message.id}
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: index * 0.1 }}
          className="flex justify-end mb-4 md:mb-8"
        >
          <div className="flex items-start space-x-2 md:space-x-3 max-w-xl md:max-w-2xl">
            <motion.div
              whileHover={{ scale: 1.01 }}
              className="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-3 md:px-6 md:py-4 rounded-2xl shadow-lg"
            >
              <p className="leading-relaxed text-sm md:text-base">{message.content}</p>
            </motion.div>
            <div className="w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0">
              <User className="h-3 w-3 md:h-4 md:w-4 text-white" />
            </div>
          </div>
        </motion.div>
      );
    }

    // AI Response
    return (
      <motion.div
        key={message.id}
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ delay: index * 0.1 }}
        className="flex justify-start mb-4 md:mb-8"
      >
        <div className="flex items-start space-x-2 md:space-x-3 max-w-full w-full">
          <div className="w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-blue-500 to-teal-500 flex items-center justify-center flex-shrink-0 mt-1">
            <Bot className="h-3 w-3 md:h-4 md:w-4 text-white" />
          </div>
          <div className="flex-1 space-y-4 min-w-0">
            {message.products && message.products.length > 0 ? (
              <div className="w-full overflow-hidden">
                <ProductCardResponse 
                  products={message.products} 
                  onAddToCart={onQuickAdd} 
                  explanation={message.content} 
                />
              </div>
            ) : (
              <div className="text-gray-300 leading-relaxed text-sm md:text-base">
                <p>{message.content}</p>
              </div>
            )}
          </div>
        </div>
      </motion.div>
    );
  };

  const shouldShowChatInput = messages.length > 0 || !isLargeScreen;

  // Calculate proper container styles based on sidebar state
  const getContainerStyle = () => {
    if (!isLargeScreen) return {};
    
    const sidebarWidth = chatHistoryMinimized ? 64 : 280;
    return {
      paddingLeft: `${sidebarWidth}px`,
      maxWidth: '100vw',
      boxSizing: 'border-box' as const,
    };
  };

  return (
    <div className="flex-1 flex flex-col min-h-[calc(100vh-64px)] relative transition-all duration-300">
      {/* Main Content Area - Scrollable */}
      <div 
        className="flex-1 flex flex-col items-center justify-center overflow-y-auto pb-4 md:pb-0"
        style={{
          scrollbarWidth: 'none',
          msOverflowStyle: 'none',
          ...getContainerStyle(),
        }}
      >
        <style jsx>{`
          div::-webkit-scrollbar {
            display: none;
          }
        `}</style>
        
        <div className="max-w-4xl w-full px-3 md:px-4 py-4 md:py-8 transition-all duration-300">
          {/* Back to Main Button - Only show when needed */}
          {(showBackButton || isInSubView) && (
            <motion.div initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} className="mb-4 md:mb-6">
              <Button variant="ghost" size="sm" onClick={onBackToMain} className="hover:bg-white/5 rounded-lg text-sm">
                <Home className="h-4 w-4 mr-2" />
                Back to Main
              </Button>
            </motion.div>
          )}

          {/* Welcome Screen */}
          {messages.length === 0 && (
            <div className="flex flex-col items-center justify-center min-h-[50vh] md:min-h-[60vh] px-4">
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.2 }}
                className="text-center mb-6 md:mb-8"
              >
                {/* Greeting with Glow Effect */}
                <motion.h1 
                  className="text-xl md:text-2xl lg:text-3xl font-extralight mb-4 relative"
                  animate={{
                    textShadow: [
                      "0 0 10px rgba(168, 85, 247, 0.5)",
                      "0 0 20px rgba(168, 85, 247, 0.8)",
                      "0 0 10px rgba(168, 85, 247, 0.5)"
                    ]
                  }}
                  transition={{
                    duration: 2,
                    repeat: Infinity,
                    repeatType: "reverse"
                  }}
                >
                  <span className="text-white bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
                    {randomMessage}
                  </span>
                </motion.h1>
              </motion.div>

              {/* Desktop Chat Input - Hidden on mobile */}
              {isLargeScreen && (
                <motion.div
                  initial={{ opacity: 0, y: 20 }}
                  animate={{ opacity: 1, y: 0 }}
                  transition={{ delay: 0.4 }}
                  className="w-full max-w-2xl mb-8"
                >
                  {/* Grok-style Chat Input */}
                  <div className="relative">
                    <form onSubmit={handleSubmit} className="relative">
                      <motion.div 
                        className="bg-gray-800/50 backdrop-blur-xl rounded-2xl border border-gray-700/50 py-3 px-4 shadow-2xl relative"
                        animate={{
                          boxShadow: [
                            "0 0 0 1px rgba(168, 85, 247, 0.2)",
                            "0 0 0 2px rgba(168, 85, 247, 0.4)",
                            "0 0 0 1px rgba(168, 85, 247, 0.2)"
                          ]
                        }}
                        transition={{
                          duration: 2,
                          repeat: Infinity,
                          repeatType: "reverse"
                        }}
                      >
                        <div className="flex flex-col space-y-3">
                          <div className="flex-1">
                            <textarea
                              value={input}
                              onChange={handleInputChange}
                              onKeyPress={handleKeyPress}
                              placeholder="Ask me about products..."
                              className="bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:border-0 focus:outline-none resize-none text-base h-auto p-0 shadow-none w-full min-h-[1.5rem] max-h-[9rem] overflow-y-auto"
                              disabled={isLoading}
                              rows={1}
                              style={{
                                height: 'auto',
                                minHeight: '1.5rem',
                                maxHeight: '9rem',
                                scrollbarWidth: 'none',
                                msOverflowStyle: 'none',
                              }}
                              onInput={(e) => {
                                const target = e.target as HTMLTextAreaElement;
                                target.style.height = 'auto';
                                target.style.height = Math.min(target.scrollHeight, 144) + 'px';
                              }}
                              maxLength={1000}
                            />
                          </div>
                          <div className="flex justify-end">
                            {/* Submit Button */}
                            <motion.button
                              type="submit"
                              disabled={isLoading || !input.trim()}
                              whileHover={{ scale: 1.05 }}
                              whileTap={{ scale: 0.95 }}
                              className="bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 rounded-xl px-4 py-2 transition-all duration-200 flex items-center justify-center min-w-[40px]"
                            >
                              <Send className="h-4 w-4" />
                            </motion.button>
                          </div>
                        </div>
                      </motion.div>
                    </form>
                  </div>
                </motion.div>
              )}

              {/* Product Shortcuts - Only show when no messages */}
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.5 }}
                className="w-full max-w-3xl mb-8"
              >
                <ProductShortcuts products={products} onQuickAdd={onQuickAdd} onViewAll={onViewAll} />
              </motion.div>
            </div>
          )}

          {/* Chat Messages with Better Spacing */}
          {messages.length > 0 && (
            <div className="flex flex-col items-center justify-center min-h-[50vh] md:min-h-[60vh]">
              <div className="w-full max-w-4xl space-y-4 md:space-y-8 pb-4 md:pb-24">
                {messages.map((message, index) => renderMessage(message, index))}
              </div>
            </div>
          )}

          {/* Loading Animation */}
          {isLoading && (
            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="flex justify-start mb-4 md:mb-8 pb-4 md:pb-24">
              <div className="flex items-start space-x-2 md:space-x-3">
                <div className="w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-blue-500 to-teal-500 flex items-center justify-center flex-shrink-0 mt-1">
                  <Bot className="h-3 w-3 md:h-4 md:w-4 text-white" />
                </div>
                <div className="flex space-x-2 mt-2">
                  <motion.div
                    className="w-2 h-2 bg-purple-400 rounded-full"
                    animate={{ y: [0, -8, 0] }}
                    transition={{ duration: 0.6, repeat: Number.POSITIVE_INFINITY, delay: 0 }}
                  />
                  <motion.div
                    className="w-2 h-2 bg-purple-400 rounded-full"
                    animate={{ y: [0, -8, 0] }}
                    transition={{ duration: 0.6, repeat: Number.POSITIVE_INFINITY, delay: 0.1 }}
                  />
                  <motion.div
                    className="w-2 h-2 bg-purple-400 rounded-full"
                    animate={{ y: [0, -8, 0] }}
                    transition={{ duration: 0.6, repeat: Number.POSITIVE_INFINITY, delay: 0.2 }}
                  />
                </div>
              </div>
            </motion.div>
          )}
        </div>
      </div>

      {/* Chat Input Area - Fixed at bottom with transparent background */}
      {shouldShowChatInput && (
        <div
          className="sticky bottom-0 z-30 transition-all duration-300 bg-transparent"
          style={getContainerStyle()}
        >
          <div className="max-w-2xl mx-auto p-3 md:p-4">
            {/* Grok-style Chat Input */}
            <div className="relative">
              <form onSubmit={handleSubmit} className="relative">
                <motion.div 
                  className="bg-gray-800/50 backdrop-blur-xl rounded-2xl border border-gray-700/50 py-3 px-4 shadow-2xl relative"
                  animate={{
                    boxShadow: [
                      "0 0 0 1px rgba(168, 85, 247, 0.2)",
                      "0 0 0 2px rgba(168, 85, 247, 0.4)",
                      "0 0 0 1px rgba(168, 85, 247, 0.2)"
                    ]
                  }}
                  transition={{
                    duration: 2,
                    repeat: Infinity,
                    repeatType: "reverse"
                  }}
                >
                  <div className="flex flex-col space-y-3">
                    <div className="flex-1">
                      <textarea
                        value={input}
                        onChange={handleInputChange}
                        onKeyPress={handleKeyPress}
                        placeholder={messages.length === 0 ? "Ask anything" : "Ask me about products..."}
                        className="bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:border-0 focus:outline-none resize-none text-sm md:text-base h-auto p-0 shadow-none w-full min-h-[1.5rem] max-h-[9rem] overflow-y-auto"
                        disabled={isLoading}
                        rows={1}
                        style={{
                          height: 'auto',
                          minHeight: '1.5rem',
                          maxHeight: '9rem',
                          scrollbarWidth: 'none',
                          msOverflowStyle: 'none',
                        }}
                        onInput={(e) => {
                          const target = e.target as HTMLTextAreaElement;
                          target.style.height = 'auto';
                          target.style.height = Math.min(target.scrollHeight, 144) + 'px';
                        }}
                        maxLength={1000}
                      />
                    </div>
                    <div className="flex justify-end">
                      {/* Submit Button */}
                      <motion.button
                        type="submit"
                        disabled={isLoading || !input.trim()}
                        whileHover={{ scale: 1.05 }}
                        whileTap={{ scale: 0.95 }}
                        className="bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 rounded-xl px-3 md:px-4 py-1.5 md:py-2 transition-all duration-200 flex items-center justify-center min-w-[36px] md:min-w-[40px]"
                      >
                        <Send className="h-3 w-3 md:h-4 md:w-4" />
                      </motion.button>
                    </div>
                  </div>
                </motion.div>
              </form>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}

===== components/cart-modal.tsx =====
"use client"

import { motion, AnimatePresence } from "framer-motion"
import { X, ShoppingCart, Minus, Plus, Trash2 } from "lucide-react"
import { Button } from "@/components/ui/button"

interface CartItem {
  id: number
  name: string
  price: number
  quantity: number
  category: string
  description: string
  image: string
}

interface CartModalProps {
  show: boolean
  onClose: () => void
  cart: CartItem[]
  onUpdateQuantity: (productId: number, quantity: number) => void
  onRemoveItem: (productId: number) => void
  onCheckout: () => void
}

export function CartModal({ show, onClose, cart, onUpdateQuantity, onRemoveItem, onCheckout }: CartModalProps) {
  const getTotalPrice = () => {
    return cart.reduce((total, item) => total + item.price * item.quantity, 0)
  }

  const getTotalItems = () => {
    return cart.reduce((total, item) => total + item.quantity, 0)
  }

  return (
    <AnimatePresence>
      {show && (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"
          onClick={onClose}
        >
          <motion.div
            initial={{ scale: 0.9, opacity: 0 }}
            animate={{ scale: 1, opacity: 1 }}
            exit={{ scale: 0.9, opacity: 0 }}
            className="glass-effect rounded-2xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto"
            onClick={(e) => e.stopPropagation()}
          >
            <div className="flex items-center justify-between mb-6">
              <div className="flex items-center space-x-2">
                <ShoppingCart className="h-5 w-5 text-blue-400" />
                <h2 className="text-xl font-bold text-gradient">Cart</h2>
              </div>
              <Button variant="ghost" size="sm" onClick={onClose} className="hover:bg-white/10">
                <X className="h-4 w-4" />
              </Button>
            </div>

            {cart.length === 0 ? (
              <div className="text-center py-8">
                <ShoppingCart className="h-16 w-16 mx-auto mb-4 text-gray-600" />
                <h3 className="text-lg font-medium mb-2">Desolate</h3>
                <p className="text-gray-400">Add some products to get started</p>
              </div>
            ) : (
              <>
                <div className="space-y-4 mb-6">
                  {cart.map((item, index) => (
                    <motion.div
                      key={item.id}
                      initial={{ opacity: 0, y: 20 }}
                      animate={{ opacity: 1, y: 0 }}
                      transition={{ delay: index * 0.1 }}
                      className="glass-effect rounded-lg p-4"
                    >
                      <div className="flex items-start justify-between mb-3">
                        <div className="flex-1">
                          <h3 className="font-medium text-sm">{item.name}</h3>
                          <p className="text-xs text-gray-400 mt-1">{item.category}</p>
                          <p className="text-sm font-bold text-green-400 mt-1">KES {item.price.toLocaleString()}</p>
                        </div>
                        <Button
                          variant="ghost"
                          size="sm"
                          onClick={() => onRemoveItem(item.id)}
                          className="text-red-400 hover:text-red-300 hover:bg-red-500/10"
                        >
                          <Trash2 className="h-4 w-4" />
                        </Button>
                      </div>

                      <div className="flex items-center justify-between">
                        <div className="flex items-center space-x-2">
                          <Button
                            variant="ghost"
                            size="sm"
                            onClick={() => onUpdateQuantity(item.id, item.quantity - 1)}
                            className="hover:bg-white/10 w-8 h-8"
                          >
                            <Minus className="h-3 w-3" />
                          </Button>
                          <span className="w-8 text-center text-sm font-medium">{item.quantity}</span>
                          <Button
                            variant="ghost"
                            size="sm"
                            onClick={() => onUpdateQuantity(item.id, item.quantity + 1)}
                            className="hover:bg-white/10 w-8 h-8"
                          >
                            <Plus className="h-3 w-3" />
                          </Button>
                        </div>
                        <span className="font-bold">KES {(item.price * item.quantity).toLocaleString()}</span>
                      </div>
                    </motion.div>
                  ))}
                </div>

                <div className="border-t border-white/10 pt-4">
                  <div className="flex items-center justify-between mb-4">
                    <div>
                      <p className="text-sm text-gray-400">{getTotalItems()} items</p>
                      <p className="text-lg font-bold">Total: KES {getTotalPrice().toLocaleString()}</p>
                    </div>
                  </div>

                  <motion.div whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }}>
                    <Button onClick={onCheckout} className="w-full bg-white text-black hover:bg-gray-200 rounded-xl">
                      Checkout
                    </Button>
                  </motion.div>
                </div>
              </>
            )}
          </motion.div>
        </motion.div>
      )}
    </AnimatePresence>
  )
}


===== components/theme-provider.tsx =====
'use client'

import * as React from 'react'
import {
  ThemeProvider as NextThemesProvider,
  type ThemeProviderProps,
} from 'next-themes'

export function ThemeProvider({ children, ...props }: ThemeProviderProps) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>
}


===== components/auth/login.tsx =====
"use client"

import type React from "react"

import { useState } from "react"
import { motion, AnimatePresence } from "framer-motion"
import { CheckCircle, AlertCircle, X } from "lucide-react"
import { Button } from "@/components/ui/button"
import { auth } from "@/lib/firebase"
import { GoogleAuthProvider, signInWithPopup } from "firebase/auth"
import { doc, getDoc, setDoc, getFirestore } from "firebase/firestore"

interface LoginProps {
  onLogin: (userData: any) => void
  onSwitchToSignup: () => void
  onClose: () => void
}

interface Message {
  id: string
  type: 'success' | 'error' | 'info'
  text: string
}

export function Login({ onLogin, onSwitchToSignup, onClose }: LoginProps) {
  const [isGoogleLoading, setIsGoogleLoading] = useState(false)
  const [messages, setMessages] = useState<Message[]>([])

  const db = getFirestore()
  const googleProvider = new GoogleAuthProvider()

  const addMessage = (type: 'success' | 'error' | 'info', text: string) => {
    const id = Date.now().toString()
    setMessages(prev => [...prev, { id, type, text }])
    
    // Auto-remove message after 5 seconds
    setTimeout(() => {
      setMessages(prev => prev.filter(msg => msg.id !== id))
    }, 5000)
  }

  const removeMessage = (id: string) => {
    setMessages(prev => prev.filter(msg => msg.id !== id))
  }

  const handleGoogleLogin = async () => {
    setIsGoogleLoading(true)
    addMessage('info', 'Signing you in with Google...')
    
    try {
      const result = await signInWithPopup(auth, googleProvider)
      const user = result.user
      
      // Check if user exists in Firestore, if not create a record
      const userDoc = await getDoc(doc(db, "users", user.uid))
      if (!userDoc.exists()) {
        await setDoc(doc(db, "users", user.uid), {
          name: user.displayName,
          email: user.email,
          phone: user.phoneNumber ?? "",
          createdAt: new Date().toISOString(),
          provider: "google",
          lastLogin: new Date().toISOString()
        })
      } else {
        // Update last login
        await setDoc(doc(db, "users", user.uid), {
          lastLogin: new Date().toISOString()
        }, { merge: true })
      }

      addMessage('success', 'Welcome back! You have been signed in successfully.')
      
      const userData = userDoc.exists() ? userDoc.data() : {
        uid: user.uid,
        name: user.displayName,
        email: user.email,
        phone: ""
      }
      
      onLogin({ uid: user.uid, ...userData })
    } catch (error: any) {
      console.error("Google login error:", error)

      let errorMessage = error.message || 'Failed to sign in with Google. Please try again.'

      if (error.code === 'auth/account-exists-with-different-credential') {
        errorMessage = 'An account already exists with this email using a different sign-in method.'
      } else if (error.code === 'auth/popup-closed-by-user') {
        errorMessage = 'Sign-in was cancelled. Please try again.'
      } else if (error.code === 'auth/popup-blocked') {
        errorMessage = 'Pop-up was blocked by your browser. Please allow pop-ups and try again.'
      } else if (error.code === 'auth/network-request-failed') {
        errorMessage = 'Network error. Please check your connection and try again.'
      }

      addMessage('error', errorMessage)
    } finally {
      setIsGoogleLoading(false)
    }
  }

  const handleBackdropClick = (e: React.MouseEvent) => {
    if (e.target === e.currentTarget) {
      onClose()
    }
  }

  const MessageIcon = ({ type }: { type: 'success' | 'error' | 'info' }) => {
    switch (type) {
      case 'success':
        return <CheckCircle className="h-4 w-4 text-green-400" />
      case 'error':
        return <AlertCircle className="h-4 w-4 text-red-400" />
      case 'info':
        return <AlertCircle className="h-4 w-4 text-blue-400" />
    }
  }

  return (
    <div
      className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"
      onClick={handleBackdropClick}
    >
      <div
        className="glass-effect rounded-2xl p-8 border border-white/10 relative"
        onClick={(e) => e.stopPropagation()}
      >
        {/* Messages */}
        <div className="fixed top-4 right-4 z-[60] space-y-2">
          <AnimatePresence>
            {messages.map((message) => (
              <motion.div
                key={message.id}
                initial={{ opacity: 0, x: 300, scale: 0.8 }}
                animate={{ opacity: 1, x: 0, scale: 1 }}
                exit={{ opacity: 0, x: 300, scale: 0.8 }}
                transition={{ duration: 0.3, type: "spring" }}
                className={`flex items-center gap-3 p-4 rounded-xl backdrop-blur-md border shadow-lg max-w-sm ${
                  message.type === 'success' 
                    ? 'bg-green-900/20 border-green-500/30 text-green-100' 
                    : message.type === 'error'
                    ? 'bg-red-900/20 border-red-500/30 text-red-100'
                    : 'bg-blue-900/20 border-blue-500/30 text-blue-100'
                }`}
              >
                <MessageIcon type={message.type} />
                <p className="text-sm font-medium flex-1">{message.text}</p>
                <button
                  onClick={() => removeMessage(message.id)}
                  className="text-gray-400 hover:text-white transition-colors"
                >
                  <X className="h-4 w-4" />
                </button>
              </motion.div>
            ))}
          </AnimatePresence>
        </div>

        <div className="w-full max-w-md">
          <div className="text-center mb-12">
            <motion.h1
              initial={{ opacity: 0, y: -20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ delay: 0.2 }}
              className="text-3xl font-bold mb-2"
            >
              <span className="text-white">vend</span>
              <span className="text-white font-black">ai</span>
            </motion.h1>
            <motion.p
              initial={{ opacity: 0, y: -10 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ delay: 0.4 }}
              className="text-gray-400 text-sm"
            >
              AI shopping assistant for premium FMCG at wholesale prices
            </motion.p>
          </div>

          <div className="space-y-8">
            <motion.div
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ delay: 0.6 }}
              className="text-center"
            >
              <h2 className="text-xl font-semibold text-white mb-2">Welcome Back</h2>
              <p className="text-gray-400 text-sm mb-8">
                Sign in to your account using Google
              </p>
            </motion.div>

            {/* Google Sign In */}
            <motion.div 
              initial={{ opacity: 0, y: 20 }} 
              animate={{ opacity: 1, y: 0 }} 
              transition={{ delay: 0.8 }}
            >
              <Button
                type="button"
                onClick={handleGoogleLogin}
                disabled={isGoogleLoading}
                className="w-full bg-white text-black hover:bg-gray-100 transition-all duration-300 disabled:opacity-50 rounded-xl py-4 font-medium text-base"
              >
                {isGoogleLoading ? (
                  <div className="flex items-center">
                    <div className="w-5 h-5 mr-3 border-2 border-gray-400 border-t-gray-800 rounded-full animate-spin"></div>
                    Signing in...
                  </div>
                ) : (
                  <>
                    <svg className="w-5 h-5 mr-3" viewBox="0 0 24 24">
                      <path
                        fill="currentColor"
                        d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                      />
                      <path
                        fill="currentColor"
                        d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                      />
                      <path
                        fill="currentColor"
                        d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                      />
                      <path
                        fill="currentColor"
                        d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                      />
                    </svg>
                    Continue with Google
                  </>
                )}
              </Button>
            </motion.div>
          </div>
        </div>
      </div>
    </div>
  )
}

===== components/auth/signup.tsx =====
"use client"

import type React from "react"

import { useState } from "react"
import { motion, AnimatePresence } from "framer-motion"
import { CheckCircle, AlertCircle, X } from "lucide-react"
import { Button } from "@/components/ui/button"
import { auth } from "@/lib/firebase"
import { GoogleAuthProvider, signInWithPopup } from "firebase/auth"
import { doc, setDoc, getFirestore } from "firebase/firestore"

interface SignupProps {
  onSignup: (userData: any) => void
  onSwitchToLogin: () => void
  onClose: () => void
}

interface Message {
  id: string
  type: 'success' | 'error' | 'info'
  text: string
}

export function Signup({ onSignup, onSwitchToLogin, onClose }: SignupProps) {
  const [isGoogleLoading, setIsGoogleLoading] = useState(false)
  const [messages, setMessages] = useState<Message[]>([])

  const db = getFirestore()
  const googleProvider = new GoogleAuthProvider()

  const addMessage = (type: 'success' | 'error' | 'info', text: string) => {
    const id = Date.now().toString()
    setMessages(prev => [...prev, { id, type, text }])
    
    // Auto-remove message after 5 seconds
    setTimeout(() => {
      setMessages(prev => prev.filter(msg => msg.id !== id))
    }, 5000)
  }

  const removeMessage = (id: string) => {
    setMessages(prev => prev.filter(msg => msg.id !== id))
  }

  const handleGoogleSignup = async () => {
    setIsGoogleLoading(true)
    try {
      const result = await signInWithPopup(auth, googleProvider)
      const user = result.user
      
      // Save user data to Firestore
      await setDoc(doc(db, "users", user.uid), {
        name: user.displayName,
        email: user.email,
        phone: "",
        createdAt: new Date().toISOString(),
        provider: "google"
      })

      addMessage('success', 'Welcome! Your account has been created successfully.')
      
      onSignup({
        uid: user.uid,
        name: user.displayName,
        email: user.email,
        phone: ""
      })
    } catch (error: any) {
      console.error("Google signup error:", error)
      let errorMessage = 'Failed to sign up with Google. Please try again.'
      
      switch (error.code) {
        case 'auth/account-exists-with-different-credential':
          errorMessage = 'An account with this email already exists with a different sign-in method.'
          break
        case 'auth/cancelled-popup-request':
          errorMessage = 'Sign-up was cancelled.'
          break
        case 'auth/popup-blocked':
          errorMessage = 'Pop-up was blocked. Please allow pop-ups and try again.'
          break
        case 'auth/popup-closed-by-user':
          errorMessage = 'Sign-up was cancelled.'
          break
        case 'auth/network-request-failed':
          errorMessage = 'Network error. Please check your connection and try again.'
          break
      }
      
      addMessage('error', errorMessage)
    } finally {
      setIsGoogleLoading(false)
    }
  }

  const handleBackdropClick = (e: React.MouseEvent) => {
    if (e.target === e.currentTarget) {
      onClose()
    }
  }

  const MessageIcon = ({ type }: { type: 'success' | 'error' | 'info' }) => {
    switch (type) {
      case 'success':
        return <CheckCircle className="h-4 w-4 text-green-400" />
      case 'error':
        return <AlertCircle className="h-4 w-4 text-red-400" />
      case 'info':
        return <AlertCircle className="h-4 w-4 text-blue-400" />
    }
  }

  return (
    <div
      className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"
      onClick={handleBackdropClick}
    >
      <div
        className="glass-effect rounded-2xl p-8 border border-white/10 max-h-[90vh] overflow-y-auto relative w-full max-w-md"
        onClick={(e) => e.stopPropagation()}
      >
        {/* Messages */}
        <div className="fixed top-4 right-4 z-[60] space-y-2">
          <AnimatePresence>
            {messages.map((message) => (
              <motion.div
                key={message.id}
                initial={{ opacity: 0, x: 300, scale: 0.8 }}
                animate={{ opacity: 1, x: 0, scale: 1 }}
                exit={{ opacity: 0, x: 300, scale: 0.8 }}
                transition={{ duration: 0.3, type: "spring" }}
                className={`flex items-center gap-3 p-4 rounded-xl backdrop-blur-md border shadow-lg max-w-sm ${
                  message.type === 'success' 
                    ? 'bg-green-900/20 border-green-500/30 text-green-100' 
                    : message.type === 'error'
                    ? 'bg-red-900/20 border-red-500/30 text-red-100'
                    : 'bg-blue-900/20 border-blue-500/30 text-blue-100'
                }`}
              >
                <MessageIcon type={message.type} />
                <p className="text-sm font-medium flex-1">{message.text}</p>
                <button
                  onClick={() => removeMessage(message.id)}
                  className="text-gray-400 hover:text-white transition-colors"
                >
                  <X className="h-4 w-4" />
                </button>
              </motion.div>
            ))}
          </AnimatePresence>
        </div>

        <div className="text-center mb-8">
          <motion.h1
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ delay: 0.2 }}
            className="text-3xl font-bold mb-2"
          >
            <span className="text-white">vend</span>
            <span className="text-white font-black">ai</span>
          </motion.h1>
          <motion.p
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ delay: 0.4 }}
            className="text-gray-400 text-sm"
          >
            AI shopping assistant for premium FMCG at wholesale prices
          </motion.p>
        </div>

        <div className="space-y-6">
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ delay: 0.5 }}
            className="text-center"
          >
            <h2 className="text-xl font-semibold text-white mb-2">Create Your Account</h2>
            <p className="text-gray-400 text-sm mb-6">
              Sign up with your Google account to get started
            </p>
          </motion.div>

          {/* Google Sign Up */}
          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.6 }}>
            <Button
              type="button"
              onClick={handleGoogleSignup}
              disabled={isGoogleLoading}
              className="w-full bg-white text-black hover:bg-gray-100 transition-all duration-300 disabled:opacity-50 py-3 font-medium rounded-xl"
            >
              {isGoogleLoading ? (
                <div className="flex items-center">
                  <div className="w-5 h-5 mr-3 border-2 border-gray-400 border-t-gray-800 rounded-full animate-spin"></div>
                  Creating Account...
                </div>
              ) : (
                <>
                  <svg className="w-5 h-5 mr-3" viewBox="0 0 24 24">
                    <path
                      fill="currentColor"
                      d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                    />
                    <path
                      fill="currentColor"
                      d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                    />
                    <path
                      fill="currentColor"
                      d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                    />
                    <path
                      fill="currentColor"
                      d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                    />
                  </svg>
                  Sign up with Google
                </>
              )}
            </Button>
          </motion.div>

          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ delay: 0.7 }}
            className="text-center"
          >
            <p className="text-gray-500 text-xs mb-4">
              By signing up, you agree to our Terms of Service and Privacy Policy
            </p>
          </motion.div>
        </div>

        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ delay: 0.8 }}
          className="mt-6 text-center"
        >
          <p className="text-gray-400 text-sm">
            Already have an account?{" "}
            <button onClick={onSwitchToLogin} className="text-white hover:text-gray-300 underline transition-colors">
              Sign in
            </button>
          </p>
        </motion.div>
      </div>
    </div>
  )
}

===== components/quantity-input.tsx =====
"use client"

import type React from "react"

import { useState } from "react"
import { motion } from "framer-motion"
import { Plus, Minus } from "lucide-react"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"

interface QuantityInputProps {
  value: number
  onChange: (value: number) => void
  min?: number
  max?: number
  className?: string
}

export function QuantityInput({ value, onChange, min = 1, max = 99, className = "" }: QuantityInputProps) {
  const [inputValue, setInputValue] = useState(value.toString())

  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const newValue = e.target.value
    setInputValue(newValue)

    const numValue = Number.parseInt(newValue)
    if (!isNaN(numValue) && numValue >= min && numValue <= max) {
      onChange(numValue)
    }
  }

  const handleInputBlur = () => {
    const numValue = Number.parseInt(inputValue)
    if (isNaN(numValue) || numValue < min) {
      setInputValue(min.toString())
      onChange(min)
    } else if (numValue > max) {
      setInputValue(max.toString())
      onChange(max)
    }
  }

  const increment = () => {
    if (value < max) {
      const newValue = value + 1
      setInputValue(newValue.toString())
      onChange(newValue)
    }
  }

  const decrement = () => {
    if (value > min) {
      const newValue = value - 1
      setInputValue(newValue.toString())
      onChange(newValue)
    }
  }

  return (
    <div className={`flex items-center space-x-2 ${className}`}>
      <motion.div whileHover={{ scale: 1.1 }} whileTap={{ scale: 0.9 }}>
        <Button
          variant="ghost"
          size="sm"
          onClick={decrement}
          disabled={value <= min}
          className="hover:bg-white/10 disabled:opacity-50"
        >
          <Minus className="h-3 w-3" />
        </Button>
      </motion.div>

      <Input
        value={inputValue}
        onChange={handleInputChange}
        onBlur={handleInputBlur}
        className="w-16 text-center bg-white/5 border-white/10 text-white"
        min={min}
        max={max}
      />

      <motion.div whileHover={{ scale: 1.1 }} whileTap={{ scale: 0.9 }}>
        <Button
          variant="ghost"
          size="sm"
          onClick={increment}
          disabled={value >= max}
          className="hover:bg-white/10 disabled:opacity-50"
        >
          <Plus className="h-3 w-3" />
        </Button>
      </motion.div>
    </div>
  )
}


===== components/browse-view.tsx =====
"use client"

import { useState, useMemo } from "react"
import { motion, AnimatePresence } from "framer-motion"
import { ArrowLeft, ShoppingBag, Plus, Search, Filter, X, Package } from "lucide-react"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { QuantityInput } from "./quantity-input"

interface Product {
  id: number
  name: string
  price: number
  category: string
  description: string
  image: string
  stock: number
  unit: string
  brand?: string
  size?: string
}

interface BrowseViewProps {
  products: Product[]
  onAddToCart: (product: Product, quantity?: number) => void
  onBack: () => void
}

export function BrowseView({ products, onAddToCart, onBack }: BrowseViewProps) {
  const [quantities, setQuantities] = useState<{ [key: number]: number }>({})
  const [searchQuery, setSearchQuery] = useState("")
  const [selectedCategory, setSelectedCategory] = useState("all")
  const [showFilters, setShowFilters] = useState(false)
  const [priceRange, setPriceRange] = useState<[number, number]>([0, 10000])

  // Safety check to ensure products is an array
  const safeProducts = Array.isArray(products) ? products : []

  // Get categories with product counts
  const categoriesWithCounts = useMemo(() => {
    const counts: Record<string, number> = {}
    safeProducts.forEach((product) => {
      counts[product.category] = (counts[product.category] || 0) + 1
    })
    return Object.entries(counts).map(([category, count]) => ({ category, count }))
  }, [safeProducts])

  // Filter products based on search, category, and price
  const filteredProducts = useMemo(() => {
    return safeProducts.filter((product) => {
      const matchesSearch =
        product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
        product.description.toLowerCase().includes(searchQuery.toLowerCase()) ||
        (product.brand && product.brand.toLowerCase().includes(searchQuery.toLowerCase()))

      const matchesCategory = selectedCategory === "all" || product.category === selectedCategory

      const matchesPrice = product.price >= priceRange[0] && product.price <= priceRange[1]

      return matchesSearch && matchesCategory && matchesPrice
    })
  }, [safeProducts, searchQuery, selectedCategory, priceRange])

  // Essential categories (prioritized)
  const essentialCategories = [
    "Cooking Oils & Fats",
    "Rice & Grains",
    "Flour",
    "Sugar & Sweeteners",
    "Dairy Products",
    "Personal Care & Hygiene",
  ]

  const getQuantity = (productId: number) => quantities[productId] || 1

  const setQuantity = (productId: number, quantity: number) => {
    setQuantities((prev) => ({ ...prev, [productId]: quantity }))
  }

  const clearFilters = () => {
    setSearchQuery("")
    setSelectedCategory("all")
    setPriceRange([0, 10000])
  }

  return (
    <div className="flex-1 overflow-y-auto">
      {/* Header */}
      <div className="glass-effect border-b border-white/10 p-4">
        <div className="flex items-center justify-between mb-4">
          <div className="flex items-center space-x-3">
            <Button variant="ghost" size="sm" onClick={onBack} className="hover:bg-white/10 rounded-xl">
              <ArrowLeft className="h-4 w-4" />
            </Button>
            <div className="flex items-center space-x-2">
              <ShoppingBag className="h-5 w-5 text-blue-400" />
              <h2 className="text-xl font-bold text-gradient">Browse Products</h2>
            </div>
          </div>
          <Button
            variant="ghost"
            size="sm"
            onClick={() => setShowFilters(!showFilters)}
            className="hover:bg-white/10 rounded-xl"
          >
            <Filter className="h-4 w-4 mr-2" />
            Filters
          </Button>
        </div>

        {/* Search Bar */}
        <div className="relative mb-4">
          <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" />
          <Input
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            placeholder="Search products, brands, or categories..."
            className="pl-10 bg-white/5 border-white/10 text-white placeholder-gray-400 focus:border-white/20 rounded-xl"
          />
          {searchQuery && (
            <Button
              variant="ghost"
              size="sm"
              onClick={() => setSearchQuery("")}
              className="absolute right-2 top-1/2 transform -translate-y-1/2 hover:bg-white/10 rounded-lg"
            >
              <X className="h-3 w-3" />
            </Button>
          )}
        </div>

        {/* Category Pills - Essential First */}
        <div className="flex gap-2 overflow-x-auto scrollbar-hide pb-2">
          <motion.button
            whileHover={{ scale: 1.05 }}
            whileTap={{ scale: 0.95 }}
            onClick={() => setSelectedCategory("all")}
            className={`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-300 ${
              selectedCategory === "all"
                ? "bg-white text-black shadow-lg"
                : "bg-white/10 text-white hover:bg-white/20 border border-white/20"
            }`}
          >
            All ({safeProducts.length})
          </motion.button>

          {/* Essential Categories First */}
          {essentialCategories.map((category) => {
            const categoryData = categoriesWithCounts.find((c) => c.category === category)
            if (!categoryData) return null

            return (
              <motion.button
                key={category}
                whileHover={{ scale: 1.05 }}
                whileTap={{ scale: 0.95 }}
                onClick={() => setSelectedCategory(category)}
                className={`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-300 ${
                  selectedCategory === category
                    ? "bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg"
                    : "bg-white/10 text-white hover:bg-white/20 border border-white/20"
                }`}
              >
                {category.split(" ")[0]} ({categoryData.count})
              </motion.button>
            )
          })}

          {/* Other Categories */}
          {categoriesWithCounts
            .filter(({ category }) => !essentialCategories.includes(category))
            .map(({ category, count }) => (
              <motion.button
                key={category}
                whileHover={{ scale: 1.05 }}
                whileTap={{ scale: 0.95 }}
                onClick={() => setSelectedCategory(category)}
                className={`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-300 ${
                  selectedCategory === category
                    ? "bg-gradient-to-r from-green-500 to-teal-500 text-white shadow-lg"
                    : "bg-white/10 text-white hover:bg-white/20 border border-white/20"
                }`}
              >
                {category.split(" ")[0]} ({count})
              </motion.button>
            ))}
        </div>

        {/* Active Filters */}
        {(searchQuery || selectedCategory !== "all") && (
          <div className="flex items-center gap-2 mt-3">
            <span className="text-xs text-gray-400">Active filters:</span>
            {searchQuery && (
              <span className="px-2 py-1 bg-blue-500/20 text-blue-300 rounded-full text-xs">
                Search: "{searchQuery}"
              </span>
            )}
            {selectedCategory !== "all" && (
              <span className="px-2 py-1 bg-purple-500/20 text-purple-300 rounded-full text-xs">
                {selectedCategory}
              </span>
            )}
            <Button variant="ghost" size="sm" onClick={clearFilters} className="text-xs hover:bg-white/10 rounded-lg">
              Clear all
            </Button>
          </div>
        )}
      </div>

      {/* Advanced Filters Panel */}
      <AnimatePresence>
        {showFilters && (
          <motion.div
            initial={{ opacity: 0, height: 0 }}
            animate={{ opacity: 1, height: "auto" }}
            exit={{ opacity: 0, height: 0 }}
            className="glass-effect border-b border-white/10 p-4"
          >
            <div className="space-y-4">
              <h3 className="font-medium text-sm">Price Range</h3>
              <div className="flex items-center space-x-4">
                <div className="flex-1">
                  <label className="block text-xs text-gray-400 mb-1">Min Price</label>
                  <Input
                    type="number"
                    value={priceRange[0]}
                    onChange={(e) => setPriceRange([Number(e.target.value), priceRange[1]])}
                    className="bg-white/5 border-white/10 text-white rounded-lg"
                    placeholder="0"
                  />
                </div>
                <div className="flex-1">
                  <label className="block text-xs text-gray-400 mb-1">Max Price</label>
                  <Input
                    type="number"
                    value={priceRange[1]}
                    onChange={(e) => setPriceRange([priceRange[0], Number(e.target.value)])}
                    className="bg-white/5 border-white/10 text-white rounded-lg"
                    placeholder="10000"
                  />
                </div>
              </div>
            </div>
          </motion.div>
        )}
      </AnimatePresence>

      {/* Products Grid */}
      <div className="p-4">
        <div className="flex items-center justify-between mb-4">
          <p className="text-sm text-gray-400">
            {filteredProducts.length} product{filteredProducts.length !== 1 ? "s" : ""} found
          </p>
        </div>

        {filteredProducts.length === 0 ? (
          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="text-center py-12">
            <ShoppingBag className="h-16 w-16 mx-auto mb-4 text-gray-600" />
            <h3 className="text-lg font-medium mb-2">No products found</h3>
            <p className="text-gray-400 mb-4">Try adjusting your search or filters</p>
            <Button onClick={clearFilters} className="bg-white text-black hover:bg-gray-200 rounded-xl">
              Clear Filters
            </Button>
          </motion.div>
        ) : (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
            {filteredProducts.map((product, index) => (
              <motion.div
                key={product.id}
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: index * 0.05 }}
                className="glass-effect rounded-xl p-4 hover:bg-white/5 transition-all duration-300 group"
              >
                <div className="aspect-square bg-gradient-to-br from-white/10 to-white/5 rounded-xl mb-3 flex items-center justify-center group-hover:from-white/15 group-hover:to-white/10 transition-all duration-300 overflow-hidden">
                  {product.image && !product.image.includes("placeholder") ? (
                    <img
                      src={product.image || "/placeholder.svg"}
                      alt={product.name}
                      className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                      onError={(e) => {
                        const target = e.target as HTMLImageElement
                        target.style.display = "none"
                        target.nextElementSibling?.classList.remove("hidden")
                      }}
                    />
                  ) : null}
                  <Package
                    className={`h-12 w-12 text-gray-400 group-hover:text-gray-300 transition-colors ${product.image && !product.image.includes("placeholder") ? "hidden" : ""}`}
                  />
                </div>

                <div className="space-y-2">
                  <div className="flex items-start justify-between">
                    <h3 className="font-medium text-sm leading-tight">{product.name}</h3>
                    {product.brand && (
                      <span className="text-xs text-blue-400 bg-blue-500/20 px-2 py-1 rounded-full">
                        {product.brand}
                      </span>
                    )}
                  </div>

                  <p className="text-xs text-gray-400 line-clamp-2">{product.description}</p>

                  <div className="flex items-center justify-between">
                    <div>
                      <span className="font-bold text-lg">KES {product.price.toLocaleString()}</span>
                      {product.unit && <span className="text-xs text-gray-400 ml-1">/{product.unit}</span>}
                    </div>
                    <span className="text-xs text-green-400 bg-green-500/20 px-2 py-1 rounded-full">
                      {product.category.split(" ")[0]}
                    </span>
                  </div>

                  <div className="flex items-center justify-between pt-2">
                    <QuantityInput
                      value={getQuantity(product.id)}
                      onChange={(qty) => setQuantity(product.id, qty)}
                      className="scale-90"
                    />

                    <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
                      <Button
                        size="sm"
                        onClick={() => onAddToCart(product, getQuantity(product.id))}
                        className="bg-white text-black hover:bg-gray-200 rounded-xl shadow-lg"
                      >
                        <Plus className="h-3 w-3 mr-1" />
                        Add
                      </Button>
                    </motion.div>
                  </div>
                </div>
              </motion.div>
            ))}
          </div>
        )}
      </div>
    </div>
  )
}


===== components/sidebar.tsx =====
"use client"

import { useState } from "react"
import { motion, AnimatePresence } from "framer-motion"
import { X, Package, Check, Clock, Eye } from "lucide-react"
import { Button } from "@/components/ui/button"
import { Badge } from "@/components/ui/badge"
import { OrderTracking } from "./order-tracking"

interface SidebarProps {
  sidebarOpen: boolean
  setSidebarOpen: (open: boolean) => void
  orders: any[]
}

export function Sidebar({ sidebarOpen, setSidebarOpen, orders }: SidebarProps) {
  const [selectedOrder, setSelectedOrder] = useState<any>(null)

  // Don't render sidebar if not authenticated - this will be handled by parent component

  const getStatusColor = (status: string) => {
    switch (status) {
      case "completed":
        return "bg-green-500/20 text-green-400 border-green-500/30"
      case "shipped":
        return "bg-blue-500/20 text-blue-400 border-blue-500/30"
      case "processing":
        return "bg-yellow-500/20 text-yellow-400 border-yellow-500/30"
      default:
        return "bg-gray-500/20 text-gray-400 border-gray-500/30"
    }
  }

  const categorizeOrders = (orders: any[]) => {
    const now = new Date()
    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate())
    const sevenDaysAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000)

    const todayOrders = orders.filter((order) => new Date(order.date) >= today)
    const last7DaysOrders = orders.filter((order) => {
      const orderDate = new Date(order.date)
      return orderDate >= sevenDaysAgo && orderDate < today
    })
    const olderOrders = orders.filter((order) => new Date(order.date) < sevenDaysAgo)

    return { todayOrders, last7DaysOrders, olderOrders }
  }

  const { todayOrders, last7DaysOrders, olderOrders } = categorizeOrders(orders)

  const renderOrderSection = (sectionOrders: any[], title: string, startIndex: number) => {
    if (sectionOrders.length === 0) return null

    return (
      <div className="mb-6">
        <h3 className="text-sm font-medium text-gray-400 mb-3 px-2">{title}</h3>
        <div className="space-y-3">
          {sectionOrders.map((order, index) => (
            <motion.div
              key={order.id}
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ delay: (startIndex + index) * 0.1 }}
              className="glass-effect rounded-lg p-4 hover-glow cursor-pointer hover:bg-white/5 transition-all duration-300"
              onClick={() => setSelectedOrder(order)}
            >
              <div className="flex items-center justify-between mb-3">
                <Badge className={`text-xs px-2 py-1 ${getStatusColor(order.status)}`}>
                  {order.status.charAt(0).toUpperCase() + order.status.slice(1)}
                </Badge>
                <span className="text-xs text-gray-400">
                  {new Date(order.date).toLocaleDateString("en-KE", {
                    month: "short",
                    day: "numeric",
                  })}
                </span>
              </div>

              <div className="space-y-2 mb-3">
                <div className="flex items-center justify-between">
                  <span className="text-sm font-medium">Order #{order.orderNumber || order.id.split("-").pop()}</span>
                  <span className="text-sm font-bold">KES {order.total.toLocaleString()}</span>
                </div>

                <div className="text-xs text-gray-400 space-y-1">
                  {order.items.slice(0, 2).map((item: any, idx: number) => (
                    <div key={idx} className="flex justify-between">
                      <span>
                        {item.name} x{item.quantity}
                      </span>
                      <span>KES {(item.price * item.quantity).toLocaleString()}</span>
                    </div>
                  ))}
                  {order.items.length > 2 && (
                    <div className="text-gray-500">
                      +{order.items.length - 2} more item{order.items.length - 2 !== 1 ? "s" : ""}
                    </div>
                  )}
                </div>
              </div>

              <div className="flex items-center justify-between">
                {order.deliveryDate && (
                  <div className="flex items-center space-x-2 text-xs text-gray-400">
                    {order.status === "completed" ? (
                      <>
                        <Check className="h-3 w-3 text-green-400" />
                        <span>Delivered {new Date(order.deliveryDate).toLocaleDateString("en-KE")}</span>
                      </>
                    ) : (
                      <>
                        <Clock className="h-3 w-3" />
                        <span>Expected {new Date(order.deliveryDate).toLocaleDateString("en-KE")}</span>
                      </>
                    )}
                  </div>
                )}

                <Button variant="ghost" size="sm" className="text-xs hover:bg-white/10">
                  <Eye className="h-3 w-3 mr-1" />
                  Track
                </Button>
              </div>
            </motion.div>
          ))}
        </div>
      </div>
    )
  }

  if (selectedOrder) {
    return (
      <AnimatePresence>
        {sidebarOpen && (
          <motion.div
            initial={{ x: -300 }}
            animate={{ x: 0 }}
            exit={{ x: -300 }}
            transition={{ type: "spring", damping: 25, stiffness: 200 }}
            className="fixed inset-y-0 left-0 z-30 w-80 glass-effect border-r border-white/10 lg:relative lg:translate-x-0 overflow-y-auto"
          >
            <div className="p-4">
              <div className="flex items-center justify-between mb-4">
                <h2 className="text-lg font-semibold text-gradient">Order Details</h2>
                <div className="flex space-x-2">
                  <Button
                    variant="ghost"
                    size="sm"
                    onClick={() => setSelectedOrder(null)}
                    className="hover:bg-white/10"
                  >
                    <X className="h-4 w-4" />
                  </Button>
                  <Button
                    variant="ghost"
                    size="sm"
                    onClick={() => setSidebarOpen(false)}
                    className="lg:hidden hover:bg-white/10"
                  >
                    <X className="h-4 w-4" />
                  </Button>
                </div>
              </div>

              <OrderTracking order={selectedOrder} onBack={() => setSelectedOrder(null)} />
            </div>
          </motion.div>
        )}
      </AnimatePresence>
    )
  }

  return (
    <AnimatePresence>
      {sidebarOpen && (
        <motion.div
          initial={{ x: -300 }}
          animate={{ x: 0 }}
          exit={{ x: -300 }}
          transition={{ type: "spring", damping: 25, stiffness: 200 }}
          className="fixed inset-y-0 left-0 z-30 w-80 glass-effect border-r border-white/10 lg:relative lg:translate-x-0"
        >
          <div className="flex h-full flex-col">
            <div className="flex items-center justify-between p-4 border-b border-white/10">
              <h2 className="text-lg font-semibold text-gradient">Order History</h2>
              <Button
                variant="ghost"
                size="sm"
                onClick={() => setSidebarOpen(false)}
                className="lg:hidden hover:bg-white/10"
              >
                <X className="h-4 w-4" />
              </Button>
            </div>

            <div className="flex-1 overflow-y-auto p-4">
              {orders.length === 0 ? (
                <motion.div
                  initial={{ opacity: 0, y: 20 }}
                  animate={{ opacity: 1, y: 0 }}
                  className="text-center text-gray-400 mt-8"
                >
                  <Package className="h-12 w-12 mx-auto mb-3 opacity-50" />
                  <p className="text-sm">No orders yet</p>
                  <p className="text-xs mt-1">Start shopping to see your order history</p>
                </motion.div>
              ) : (
                <>
                  {renderOrderSection(todayOrders, "Today", 0)}
                  {renderOrderSection(last7DaysOrders, "Last 7 Days", todayOrders.length)}
                  {renderOrderSection(olderOrders, "Earlier", todayOrders.length + last7DaysOrders.length)}
                </>
              )}
            </div>
          </div>
        </motion.div>
      )}
    </AnimatePresence>
  )
}


===== components/product-management-modal.tsx =====
"use client"

import type React from "react"

import { useState } from "react"
import { motion, AnimatePresence } from "framer-motion"
import { X, Edit, Trash2, Search, Package, Upload, AlertTriangle } from "lucide-react"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { PRODUCTS, PRODUCT_CATEGORIES } from "@/data/products"

interface ProductManagementModalProps {
  show: boolean
  onClose: () => void
  onProductRemove: (productId: number) => void
  onProductUpdate: (productId: number, updates: any) => void
}

export function ProductManagementModal({
  show,
  onClose,
  onProductRemove,
  onProductUpdate,
}: ProductManagementModalProps) {
  const [searchQuery, setSearchQuery] = useState("")
  const [selectedCategory, setSelectedCategory] = useState("all")
  const [editingProduct, setEditingProduct] = useState<any>(null)
  const [showDeleteConfirm, setShowDeleteConfirm] = useState<number | null>(null)

  // Filter products
  const filteredProducts = PRODUCTS.filter((product) => {
    const matchesSearch =
      product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
      product.brand?.toLowerCase().includes(searchQuery.toLowerCase())
    const matchesCategory = selectedCategory === "all" || product.category === selectedCategory
    return matchesSearch && matchesCategory
  })

  const handleRemoveProduct = (productId: number) => {
    onProductRemove(productId)
    setShowDeleteConfirm(null)
  }

  const handleUpdateProduct = (updates: any) => {
    if (editingProduct) {
      onProductUpdate(editingProduct.id, updates)
      setEditingProduct(null)
    }
  }

  if (!show) return null

  return (
    <div className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
      <div className="glass-effect rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden">
        {/* Header */}
        <div className="flex items-center justify-between p-6 border-b border-white/10">
          <h2 className="text-xl font-bold text-gradient">Product Management</h2>
          <Button variant="ghost" size="sm" onClick={onClose} className="hover:bg-white/10">
            <X className="h-4 w-4" />
          </Button>
        </div>

        {/* Search and Filters */}
        <div className="p-6 border-b border-white/10">
          <div className="flex gap-4 mb-4">
            <div className="flex-1 relative">
              <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" />
              <Input
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                placeholder="Search products..."
                className="pl-10 bg-white/5 border-white/10 text-white"
              />
            </div>
            <select
              value={selectedCategory}
              onChange={(e) => setSelectedCategory(e.target.value)}
              className="bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white min-w-48"
            >
              <option value="all">All Categories</option>
              {Object.values(PRODUCT_CATEGORIES).map((category) => (
                <option key={category} value={category}>
                  {category}
                </option>
              ))}
            </select>
          </div>
        </div>

        {/* Products Grid */}
        <div className="p-6 overflow-y-auto max-h-96">
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            {filteredProducts.map((product) => (
              <motion.div
                key={product.id}
                initial={{ opacity: 0, scale: 0.9 }}
                animate={{ opacity: 1, scale: 1 }}
                className="glass-effect rounded-lg p-4 hover:bg-white/5 transition-all duration-300"
              >
                <div className="flex items-start space-x-3">
                  <div className="w-16 h-16 bg-white/10 rounded-lg overflow-hidden flex-shrink-0">
                    <img
                      src={product.image || `/placeholder.svg?height=64&width=64`}
                      alt={product.name}
                      className="w-full h-full object-cover"
                      onError={(e) => {
                        const target = e.target as HTMLImageElement
                        target.src = `/placeholder.svg?height=64&width=64`
                      }}
                    />
                  </div>

                  <div className="flex-1 min-w-0">
                    <h3 className="font-medium text-sm truncate">{product.name}</h3>
                    <p className="text-xs text-gray-400 mb-1">{product.brand}</p>
                    <p className="font-bold text-green-400">KES {product.price.toLocaleString()}</p>
                    <p className="text-xs text-gray-500">Stock: {product.stock}</p>
                  </div>
                </div>

                <div className="flex justify-end space-x-2 mt-3">
                  <Button
                    variant="ghost"
                    size="sm"
                    onClick={() => setEditingProduct(product)}
                    className="hover:bg-blue-500/20 text-blue-400"
                  >
                    <Edit className="h-3 w-3" />
                  </Button>
                  <Button
                    variant="ghost"
                    size="sm"
                    onClick={() => setShowDeleteConfirm(product.id)}
                    className="hover:bg-red-500/20 text-red-400"
                  >
                    <Trash2 className="h-3 w-3" />
                  </Button>
                </div>
              </motion.div>
            ))}
          </div>

          {filteredProducts.length === 0 && (
            <div className="text-center py-12">
              <Package className="h-16 w-16 mx-auto mb-4 text-gray-600" />
              <h3 className="text-lg font-medium mb-2">No products found</h3>
              <p className="text-gray-400">Try adjusting your search or filters</p>
            </div>
          )}
        </div>

        {/* Delete Confirmation Modal */}
        <AnimatePresence>
          {showDeleteConfirm && (
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              className="absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center"
            >
              <motion.div
                initial={{ scale: 0.9 }}
                animate={{ scale: 1 }}
                exit={{ scale: 0.9 }}
                className="glass-effect rounded-xl p-6 max-w-md mx-4"
              >
                <div className="flex items-center space-x-3 mb-4">
                  <div className="w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center">
                    <AlertTriangle className="h-6 w-6 text-red-400" />
                  </div>
                  <div>
                    <h3 className="font-bold">Delete Product</h3>
                    <p className="text-sm text-gray-400">This action cannot be undone</p>
                  </div>
                </div>

                <p className="text-sm text-gray-300 mb-6">
                  Are you sure you want to delete this product? It will be removed from all views and cart items.
                </p>

                <div className="flex space-x-3">
                  <Button
                    variant="ghost"
                    onClick={() => setShowDeleteConfirm(null)}
                    className="flex-1 hover:bg-white/10"
                  >
                    Cancel
                  </Button>
                  <Button
                    onClick={() => handleRemoveProduct(showDeleteConfirm)}
                    className="flex-1 bg-red-500 hover:bg-red-600 text-white"
                  >
                    Delete
                  </Button>
                </div>
              </motion.div>
            </motion.div>
          )}
        </AnimatePresence>

        {/* Edit Product Modal */}
        <AnimatePresence>
          {editingProduct && (
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              className="absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center overflow-y-auto"
            >
              <EditProductForm
                product={editingProduct}
                onSave={handleUpdateProduct}
                onCancel={() => setEditingProduct(null)}
              />
            </motion.div>
          )}
        </AnimatePresence>
      </div>
    </div>
  )
}

// Edit Product Form Component
function EditProductForm({ product, onSave, onCancel }: any) {
  const [formData, setFormData] = useState({
    name: product.name,
    price: product.price,
    stock: product.stock,
    description: product.description,
    image: product.image,
    brand: product.brand || "",
    category: product.category,
  })

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    onSave(formData)
  }

  return (
    <motion.div
      initial={{ scale: 0.9 }}
      animate={{ scale: 1 }}
      exit={{ scale: 0.9 }}
      className="glass-effect rounded-xl p-6 max-w-2xl mx-4 max-h-[80vh] overflow-y-auto"
    >
      <h3 className="text-lg font-bold mb-4">Edit Product</h3>

      <form onSubmit={handleSubmit} className="space-y-4">
        <div className="grid grid-cols-2 gap-4">
          <div>
            <label className="block text-sm text-gray-400 mb-2">Product Name</label>
            <Input
              value={formData.name}
              onChange={(e) => setFormData({ ...formData, name: e.target.value })}
              className="bg-white/5 border-white/10 text-white"
            />
          </div>
          <div>
            <label className="block text-sm text-gray-400 mb-2">Brand</label>
            <Input
              value={formData.brand}
              onChange={(e) => setFormData({ ...formData, brand: e.target.value })}
              className="bg-white/5 border-white/10 text-white"
            />
          </div>
        </div>

        <div className="grid grid-cols-2 gap-4">
          <div>
            <label className="block text-sm text-gray-400 mb-2">Price (KES)</label>
            <Input
              type="number"
              value={formData.price}
              onChange={(e) => setFormData({ ...formData, price: Number(e.target.value) })}
              className="bg-white/5 border-white/10 text-white"
            />
          </div>
          <div>
            <label className="block text-sm text-gray-400 mb-2">Stock</label>
            <Input
              type="number"
              value={formData.stock}
              onChange={(e) => setFormData({ ...formData, stock: Number(e.target.value) })}
              className="bg-white/5 border-white/10 text-white"
            />
          </div>
        </div>

        <div>
          <label className="block text-sm text-gray-400 mb-2">Category</label>
          <select
            value={formData.category}
            onChange={(e) => setFormData({ ...formData, category: e.target.value })}
            className="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white"
          >
            {Object.values(PRODUCT_CATEGORIES).map((category) => (
              <option key={category} value={category}>
                {category}
              </option>
            ))}
          </select>
        </div>

        <div>
          <label className="block text-sm text-gray-400 mb-2">Description</label>
          <textarea
            value={formData.description}
            onChange={(e) => setFormData({ ...formData, description: e.target.value })}
            className="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white h-20 resize-none"
          />
        </div>

        <div>
          <label className="block text-sm text-gray-400 mb-2">Image URL</label>
          <div className="flex space-x-2">
            <Input
              value={formData.image}
              onChange={(e) => setFormData({ ...formData, image: e.target.value })}
              className="flex-1 bg-white/5 border-white/10 text-white"
              placeholder="/images/products/product-name.jpg"
            />
            <Button type="button" variant="ghost" className="hover:bg-white/10">
              <Upload className="h-4 w-4" />
            </Button>
          </div>
          {formData.image && (
            <div className="mt-2">
              <img
                src={formData.image || "/placeholder.svg"}
                alt="Preview"
                className="w-20 h-20 object-cover rounded-lg"
                onError={(e) => {
                  const target = e.target as HTMLImageElement
                  target.src = `/placeholder.svg?height=80&width=80`
                }}
              />
            </div>
          )}
        </div>

        <div className="flex space-x-3 pt-4">
          <Button type="button" variant="ghost" onClick={onCancel} className="flex-1 hover:bg-white/10">
            Cancel
          </Button>
          <Button type="submit" className="flex-1 bg-white text-black hover:bg-gray-200">
            Save Changes
          </Button>
        </div>
      </form>
    </motion.div>
  )
}


===== components/settings-view.tsx =====
"use client"

import { useState } from "react"
import { motion } from "framer-motion"
import { ArrowLeft, Bell, MapPin, CreditCard, Shield, User, Phone, Save, Package } from "lucide-react"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"

interface SettingsViewProps {
  onBack: () => void
  onProductManagement?: () => void
}

export function SettingsView({ onBack, onProductManagement }: SettingsViewProps) {
  const [notifications, setNotifications] = useState({
    orderUpdates: true,
    promotions: false,
    deliveryAlerts: true,
    weeklyDeals: true,
  })

  const [profile, setProfile] = useState({
    name: "John Doe",
    email: "john.doe@email.com",
    phone: "+254 712 345 678",
    address: "123 Nairobi Street, Westlands",
    city: "Nairobi",
    postalCode: "00100",
  })

  return (
    <div className="flex-1 overflow-y-auto p-4">
      <div className="flex items-center justify-between mb-6">
        <div className="flex items-center space-x-3">
          <Button variant="ghost" size="sm" onClick={onBack} className="hover:bg-white/10">
            <ArrowLeft className="h-4 w-4" />
          </Button>
          <h2 className="text-xl font-bold text-gradient">Settings</h2>
        </div>
      </div>

      <div className="space-y-6 max-w-2xl">
        {/* Profile Settings */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="glass-effect rounded-lg p-6"
        >
          <div className="flex items-center space-x-3 mb-4">
            <User className="h-5 w-5 text-blue-400" />
            <h3 className="text-lg font-medium">Profile Information</h3>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label className="block text-sm text-gray-400 mb-2">Full Name</label>
              <Input
                value={profile.name}
                onChange={(e) => setProfile({ ...profile, name: e.target.value })}
                className="bg-white/5 border-white/10 text-white"
              />
            </div>
            <div>
              <label className="block text-sm text-gray-400 mb-2">Email</label>
              <Input
                value={profile.email}
                onChange={(e) => setProfile({ ...profile, email: e.target.value })}
                className="bg-white/5 border-white/10 text-white"
              />
            </div>
            <div>
              <label className="block text-sm text-gray-400 mb-2">Phone</label>
              <Input
                value={profile.phone}
                onChange={(e) => setProfile({ ...profile, phone: e.target.value })}
                className="bg-white/5 border-white/10 text-white"
              />
            </div>
            <div>
              <label className="block text-sm text-gray-400 mb-2">City</label>
              <Input
                value={profile.city}
                onChange={(e) => setProfile({ ...profile, city: e.target.value })}
                className="bg-white/5 border-white/10 text-white"
              />
            </div>
            <div className="md:col-span-2">
              <label className="block text-sm text-gray-400 mb-2">Address</label>
              <Input
                value={profile.address}
                onChange={(e) => setProfile({ ...profile, address: e.target.value })}
                className="bg-white/5 border-white/10 text-white"
              />
            </div>
          </div>

          <Button className="mt-4 bg-white text-black hover:bg-gray-200">
            <Save className="h-4 w-4 mr-2" />
            Save Profile
          </Button>
        </motion.div>

        {/* Delivery Address */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.1 }}
          className="glass-effect rounded-lg p-6"
        >
          <div className="flex items-center space-x-3 mb-4">
            <MapPin className="h-5 w-5 text-green-400" />
            <h3 className="text-lg font-medium">Delivery Preferences</h3>
          </div>

          <div className="space-y-4">
            <div>
              <label className="block text-sm text-gray-400 mb-2">Preferred Delivery Time</label>
              <select className="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white">
                <option value="morning">Morning (8AM - 12PM)</option>
                <option value="afternoon">Afternoon (12PM - 5PM)</option>
                <option value="evening">Evening (5PM - 8PM)</option>
                <option value="anytime">Anytime</option>
              </select>
            </div>

            <div>
              <label className="block text-sm text-gray-400 mb-2">Special Instructions</label>
              <textarea
                className="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white h-20 resize-none"
                placeholder="e.g., Leave at gate, Call before delivery..."
              />
            </div>
          </div>
        </motion.div>

        {/* Notifications */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.2 }}
          className="glass-effect rounded-lg p-6"
        >
          <div className="flex items-center space-x-3 mb-4">
            <Bell className="h-5 w-5 text-yellow-400" />
            <h3 className="text-lg font-medium">Notifications</h3>
          </div>

          <div className="space-y-4">
            {Object.entries(notifications).map(([key, value]) => (
              <div key={key} className="flex items-center justify-between">
                <span className="text-sm">
                  {key === "orderUpdates" && "Order Updates"}
                  {key === "promotions" && "Promotions & Offers"}
                  {key === "deliveryAlerts" && "Delivery Alerts"}
                  {key === "weeklyDeals" && "Weekly Deals"}
                </span>
                <button
                  onClick={() => setNotifications({ ...notifications, [key]: !value })}
                  className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${
                    value ? "bg-blue-500" : "bg-gray-600"
                  }`}
                >
                  <span
                    className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${
                      value ? "translate-x-6" : "translate-x-1"
                    }`}
                  />
                </button>
              </div>
            ))}
          </div>
        </motion.div>

        {/* Payment Methods */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.3 }}
          className="glass-effect rounded-lg p-6"
        >
          <div className="flex items-center space-x-3 mb-4">
            <CreditCard className="h-5 w-5 text-purple-400" />
            <h3 className="text-lg font-medium">Payment Methods</h3>
          </div>

          <div className="space-y-3">
            <div className="glass-effect rounded-lg p-3 flex items-center justify-between">
              <div className="flex items-center space-x-3">
                <Phone className="h-4 w-4 text-green-500" />
                <div>
                  <p className="text-sm font-medium">M-Pesa</p>
                  <p className="text-xs text-gray-400">+254 712 *** 678</p>
                </div>
              </div>
              <span className="text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded">Primary</span>
            </div>

            <div className="glass-effect rounded-lg p-3 flex items-center justify-between">
              <div className="flex items-center space-x-3">
                <CreditCard className="h-4 w-4 text-blue-500" />
                <div>
                  <p className="text-sm font-medium">Visa Card</p>
                  <p className="text-xs text-gray-400">**** **** **** 1234</p>
                </div>
              </div>
              <Button variant="ghost" size="sm" className="text-xs hover:bg-white/10">
                Edit
              </Button>
            </div>

            <Button variant="ghost" className="w-full border border-white/10 hover:bg-white/5">
              Add Payment Method
            </Button>
          </div>
        </motion.div>

        {/* Security */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.4 }}
          className="glass-effect rounded-lg p-6"
        >
          <div className="flex items-center space-x-3 mb-4">
            <Shield className="h-5 w-5 text-red-400" />
            <h3 className="text-lg font-medium">Security</h3>
          </div>

          <div className="space-y-3">
            <Button variant="ghost" className="w-full justify-start hover:bg-white/10">
              Change Password
            </Button>
            <Button variant="ghost" className="w-full justify-start hover:bg-white/10">
              Two-Factor Authentication
            </Button>
            <Button variant="ghost" className="w-full justify-start hover:bg-white/10">
              Login History
            </Button>
          </div>
        </motion.div>

        {/* Product Management */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.5 }}
          className="glass-effect rounded-lg p-6"
        >
          <div className="flex items-center space-x-3 mb-4">
            <Package className="h-5 w-5 text-orange-400" />
            <h3 className="text-lg font-medium">Product Management</h3>
          </div>

          <div className="space-y-3">
            <Button
              variant="ghost"
              className="w-full justify-start hover:bg-white/10"
              onClick={() => {
                // You'll need to pass this as a prop from the parent
                onProductManagement?.()
              }}
            >
              Manage Products
            </Button>
            <Button variant="ghost" className="w-full justify-start hover:bg-white/10">
              Import Products
            </Button>
            <Button variant="ghost" className="w-full justify-start hover:bg-white/10">
              Export Catalog
            </Button>
          </div>
        </motion.div>
      </div>
    </div>
  )
}


===== components/header.tsx =====
"use client";

import { motion, AnimatePresence } from "framer-motion";
import { ShoppingCart, Package, MessageSquare, Menu } from "lucide-react";
import { Button } from "@/components/ui/button";

interface HeaderProps {
  sidebarOpen: boolean;
  setSidebarOpen: (open: boolean) => void;
  chatHistoryOpen: boolean;
  setChatHistoryOpen: (open: boolean) => void;
  cart: any[];
  setShowCart: (show: boolean) => void;
  showOrderHistory: boolean;
  setShowOrderHistory: (show: boolean) => void;
  orders: any[];
  onSettings: () => void;
  onLogout: () => void;
  onLogin: () => void;
  onSignup: () => void;
  onBackToChat: () => void;
  user: any;
  isAuthenticated: boolean;
}

export function Header({
  sidebarOpen,
  setSidebarOpen,
  chatHistoryOpen,
  setChatHistoryOpen,
  cart,
  setShowCart,
  showOrderHistory,
  setShowOrderHistory,
  orders,
  onSettings,
  onLogout,
  onLogin,
  onSignup,
  onBackToChat,
  user,
  isAuthenticated,
}: HeaderProps) {
  const recentOrder = orders.length > 0 ? orders[0] : null;

  return (
    <motion.header
      initial={{ y: -20, opacity: 0 }}
      animate={{ y: 0, opacity: 1 }}
      className="border-b border-white/5 p-4 relative z-40"
    >
      <div className="flex items-center justify-between max-w-6xl mx-auto">
        <div className="flex items-center space-x-4">
          {/* Mobile Chat History Toggle - Only show when authenticated */}
          {isAuthenticated && (
            <motion.div 
              whileHover={{ scale: 1.05 }} 
              whileTap={{ scale: 0.95 }}
              className="md:hidden"
            >
              <Button
                variant="ghost"
                size="sm"
                onClick={() => setChatHistoryOpen(!chatHistoryOpen)}
                className="hover:bg-white/5 transition-colors rounded-lg h-10 w-10"
              >
                <MessageSquare className="h-4 w-4" />
              </Button>
            </motion.div>
          )}

          {/* Desktop Chat History Toggle - Only show when authenticated */}
          {isAuthenticated && (
            <motion.div 
              whileHover={{ scale: 1.05 }} 
              whileTap={{ scale: 0.95 }}
              className="hidden md:block"
            >
              <Button
                variant="ghost"
                size="sm"
                onClick={() => setChatHistoryOpen(!chatHistoryOpen)}
                className="hover:bg-white/5 transition-colors rounded-lg h-10 w-10"
              >
                <Menu className="h-4 w-4" />
              </Button>
            </motion.div>
          )}

          {/* VendAI Clickable Logo (visible only on large screens) */}
          <motion.button
            whileHover={{ scale: 1.05 }}
            whileTap={{ scale: 0.95 }}
            onClick={onBackToChat}
            className="hidden lg:flex items-center hover:opacity-80 transition-opacity"
          >
            <h1 className="text-xl font-bold">
              <span className="bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent font-light">
                vend
              </span>
              <span className="bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent font-black">
                ai
              </span>
            </h1>
          </motion.button>
        </div>

        <div className="flex items-center space-x-2">
          {!isAuthenticated ? (
            <motion.div whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }}>
              <Button
                size="sm"
                onClick={onLogin}
                className="bg-white text-gray-700 hover:bg-gray-50 border border-gray-300 shadow-sm transition-all duration-200 rounded-lg px-4 py-2 flex items-center space-x-2 font-medium"
              >
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  className="flex-shrink-0"
                >
                  <path
                    fill="#4285F4"
                    d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                  />
                  <path
                    fill="#34A853"
                    d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                  />
                  <path
                    fill="#FBBC05"
                    d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                  />
                  <path
                    fill="#EA4335"
                    d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                  />
                </svg>
                <span>Continue with Google</span>
              </Button>
            </motion.div>
          ) : (
            <>
              {/* Order History */}
              <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
                <Button
                  variant="ghost"
                  size="sm"
                  onClick={() => setShowOrderHistory(!showOrderHistory)}
                  className="relative hover:bg-white/5 transition-colors rounded-lg"
                >
                  <Package className="h-4 w-4" />
                  {orders.length > 0 && (
                    <motion.div
                      initial={{ scale: 0 }}
                      animate={{ scale: 1 }}
                      className="absolute -top-1 -right-1 h-4 w-4 rounded-full bg-gradient-to-r from-green-500 to-teal-500 text-white flex items-center justify-center text-xs font-bold"
                    >
                      {orders.length}
                    </motion.div>
                  )}
                </Button>
              </motion.div>

              {/* Cart */}
              <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
                <Button
                  variant="ghost"
                  size="sm"
                  onClick={() => setShowCart(true)}
                  className="relative hover:bg-white/5 transition-colors rounded-lg"
                >
                  <ShoppingCart className="h-4 w-4" />
                  {cart.length > 0 && (
                    <motion.div
                      initial={{ scale: 0 }}
                      animate={{ scale: 1 }}
                      className="absolute -top-1 -right-1 h-4 w-4 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white flex items-center justify-center text-xs font-bold"
                    >
                      {cart.reduce((sum, item) => sum + item.quantity, 0)}
                    </motion.div>
                  )}
                </Button>
              </motion.div>

              {/* Order History Modal */}
              <AnimatePresence>
                {showOrderHistory && recentOrder && (
                  <motion.div
                    initial={{ opacity: 0, scale: 0.95, y: -10 }}
                    animate={{ opacity: 1, scale: 1, y: 0 }}
                    exit={{ opacity: 0, scale: 0.95, y: -10 }}
                    className="fixed right-4 top-16 w-80 bg-black/90 backdrop-blur-xl rounded-xl border border-white/10 p-4 z-50"
                  >
                    <div className="space-y-4">
                      <h3 className="font-medium text-lg text-white">Recent Order</h3>
                      {recentOrder ? (
                        <div className="space-y-3">
                          <div className="flex items-center justify-between">
                            <span className="font-medium text-sm text-gray-200">Order #{recentOrder.id.split("-").pop()}</span>
                            <span className="text-xs text-gray-400">
                              {new Date(recentOrder.date).toLocaleDateString("en-KE", { month: "short", day: "numeric" })}
                            </span>
                          </div>
                          <div className="flex items-center justify-between">
                            <span className="text-xs text-gray-400">{recentOrder.items.length} items</span>
                            <span className="font-bold text-green-400">KES {recentOrder.total.toLocaleString()}</span>
                          </div>
                          {recentOrder.items.map((item: any, index: number) => (
                            <div key={index} className="flex items-center justify-between text-sm">
                              <span className="text-gray-300">{item.name}</span>
                              <span className="text-gray-400">x{item.quantity}</span>
                            </div>
                          ))}
                        </div>
                      ) : (
                        <p className="text-gray-400 text-sm text-center py-4">No recent order</p>
                      )}
                    </div>
                  </motion.div>
                )}
              </AnimatePresence>
            </>
          )}
        </div>
      </div>
    </motion.header>
  );
}

===== components/login-prompt-modal.tsx =====
"use client"

import { motion, AnimatePresence } from "framer-motion"
import { ShoppingCart, User, Sparkles, ArrowRight } from "lucide-react"
import { Button } from "@/components/ui/button"

interface LoginPromptModalProps {
  show: boolean
  onClose: () => void
  onLogin: () => void
  onSignup: () => void
}

export function LoginPromptModal({ show, onClose, onLogin, onSignup }: LoginPromptModalProps) {
  return (
    <AnimatePresence>
      {show && (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          className="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4"
          onClick={onClose}
        >
          <motion.div
            initial={{ scale: 0.8, opacity: 0, y: 20 }}
            animate={{ scale: 1, opacity: 1, y: 0 }}
            exit={{ scale: 0.8, opacity: 0, y: 20 }}
            transition={{ type: "spring", damping: 25, stiffness: 300 }}
            className="glass-effect rounded-2xl p-8 w-full max-w-md border border-white/20 relative overflow-hidden"
            onClick={(e) => e.stopPropagation()}
          >
            {/* Animated background elements */}
            <div className="absolute inset-0 overflow-hidden">
              <motion.div
                animate={{
                  rotate: [0, 360],
                  scale: [1, 1.2, 1],
                }}
                transition={{
                  duration: 20,
                  repeat: Number.POSITIVE_INFINITY,
                  ease: "linear",
                }}
                className="absolute -top-10 -right-10 w-20 h-20 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-xl"
              />
              <motion.div
                animate={{
                  rotate: [360, 0],
                  scale: [1, 1.3, 1],
                }}
                transition={{
                  duration: 15,
                  repeat: Number.POSITIVE_INFINITY,
                  ease: "linear",
                }}
                className="absolute -bottom-10 -left-10 w-16 h-16 bg-gradient-to-r from-green-500/20 to-teal-500/20 rounded-full blur-xl"
              />
            </div>

            <div className="relative z-10">
              {/* Icon Animation */}
              <motion.div
                initial={{ scale: 0 }}
                animate={{ scale: 1 }}
                transition={{ delay: 0.2, type: "spring", damping: 15 }}
                className="flex justify-center mb-6"
              >
                <div className="relative">
                  <motion.div
                    animate={{
                      rotate: [0, 10, -10, 0],
                    }}
                    transition={{
                      duration: 2,
                      repeat: Number.POSITIVE_INFINITY,
                      ease: "easeInOut",
                    }}
                    className="w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/25"
                  >
                    <ShoppingCart className="h-8 w-8 text-white" />
                  </motion.div>
                  <motion.div
                    animate={{
                      scale: [1, 1.2, 1],
                      opacity: [0.5, 1, 0.5],
                    }}
                    transition={{
                      duration: 2,
                      repeat: Number.POSITIVE_INFINITY,
                      ease: "easeInOut",
                    }}
                    className="absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center"
                  >
                    <Sparkles className="h-3 w-3 text-yellow-900" />
                  </motion.div>
                </div>
              </motion.div>

              {/* Content */}
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.4 }}
                className="text-center mb-8"
              >
                <h2 className="text-2xl font-bold mb-3 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">
                  Ready to Shop?
                </h2>
                <p className="text-gray-400 text-sm leading-relaxed">
                  Sign in to add items to your cart and enjoy seamless shopping with AI assistance
                </p>
              </motion.div>

              {/* Buttons */}
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.6 }}
                className="space-y-3"
              >
                <motion.div whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }}>
                  <Button
                    onClick={onLogin}
                    className="w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white rounded-xl py-3 font-medium shadow-lg shadow-blue-500/25 transition-all duration-300"
                  >
                    <User className="h-4 w-4 mr-2" />
                    Sign In
                    <ArrowRight className="h-4 w-4 ml-2" />
                  </Button>
                </motion.div>

                <motion.div whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }}>
                  <Button
                    onClick={onClose}
                    variant="ghost"
                    className="w-full text-gray-400 hover:text-white text-sm transition-colors"
                  >
                    Continue browsing
                  </Button>
                </motion.div>
              </motion.div>

              {/* Features */}
              <motion.div
                initial={{ opacity: 0 }}
                animate={{ opacity: 1 }}
                transition={{ delay: 0.8 }}
                className="mt-6 pt-6 border-t border-white/10"
              >
                <div className="grid grid-cols-2 gap-4 text-xs text-gray-400">
                  <div className="flex items-center space-x-2">
                    <div className="w-2 h-2 bg-green-400 rounded-full"></div>
                    <span>AI Shopping Assistant</span>
                  </div>
                  <div className="flex items-center space-x-2">
                    <div className="w-2 h-2 bg-blue-400 rounded-full"></div>
                    <span>Order Tracking</span>
                  </div>
                  <div className="flex items-center space-x-2">
                    <div className="w-2 h-2 bg-purple-400 rounded-full"></div>
                    <span>Quick Reorders</span>
                  </div>
                  <div className="flex items-center space-x-2">
                    <div className="w-2 h-2 bg-yellow-400 rounded-full"></div>
                    <span>Best Prices</span>
                  </div>
                </div>
              </motion.div>
            </div>
          </motion.div>
        </motion.div>
      )}
    </AnimatePresence>
  )
}


===== hooks/use-mobile.tsx =====
import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange)
  }, [])

  return !!isMobile
}


===== hooks/use-toast.ts =====
"use client"

// Inspired by react-hot-toast library
import * as React from "react"

import type {
  ToastActionElement,
  ToastProps,
} from "@/components/ui/toast"

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 1000000

type ToasterToast = ToastProps & {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
}

const actionTypes = {
  ADD_TOAST: "ADD_TOAST",
  UPDATE_TOAST: "UPDATE_TOAST",
  DISMISS_TOAST: "DISMISS_TOAST",
  REMOVE_TOAST: "REMOVE_TOAST",
} as const

let count = 0

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER
  return count.toString()
}

type ActionType = typeof actionTypes

type Action =
  | {
      type: ActionType["ADD_TOAST"]
      toast: ToasterToast
    }
  | {
      type: ActionType["UPDATE_TOAST"]
      toast: Partial<ToasterToast>
    }
  | {
      type: ActionType["DISMISS_TOAST"]
      toastId?: ToasterToast["id"]
    }
  | {
      type: ActionType["REMOVE_TOAST"]
      toastId?: ToasterToast["id"]
    }

interface State {
  toasts: ToasterToast[]
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()

const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) {
    return
  }

  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId)
    dispatch({
      type: "REMOVE_TOAST",
      toastId: toastId,
    })
  }, TOAST_REMOVE_DELAY)

  toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case "ADD_TOAST":
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      }

    case "UPDATE_TOAST":
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t
        ),
      }

    case "DISMISS_TOAST": {
      const { toastId } = action

      // ! Side effects ! - This could be extracted into a dismissToast() action,
      // but I'll keep it here for simplicity
      if (toastId) {
        addToRemoveQueue(toastId)
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id)
        })
      }

      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t
        ),
      }
    }
    case "REMOVE_TOAST":
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        }
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      }
  }
}

const listeners: Array<(state: State) => void> = []

let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action)
  listeners.forEach((listener) => {
    listener(memoryState)
  })
}

type Toast = Omit<ToasterToast, "id">

function toast({ ...props }: Toast) {
  const id = genId()

  const update = (props: ToasterToast) =>
    dispatch({
      type: "UPDATE_TOAST",
      toast: { ...props, id },
    })
  const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id })

  dispatch({
    type: "ADD_TOAST",
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) dismiss()
      },
    },
  })

  return {
    id: id,
    dismiss,
    update,
  }
}

function useToast() {
  const [state, setState] = React.useState<State>(memoryState)

  React.useEffect(() => {
    listeners.push(setState)
    return () => {
      const index = listeners.indexOf(setState)
      if (index > -1) {
        listeners.splice(index, 1)
      }
    }
  }, [state])

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: "DISMISS_TOAST", toastId }),
  }
}

export { useToast, toast }


===== lib/types.ts =====
export interface OrderItem {
  id: number;
  name: string;
  price: number;
  quantity: number;
  category: string;
  image?: string;
}

export interface Order {
  id: string;
  userId: string;
  items: OrderItem[];
  total: number;
  status: "pending" | "processing" | "shipped" | "completed" | "cancelled";
  paymentStatus: "pending" | "paid" | "failed";
  paymentMethod: "mpesa" | "card" | "cash";
  deliveryAddress: { address: string; location: { lat: number; lng: number }; notes: string };
  deliveryDate: string;
  createdAt: string;
  updatedAt: string;
  orderNumber?: string; // Optional to match order-history-modal
  date?: string; // Optional to match order-history-modal
}

===== lib/auth-context.tsx =====
"use client";

import { createContext, useContext, useEffect, useState } from "react";
import { auth, db } from "@/lib/firebase";
import {
  onAuthStateChanged,
  signOut as firebaseSignOut,
} from "firebase/auth";
import { doc, getDoc } from "firebase/firestore";
import { User as FirebaseUser } from "firebase/auth"; // Import Firebase User type

interface UserData {
  uid: string;
  name: string | null;
  email: string | null;
  phone: string | null;
  photoURL?: string | null;
  provider: string;
  address?: string;
  city?: string;
  area?: string;
  createdAt: string;
  updatedAt: string;
}

interface AuthContextType {
  user: FirebaseUser | null;
  userData: UserData | null;
  loading: boolean;
  logout: () => Promise<void>;
}

const AuthContext = createContext<AuthContextType>({
  user: null,
  userData: null,
  loading: true,
  logout: async () => {}, // Default empty logout function
});

export function AuthProvider({ children }: { children: React.ReactNode }) {
  const [user, setUser] = useState<FirebaseUser | null>(null);
  const [userData, setUserData] = useState<UserData | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    let unsubscribe: () => void;

    try {
      unsubscribe = onAuthStateChanged(auth, async (firebaseUser) => {
        setUser(firebaseUser);
        if (firebaseUser) {
          const userDoc = await getDoc(doc(db, "users", firebaseUser.uid));
          if (userDoc.exists()) {
            setUserData({
              uid: firebaseUser.uid,
              name: userDoc.data().name || firebaseUser.displayName || null,
              email: userDoc.data().email || firebaseUser.email || null,
              phone: userDoc.data().phone || null,
              photoURL: userDoc.data().photoURL || firebaseUser.photoURL || null,
              provider: userDoc.data().provider || "email",
              address: userDoc.data().address,
              city: userDoc.data().city,
              area: userDoc.data().area,
              createdAt: userDoc.data().createdAt || firebaseUser.metadata.creationTime || new Date().toISOString(),
              updatedAt: userDoc.data().updatedAt || firebaseUser.metadata.lastSignInTime || new Date().toISOString(),
            });
          } else {
            setUserData(null); // Handle case where user doc doesn't exist
          }
        } else {
          setUserData(null);
        }
        setLoading(false);
      });
    } catch (error) {
      console.error("Auth state change error:", error);
      setUser(null);
      setUserData(null);
      setLoading(false);
    }

    return () => unsubscribe && unsubscribe();
  }, []);

  const logout = async () => {
    try {
      await firebaseSignOut(auth);
      setUser(null);
      setUserData(null);
      // Additional cleanup can be added here if needed
      console.log("Logged out successfully at", new Date().toLocaleString("en-KE", { timeZone: "Africa/Nairobi" }));
    } catch (error) {
      console.error("Logout error:", error);
      throw error; // Re-throw to allow calling component to handle
    }
  };

  return <AuthContext.Provider value={{ user, userData, loading, logout }}>{children}</AuthContext.Provider>;
}

export const useAuth = () => useContext(AuthContext);

===== lib/firebase.ts =====
// lib/firebase.ts
import { initializeApp, getApps, getApp } from "firebase/app"
import { getAuth } from "firebase/auth"
import { getFirestore } from "firebase/firestore"

const firebaseConfig = {
  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,
  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,
  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,
  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,
  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,
  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,
}

const app = getApps().length ? getApp() : initializeApp(firebaseConfig)

export const auth = getAuth(app)
export const db = getFirestore(app)


===== lib/utils.ts =====
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}


===== utils/product-management.ts =====
// Product Management Utilities
import { type Product, PRODUCTS } from "@/data/products"
import { type ProductImage, PRODUCT_IMAGES } from "@/data/product-images"

export interface ProductWithImages extends Product {
  images: ProductImage[]
  primaryImage?: ProductImage
}

export interface CategoryStats {
  category: string
  count: number
  totalValue: number
  averagePrice: number
}

// Enhanced product management functions
export const getAllProductsWithImages = (): ProductWithImages[] => {
  return PRODUCTS.map((product) => {
    const images = PRODUCT_IMAGES.filter((img) => img.productId === product.id)
    const primaryImage = images.find((img) => img.isPrimary)

    return {
      ...product,
      images,
      primaryImage,
    }
  })
}

export const getProductWithImages = (productId: number): ProductWithImages | undefined => {
  const product = PRODUCTS.find((p) => p.id === productId)
  if (!product) return undefined

  const images = PRODUCT_IMAGES.filter((img) => img.productId === productId)
  const primaryImage = images.find((img) => img.isPrimary)

  return {
    ...product,
    images,
    primaryImage,
  }
}

export const getCategoryStats = (): CategoryStats[] => {
  const stats: Record<string, CategoryStats> = {}

  PRODUCTS.forEach((product) => {
    if (!stats[product.category]) {
      stats[product.category] = {
        category: product.category,
        count: 0,
        totalValue: 0,
        averagePrice: 0,
      }
    }

    stats[product.category].count++
    stats[product.category].totalValue += product.price * product.stock
  })

  // Calculate average prices
  Object.values(stats).forEach((stat) => {
    const categoryProducts = PRODUCTS.filter((p) => p.category === stat.category)
    stat.averagePrice = categoryProducts.reduce((sum, p) => sum + p.price, 0) / categoryProducts.length
  })

  return Object.values(stats).sort((a, b) => b.count - a.count)
}

export const getTopSellingProducts = (limit = 10): Product[] => {
  // This would typically come from sales data, for now we'll use stock levels as proxy
  return [...PRODUCTS].sort((a, b) => b.stock - a.stock).slice(0, limit)
}

export const getLowStockProducts = (threshold = 20): Product[] => {
  return PRODUCTS.filter((product) => product.stock <= threshold).sort((a, b) => a.stock - b.stock)
}

export const searchProductsAdvanced = (query: string, category?: string, priceRange?: [number, number]): Product[] => {
  let results = PRODUCTS

  // Filter by search query
  if (query) {
    const lowercaseQuery = query.toLowerCase()
    results = results.filter(
      (product) =>
        product.name.toLowerCase().includes(lowercaseQuery) ||
        product.description.toLowerCase().includes(lowercaseQuery) ||
        product.brand?.toLowerCase().includes(lowercaseQuery),
    )
  }

  // Filter by category
  if (category && category !== "all") {
    results = results.filter((product) => product.category === category)
  }

  // Filter by price range
  if (priceRange) {
    results = results.filter((product) => product.price >= priceRange[0] && product.price <= priceRange[1])
  }

  return results
}

export const getProductRecommendations = (productId: number, limit = 4): Product[] => {
  const product = PRODUCTS.find((p) => p.id === productId)
  if (!product) return []

  // Get products from same category, excluding the current product
  const sameCategory = PRODUCTS.filter((p) => p.category === product.category && p.id !== productId)

  // Get products with similar price range (±20%)
  const priceRange = product.price * 0.2
  const similarPrice = PRODUCTS.filter((p) => Math.abs(p.price - product.price) <= priceRange && p.id !== productId)

  // Combine and deduplicate
  const recommendations = [...sameCategory, ...similarPrice]
    .filter((product, index, self) => index === self.findIndex((p) => p.id === product.id))
    .slice(0, limit)

  return recommendations
}

// Product CRUD operations (for admin use)
export const addProduct = (productData: Omit<Product, "id">): Product => {
  const newId = Math.max(...PRODUCTS.map((p) => p.id)) + 1
  const newProduct: Product = {
    id: newId,
    ...productData,
  }

  PRODUCTS.push(newProduct)
  return newProduct
}

export const updateProduct = (productId: number, updates: Partial<Product>): Product | null => {
  const index = PRODUCTS.findIndex((p) => p.id === productId)
  if (index === -1) return null

  PRODUCTS[index] = { ...PRODUCTS[index], ...updates }
  return PRODUCTS[index]
}

export const deleteProduct = (productId: number): boolean => {
  const index = PRODUCTS.findIndex((p) => p.id === productId)
  if (index === -1) return false

  PRODUCTS.splice(index, 1)
  return true
}

export const updateProductStock = (productId: number, newStock: number): boolean => {
  const product = PRODUCTS.find((p) => p.id === productId)
  if (!product) return false

  product.stock = newStock
  return true
}

// Bulk operations
export const bulkUpdatePrices = (categoryOrIds: string | number[], priceMultiplier: number): number => {
  let updatedCount = 0

  if (typeof categoryOrIds === "string") {
    // Update by category
    PRODUCTS.forEach((product) => {
      if (product.category === categoryOrIds) {
        product.price = Math.round(product.price * priceMultiplier)
        updatedCount++
      }
    })
  } else {
    // Update by IDs
    categoryOrIds.forEach((id) => {
      const product = PRODUCTS.find((p) => p.id === id)
      if (product) {
        product.price = Math.round(product.price * priceMultiplier)
        updatedCount++
      }
    })
  }

  return updatedCount
}

export const exportProductsToCSV = (): string => {
  const headers = ["ID", "Name", "Price", "Category", "Description", "Stock", "Unit", "Brand", "Size"]
  const rows = PRODUCTS.map((product) => [
    product.id,
    product.name,
    product.price,
    product.category,
    product.description,
    product.stock,
    product.unit,
    product.brand || "",
    product.size || "",
  ])

  const csvContent = [headers, ...rows].map((row) => row.map((field) => `"${field}"`).join(",")).join("\n")

  return csvContent
}


===== styles/globals.css =====
@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: Arial, Helvetica, sans-serif;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}


===== data/product-images.ts =====
// product-images.ts
export interface ProductImage {
  id: number;
  productId: number;
  filename: string;
  path: string;
  alt: string;
  isPrimary: boolean;
}

// Image naming convention: product-name-specifications.[extension]
export const PRODUCT_IMAGES: ProductImage[] = [
  // EGGS
  {
    id: 1,
    productId: 1,
    filename: "eggs-crate.jpg",
    path: "/images/products/eggs-crate.jpg",
    alt: "Eggs Crate 30 pieces",
    isPrimary: true,
  },

  // COOKING OILS & FATS
  {
    id: 2,
    productId: 2,
    filename: "rina-cooking-oil-20l.jpg",
    path: "/images/products/rina-cooking-oil-20l.jpg",
    alt: "RINA Cooking Oil 20 Litres",
    isPrimary: true,
  },
  {
    id: 3,
    productId: 3,
    filename: "rina-cooking-oil-10l.jpg",
    path: "/images/products/rina-cooking-oil-10l.jpg",
    alt: "RINA Cooking Oil 10 Litres",
    isPrimary: true,
  },
  {
    id: 4,
    productId: 4,
    filename: "salit-cooking-oil-20l.jpg",
    path: "/images/products/salit-cooking-oil-20l.jpg",
    alt: "SALIT Cooking Oil 20 Litres",
    isPrimary: true,
  },
  {
    id: 5,
    productId: 5,
    filename: "bahari-cooking-oil-20l.jpg",
    path: "/images/products/bahari-cooking-oil-20l.jpg",
    alt: "BAHARI Cooking Oil 20 Litres",
    isPrimary: true,
  },
  {
    id: 6,
    productId: 6,
    filename: "postman-cooking-oil-20l.jpg",
    path: "/images/products/postman-cooking-oil-20l.jpg",
    alt: "POSTMAN Cooking Oil 20 Litres",
    isPrimary: true,
  },
  {
    id: 7,
    productId: 7,
    filename: "pika-cooking-oil-20l.jpg",
    path: "/images/products/pika-cooking-oil-20l.jpg",
    alt: "PIKA Cooking Oil 20 Litres",
    isPrimary: true,
  },
  {
    id: 8,
    productId: 8,
    filename: "salit-cooking-oil-10l.jpg",
    path: "/images/products/salit-cooking-oil-10l.jpg",
    alt: "SALIT Cooking Oil 10 Litres",
    isPrimary: true,
  },
  {
    id: 9,
    productId: 9,
    filename: "bahari-cooking-oil-10l.jpg",
    path: "/images/products/bahari-cooking-oil-10l.jpg",
    alt: "BAHARI Cooking Oil 10 Litres",
    isPrimary: true,
  },
  {
    id: 10,
    productId: 10,
    filename: "postman-cooking-oil-10l.jpg",
    path: "/images/products/postman-cooking-oil-10l.jpg",
    alt: "POSTMAN Cooking Oil 10 Litres",
    isPrimary: true,
  },
  {
    id: 11,
    productId: 11,
    filename: "pika-cooking-oil-10l.jpg",
    path: "/images/products/pika-cooking-oil-10l.jpg",
    alt: "PIKA Cooking Oil 10 Litres",
    isPrimary: true,
  },
  {
    id: 12,
    productId: 12,
    filename: "rinsun-sunflower-oil-20l.jpg",
    path: "/images/products/rinsun-sunflower-oil-20l.jpg",
    alt: "RINSUN Sunflower Vegetable Oil 20 Litres",
    isPrimary: true,
  },
  {
    id: 13,
    productId: 13,
    filename: "somo-cooking-fat-10kg.jpg",
    path: "/images/products/somo-cooking-fat-10kg.jpg",
    alt: "SOMO Solid Cooking Fat 10kg Carton",
    isPrimary: true,
  },
  {
    id: 14,
    productId: 14,
    filename: "frymate-cooking-fat-10kg.jpg",
    path: "/images/products/frymate-cooking-fat-10kg.jpg",
    alt: "FRY MATE Cooking Fat 10kg Carton",
    isPrimary: true,
  },

  // RICE
  {
    id: 15,
    productId: 15,
    filename: "biriyani-rice-25kg.jpg",
    path: "/images/products/biriyani-rice-25kg.jpg",
    alt: "BIRIYANI RICE 25kgs",
    isPrimary: true,
  },
  {
    id: 16,
    productId: 16,
    filename: "basmati-rice-25kg.jpg",
    path: "/images/products/basmati-rice-25kg.jpg",
    alt: "BASMATI RICE 25kgs",
    isPrimary: true,
  },
  {
    id: 17,
    productId: 17,
    filename: "pishori-rice-25kg.jpg",
    path: "/images/products/pishori-rice-25kg.jpg",
    alt: "PISHORI RICE 25kgs",
    isPrimary: true,
  },
  {
    id: 18,
    productId: 18,
    filename: "sindano-rice-25kg.jpg",
    path: "/images/products/sindano-rice-25kg.jpg",
    alt: "SINDANO RICE 25kgs",
    isPrimary: true,
  },

  // SUGAR
  {
    id: 19,
    productId: 19,
    filename: "brown-sugar-50kg.jpg",
    path: "/images/products/brown-sugar-50kg.jpg",
    alt: "SUGAR (Brown) 50kgs",
    isPrimary: true,
  },
  {
    id: 20,
    productId: 20,
    filename: "white-sugar-50kg.jpg",
    path: "/images/products/white-sugar-50kg.jpg",
    alt: "SUGAR (White) 50kgs",
    isPrimary: true,
  },

  // FLOUR
  {
    id: 151,
    productId: 151,
    filename: "wheat-flour-ajab-2kg-bale.jpg",
    path: "/images/products/wheat-flour-ajab-2kg-bale.jpg",
    alt: "WHEAT Flour Ajab 2kg Bale",
    isPrimary: true,
  },
  {
    id: 152,
    productId: 152,
    filename: "wheat-flour-ajab-1kg-bale.jpg",
    path: "/images/products/wheat-flour-ajab-1kg-bale.jpg",
    alt: "WHEAT Flour Ajab 1kg Bale",
    isPrimary: true,
  },
  {
    id: 153,
    productId: 153,
    filename: "wheat-flour-pembe-2kg-bale.jpg",
    path: "/images/products/wheat-flour-pembe-2kg-bale.jpg",
    alt: "WHEAT Flour Pembe 2kg Bale",
    isPrimary: true,
  },
  {
    id: 154,
    productId: 154,
    filename: "wheat-flour-pembe-1kg-bale.jpg",
    path: "/images/products/wheat-flour-pembe-1kg-bale.jpg",
    alt: "WHEAT Flour Pembe 1kg Bale",
    isPrimary: true,
  },
  {
    id: 155,
    productId: 155,
    filename: "wheat-flour-dola-2kg-bale.jpg",
    path: "/images/products/wheat-flour-dola-2kg-bale.jpg",
    alt: "WHEAT Flour Dola 2kg Bale",
    isPrimary: true,
  },
  {
    id: 156,
    productId: 156,
    filename: "wheat-flour-dola-1kg-bale.jpg",
    path: "/images/products/wheat-flour-dola-1kg-bale.jpg",
    alt: "WHEAT Flour Dola 1kg Bale",
    isPrimary: true,
  },
  {
    id: 157,
    productId: 157,
    filename: "wheat-flour-ndovu-2kg-bale.jpg",
    path: "/images/products/wheat-flour-ndovu-2kg-bale.jpg",
    alt: "WHEAT Flour Ndovu 2kg Bale",
    isPrimary: true,
  },
  {
    id: 158,
    productId: 158,
    filename: "wheat-flour-ndovu-1kg-bale.jpg",
    path: "/images/products/wheat-flour-ndovu-1kg-bale.jpg",
    alt: "WHEAT Flour Ndovu 1kg Bale",
    isPrimary: true,
  },
  {
    id: 159,
    productId: 159,
    filename: "wheat-flour-soko-2kg-bale.jpg",
    path: "/images/products/wheat-flour-soko-2kg-bale.jpg",
    alt: "WHEAT Flour Soko 2kg Bale",
    isPrimary: true,
  },
  {
    id: 160,
    productId: 160,
    filename: "wheat-flour-soko-1kg-bale.jpg",
    path: "/images/products/wheat-flour-soko-1kg-bale.jpg",
    alt: "WHEAT Flour Soko 1kg Bale",
    isPrimary: true,
  },

  // MAIZE FLOUR
  {
    id: 161,
    productId: 161,
    filename: "maize-flour-pembe-2kg-bale.jpg",
    path: "/images/products/maize-flour-pembe-2kg-bale.jpg",
    alt: "MAIZE Flour Pembe 2kg Bale",
    isPrimary: true,
  },
  {
    id: 162,
    productId: 162,
    filename: "maize-flour-pembe-1kg-bale.jpg",
    path: "/images/products/maize-flour-pembe-1kg-bale.jpg",
    alt: "MAIZE Flour Pembe 1kg Bale",
    isPrimary: true,
  },
  {
    id: 163,
    productId: 163,
    filename: "maize-flour-dola-2kg-bale.jpg",
    path: "/images/products/maize-flour-dola-2kg-bale.jpg",
    alt: "MAIZE Flour Dola 2kg Bale",
    isPrimary: true,
  },
  {
    id: 164,
    productId: 164,
    filename: "maize-flour-dola-1kg-bale.jpg",
    path: "/images/products/maize-flour-dola-1kg-bale.jpg",
    alt: "MAIZE Flour Dola 1kg Bale",
    isPrimary: true,
  },
  {
    id: 165,
    productId: 165,
    filename: "maize-flour-ndovu-2kg-bale.jpg",
    path: "/images/products/maize-flour-ndovu-2kg-bale.jpg",
    alt: "MAIZE Flour Ndovu 2kg Bale",
    isPrimary: true,
  },
  {
    id: 166,
    productId: 166,
    filename: "maize-flour-ndovu-1kg-bale.jpg",
    path: "/images/products/maize-flour-ndovu-1kg-bale.jpg",
    alt: "MAIZE Flour Ndovu 1kg Bale",
    isPrimary: true,
  },
  {
    id: 167,
    productId: 167,
    filename: "maize-flour-soko-2kg-bale.jpg",
    path: "/images/products/maize-flour-soko-2kg-bale.jpg",
    alt: "MAIZE Flour Soko 2kg Bale",
    isPrimary: true,
  },
  {
    id: 168,
    productId: 168,
    filename: "maize-flour-soko-1kg-bale.jpg",
    path: "/images/products/maize-flour-soko-1kg-bale.jpg",
    alt: "MAIZE Flour Soko 1kg Bale",
    isPrimary: true,
  },
  // BEVERAGES
  {
    id: 25,
    productId: 25,
    filename: "red-bull-24pack.jpg",
    path: "/images/products/red-bull-24pack.jpg",
    alt: "RED BULL 24 Pack",
    isPrimary: true,
  },
  {
    id: 26,
    productId: 26,
    filename: "azam-energy-24pack.jpg",
    path: "/images/products/azam-energy-24pack.jpg",
    alt: "AZAM Energy Drink 300ml 24 Pack",
    isPrimary: true,
  },
  {
    id: 27,
    productId: 27,
    filename: "predator-energy-12pcs.jpg",
    path: "/images/products/predator-energy-12pcs.jpg",
    alt: "PREDATOR Energy Drink 500ml 12pcs",
    isPrimary: true,
  },
  {
    id: 28,
    productId: 28,
    filename: "powerplay-energy-12pcs.jpg",
    path: "/images/products/powerplay-energy-12pcs.jpg",
    alt: "POWER PLAY Energy Drink 500ml 12pcs",
    isPrimary: true,
  },

  // DAIRY PRODUCTS
  {
    id: 29,
    productId: 29,
    filename: "milk-powder-25kg.jpg",
    path: "/images/products/milk-powder-25kg.jpg",
    alt: "MILK POWDER 25kg",
    isPrimary: true,
  },
  {
    id: 30,
    productId: 30,
    filename: "lato-milk-12pcs.jpg",
    path: "/images/products/lato-milk-12pcs.jpg",
    alt: "Lato UHT Whole MILK 500ml Box of 12 pieces",
    isPrimary: true,
  },

  // PERSONAL CARE & HYGIENE
  {
    id: 31,
    productId: 31,
    filename: "menengai-soap-25pcs.jpg",
    path: "/images/products/menengai-soap-25pcs.jpg",
    alt: "MENENGAI Bar Soap 1kg Carton of 25pcs",
    isPrimary: true,
  },
  {
    id: 32,
    productId: 32,
    filename: "msafi-soap-10pcs.jpg",
    path: "/images/products/msafi-soap-10pcs.jpg",
    alt: "MSAFI Bar Soap 1kg 10pcs",
    isPrimary: true,
  },
  {
    id: 33,
    productId: 33,
    filename: "bidco-soap-25pcs.jpg",
    path: "/images/products/bidco-soap-25pcs.jpg",
    alt: "BIDCO Cream Bar Soap 800g 25pcs",
    isPrimary: true,
  },

  // HOUSEHOLD ITEMS
  {
    id: 34,
    productId: 34,
    filename: "daawat-spaghetti-24pcs.jpg",
    path: "/images/products/daawat-spaghetti-24pcs.jpg",
    alt: "Daawat Spaghetti 400g Carton of 24 pieces",
    isPrimary: true,
  },
  {
    id: 169,
    productId: 169,
    filename: "bella-tissue-48pcs.jpg",
    path: "/images/products/bella-tissue-48pcs.jpg",
    alt: "Bella Tissue Bale of 48 pieces",
    isPrimary: true,
  },
  {
    id: 170,
    productId: 170,
    filename: "hanan-tissue-48pcs.jpg",
    path: "/images/products/hanan-tissue-48pcs.jpg",
    alt: "Hanan Tissue Bale of 48 pieces",
    isPrimary: true,
  },
  {
    id: 36,
    productId: 36,
    filename: "weetabix-24pcs.jpg",
    path: "/images/products/weetabix-24pcs.jpg",
    alt: "Weetabix 45g Carton of 24 pieces",
    isPrimary: true,
  },
  {
    id: 37,
    productId: 37,
    filename: "indomie-24pcs.jpg",
    path: "/images/products/indomie-24pcs.jpg",
    alt: "INDOMIE 70g Carton of 24 pieces",
    isPrimary: true,
  },
  {
    id: 38,
    productId: 38,
    filename: "sunlight-powder-24pcs.jpg",
    path: "/images/products/sunlight-powder-24pcs.jpg",
    alt: "Sunlight Washing Powder 500g 24 pieces",
    isPrimary: true,
  },

  // BABY CARE
  {
    id: 39,
    productId: 39,
    filename: "softcare-pampers-6pcs.jpg",
    path: "/images/products/softcare-pampers-6pcs.jpg",
    alt: "Softcare Pampers Bale of 6 Packets",
    isPrimary: true,
  },
  {
    id: 40,
    productId: 40,
    filename: "kisskids-6pcs.jpg",
    path: "/images/products/kisskids-6pcs.jpg",
    alt: "Kisskids Bale of 6 Packets",
    isPrimary: true,
  },
  {
    id: 41,
    productId: 41,
    filename: "makueni-ndengu-90kg.jpg",
    path: "/images/products/makueni-ndengu-90kg.jpg",
    alt: "Makueni Ndengu 90kgs",
    isPrimary: true,
  },
  {
    id: 42,
    productId: 42,
    filename: "nylon-ndengu-90kg.jpg",
    path: "/images/products/nylon-ndengu-90kg.jpg",
    alt: "Nylon Ndengu 90kgs",
    isPrimary: true,
  },
  {
    id: 43,
    productId: 43,
    filename: "kamande-50kg.jpg",
    path: "/images/products/kamande-50kg.jpg",
    alt: "Kamande 50kgs",
    isPrimary: true,
  },
  {
    id: 44,
    productId: 44,
    filename: "sorghum-90kg.jpg",
    path: "/images/products/sorghum-90kg.jpg",
    alt: "Sorghum 90kgs",
    isPrimary: true,
  },

  // CLEANING PRODUCTS
  {
    id: 45,
    productId: 45,
    filename: "livelle-tissue-10x4s.jpg",
    path: "/images/products/livelle-tissue-10x4s.jpg",
    alt: "Livelle Toilet Tissue 10x4s",
    isPrimary: true,
  },
  {
    id: 46,
    productId: 46,
    filename: "poshy-tissue-4x10s.jpg",
    path: "/images/products/poshy-tissue-4x10s.jpg",
    alt: "Poshy Roll Xtra Toilet Tissue Unwrapped 4x10s",
    isPrimary: true,
  },
  {
    id: 47,
    productId: 47,
    filename: "poshy-jumbo-12x1s.jpg",
    path: "/images/products/poshy-jumbo-12x1s.jpg",
    alt: "Poshy Mega Tissue Jumbo Roll Wrapped 12x1s",
    isPrimary: true,
  },
  {
    id: 48,
    productId: 48,
    filename: "celine-serviettes-9x100.jpg",
    path: "/images/products/celine-serviettes-9x100.jpg",
    alt: "Celine Premium Serviettes Single Pack 9x100 Sheets",
    isPrimary: true,
  },
  {
    id: 49,
    productId: 49,
    filename: "poshy-serviettes-9x100.jpg",
    path: "/images/products/poshy-serviettes-9x100.jpg",
    alt: "Poshy Serviettes 9x100 Sheets",
    isPrimary: true,
  },
  {
    id: 50,
    productId: 50,
    filename: "velvex-serviettes-12x100.jpg",
    path: "/images/products/velvex-serviettes-12x100.jpg",
    alt: "Velvex White Plain Serviettes 12x100 Sheets",
    isPrimary: true,
  },
  {
    id: 51,
    productId: 50,
    filename: "nuru-powder-24x500g.jpg",
    path: "/images/products/nuru-powder-24x500g.jpg",
    alt: "Nuru Scouring Powder Lemon Fresh Bottle 24x500g",
    isPrimary: true,
  },
  {
    id: 52,
    productId: 51,
    filename: "msafi-white-soap-12x700g.jpg",
    path: "/images/products/msafi-white-soap-12x700g.jpg",
    alt: "Msafi White Bar Soap 12x700g",
    isPrimary: true,
  },
  {
    id: 53,
    productId: 52,
    filename: "nuru-paste-6x800g.jpg",
    path: "/images/products/nuru-paste-6x800g.jpg",
    alt: "Nuru Dish Washing Paste Lemon Spark 6x800g",
    isPrimary: true,
  },
  {
    id: 54,
    productId: 53,
    filename: "velvex-liquid-1x5l.jpg",
    path: "/images/products/velvex-liquid-1x5l.jpg",
    alt: "Velvex Dishwashing Liquid Lemon Burst 1x5L",
    isPrimary: true,
  },
  {
    id: 55,
    productId: 54,
    filename: "sunlight-powder-6x1kg.jpg",
    path: "/images/products/sunlight-powder-6x1kg.jpg",
    alt: "Sunlight Hand Washing Powder Eden Yellow 6x1Kg",
    isPrimary: true,
  },
  {
    id: 56,
    productId: 55,
    filename: "vim-powder-6x1kg.jpg",
    path: "/images/products/vim-powder-6x1kg.jpg",
    alt: "Vim Powder Lemon Fresh 6x1Kg",
    isPrimary: true,
  },
  {
    id: 57,
    productId: 56,
    filename: "jik-bleach-4x1.5l.jpg",
    path: "/images/products/jik-bleach-4x1.5l.jpg",
    alt: "Jik Bleach Regular 4x1.5L",
    isPrimary: true,
  },
  {
    id: 58,
    productId: 57,
    filename: "nuru-liquid-4x5l.jpg",
    path: "/images/products/nuru-liquid-4x5l.jpg",
    alt: "Nuru Dish Washing Liquid Lemon Spark 4x5L",
    isPrimary: true,
  },
  {
    id: 59,
    productId: 58,
    filename: "jik-colours-4x1.5l.jpg",
    path: "/images/products/jik-colours-4x1.5l.jpg",
    alt: "Jik Bleach Colours 4x1.5L",
    isPrimary: true,
  },
  {
    id: 60,
    productId: 59,
    filename: "kleen-kat-pads-16x12.jpg",
    path: "/images/products/kleen-kat-pads-16x12.jpg",
    alt: "Kleen Kat Scouring Pad Value Pack 16x12Pack",
    isPrimary: true,
  },
  {
    id: 61,
    productId: 60,
    filename: "velvex-freshener-12x300ml.jpg",
    path: "/images/products/velvex-freshener-12x300ml.jpg",
    alt: "Velvex Air Freshener After Rain Freshness 12x300ml",
    isPrimary: true,
  },
  {
    id: 62,
    productId: 61,
    filename: "kleen-kat-sponge-14x5.jpg",
    path: "/images/products/kleen-kat-sponge-14x5.jpg",
    alt: "Kleen Kat Sponge Scourer 14x5Pack",
    isPrimary: true,
  },
  {
    id: 63,
    productId: 62,
    filename: "harpic-12x1l.jpg",
    path: "/images/products/harpic-12x1l.jpg",
    alt: "Harpic Power Plus Original 12x1L",
    isPrimary: true,
  },
  {
    id: 64,
    productId: 63,
    filename: "harpic-24x500ml.jpg",
    path: "/images/products/harpic-24x500ml.jpg",
    alt: "Harpic Power Plus Original 24x500ml",
    isPrimary: true,
  },
  {
    id: 65,
    productId: 64,
    filename: "softleaf-4x10s.jpg",
    path: "/images/products/softleaf-4x10s.jpg",
    alt: "Softleaf Tissue Rolls 4x10s",
    isPrimary: true,
  },
  {
    id: 66,
    productId: 65,
    filename: "velvex-balls-12x5.jpg",
    path: "/images/products/velvex-balls-12x5.jpg",
    alt: "Velvex Disinfectant Balls 5 Colored 12x5 Balls",
    isPrimary: true,
  },
  {
    id: 67,
    productId: 66,
    filename: "velvex-handwash-nature-6x400ml.jpg",
    path: "/images/products/velvex-handwash-nature-6x400ml.jpg",
    alt: "Velvex Liquid Hand Wash Nature 6x400ml",
    isPrimary: true,
  },
  {
    id: 68,
    productId: 67,
    filename: "velvex-handwash-coral-6x400ml.jpg",
    path: "/images/products/velvex-handwash-coral-6x400ml.jpg",
    alt: "Velvex Liquid Hand Wash Coral 6x400ml",
    isPrimary: true,
  },
  {
    id: 69,
    productId: 68,
    filename: "velvex-detergent-1x5l.jpg",
    path: "/images/products/velvex-detergent-1x5l.jpg",
    alt: "Velvex Multipurpose Liquid Detergent Green 1x5L",
    isPrimary: true,
  },
  {
    id: 70,
    productId: 69,
    filename: "cleanrol-towel-24x2s.jpg",
    path: "/images/products/cleanrol-towel-24x2s.jpg",
    alt: "Cleanrol Kitchen Towel 24x2s",
    isPrimary: true,
  },
  {
    id: 71,
    productId: 149,
    filename: "velvex-freshener-6x300ml.jpg",
    path: "/images/products/velvex-freshener-6x300ml.jpg",
    alt: "Velvex Air Freshener Lavender & Camomile 6x300ml",
    isPrimary: true,
  },
  {
    id: 72,
    productId: 71,
    filename: "velvex-toilet-citrus-6x1l.jpg",
    path: "/images/products/velvex-toilet-citrus-6x1l.jpg",
    alt: "Velvex Toilet Cleaner Citrus Burst 6x1L",
    isPrimary: true,
  },
  {
    id: 73,
    productId: 72,
    filename: "velvex-toilet-ocean-6x1l.jpg",
    path: "/images/products/velvex-toilet-ocean-6x1l.jpg",
    alt: "Velvex Toilet Cleaner Ocean Breeze 6x1L",
    isPrimary: true,
  },
  {
    id: 74,
    productId: 73,
    filename: "glassy-liquid-12x600ml.jpg",
    path: "/images/products/glassy-liquid-12x600ml.jpg",
    alt: "Glassy Liquid Glass and Window Cleaner Ocean Scent 12x600ml",
    isPrimary: true,
  },
  {
    id: 75,
    productId: 74,
    filename: "rosy-gel-1x5l.jpg",
    path: "/images/products/rosy-gel-1x5l.jpg",
    alt: "Rosy Clear Hand Sanitizing Gel 1x5L",
    isPrimary: true,
  },
  {
    id: 76,
    productId: 75,
    filename: "msafi-bleach-12x1l.jpg",
    path: "/images/products/msafi-bleach-12x1l.jpg",
    alt: "Msafi Bleach Colour (750ml + 250ml Free) 12x1L",
    isPrimary: true,
  },

  // JUICES
  {
    id: 77,
    productId: 76,
    filename: "picknpeel-tropical-12x1l.jpg",
    path: "/images/products/picknpeel-tropical-12x1l.jpg",
    alt: "Pick N Peel Pure Fruit Juice Tetra Tropical Mix 12x1L",
    isPrimary: true,
  },
  {
    id: 78,
    productId: 77,
    filename: "picknpeel-pineapple-12x1l.jpg",
    path: "/images/products/picknpeel-pineapple-12x1l.jpg",
    alt: "Pick N Peel Pure Fruit Juice Tetra Pineapple 12x1L",
    isPrimary: true,
  },
  {
    id: 79,
    productId: 78,
    filename: "picknpeel-mango-12x1l.jpg",
    path: "/images/products/picknpeel-mango-12x1l.jpg",
    alt: "Pick N Peel Pure Fruit Juice Tetra Mango 12x1L",
    isPrimary: true,
  },
  {
    id: 80,
    productId: 79,
    filename: "picknpeel-orange-12x1l.jpg",
    path: "/images/products/picknpeel-orange-12x1l.jpg",
    alt: "Pick N Peel Pure Fruit Juice Tetra Orange 12x1L",
    isPrimary: true,
  },
  {
    id: 81,
    productId: 80,
    filename: "picknpeel-mango-12x250ml.jpg",
    path: "/images/products/picknpeel-mango-12x250ml.jpg",
    alt: "Pick N Peel Pure Fruit Juice Tetra Mango 12x250ml",
    isPrimary: true,
  },
  {
    id: 82,
    productId: 81,
    filename: "minutemaid-mango-12x400ml.jpg",
    path: "/images/products/minutemaid-mango-12x400ml.jpg",
    alt: "Minute Maid Mango Juice 12x400ml",
    isPrimary: true,
  },
  {
    id: 83,
    productId: 82,
    filename: "minutemaid-apple-12x400ml.jpg",
    path: "/images/products/minutemaid-apple-12x400ml.jpg",
    alt: "Minute Maid Apple Juice 12x400ml",
    isPrimary: true,
  },

  // BABY AND PERSONAL CARE
  {
    id: 84,
    productId: 83,
    filename: "maramoja-tablets-4x100s.jpg",
    path: "/images/products/maramoja-tablets-4x100s.jpg",
    alt: "Mara Moja Painkiller Tablets 4x100s",
    isPrimary: true,
  },
  {
    id: 85,
    productId: 84,
    filename: "kotex-ultrathin-super-16x8.jpg",
    path: "/images/products/kotex-ultrathin-super-16x8.jpg",
    alt: "Kotex Ultrathin Sanitary Pads Super 16x8's",
    isPrimary: true,
  },
  {
    id: 86,
    productId: 85,
    filename: "kotex-tampons-regular-12x16.jpg",
    path: "/images/products/kotex-tampons-regular-12x16.jpg",
    alt: "Kotex Tampons Regular 12x16's",
    isPrimary: true,
  },
  {
    id: 87,
    productId: 86,
    filename: "kotex-pantyliners-16x20.jpg",
    path: "/images/products/kotex-pantyliners-16x20.jpg",
    alt: "Kotex Panty Liners 16x20's",
    isPrimary: true,
  },
  {
    id: 88,
    productId: 87,
    filename: "kotex-tampons-super-12x16.jpg",
    path: "/images/products/kotex-tampons-super-12x16.jpg",
    alt: "Kotex Tampons Super 12x16's",
    isPrimary: true,
  },
  {
    id: 89,
    productId: 88,
    filename: "kotex-ultrathin-duos-16x16.jpg",
    path: "/images/products/kotex-ultrathin-duos-16x16.jpg",
    alt: "Kotex Ultrathin Sanitary Pads Super Duos 16x16's",
    isPrimary: true,
  },

  // SNACKS
  {
    id: 90,
    productId: 89,
    filename: "krackles-assorted-48x30g.jpg",
    path: "/images/products/krackles-assorted-48x30g.jpg",
    alt: "Krackles Potato Crisps Assorted 48x30g",
    isPrimary: true,
  },
  {
    id: 91,
    productId: 90,
    filename: "mm-chocolate-3x200g.jpg",
    path: "/images/products/mm-chocolate-3x200g.jpg",
    alt: "M&M'S Chocolate 3x200g",
    isPrimary: true,
  },
  {
    id: 92,
    productId: 91,
    filename: "tropical-chevda-6x340g.jpg",
    path: "/images/products/tropical-chevda-6x340g.jpg",
    alt: "Tropical Heat Kenyan Chevda Hot 6x340g",
    isPrimary: true,
  },
  {
    id: 93,
    productId: 92,
    filename: "krackles-bbq-12x125g.jpg",
    path: "/images/products/krackles-bbq-12x125g.jpg",
    alt: "Krackles Potato Crisps Bar-B-Que 12x125g",
    isPrimary: true,
  },
  {
    id: 94,
    productId: 93,
    filename: "haribo-cherries-15x80g.jpg",
    path: "/images/products/haribo-cherries-15x80g.jpg",
    alt: "Haribo Happy Cherries 15x80g",
    isPrimary: true,
  },
  {
    id: 95,
    productId: 94,
    filename: "haribo-starmix-15x80g.jpg",
    path: "/images/products/haribo-starmix-15x80g.jpg",
    alt: "Haribo Starmix 15x80g",
    isPrimary: true,
  },
  {
    id: 96,
    productId: 95,
    filename: "maryland-choc-chip-10x136g.jpg",
    path: "/images/products/maryland-choc-chip-10x136g.jpg",
    alt: "Maryland Choc Chip Cookies 10x136g",
    isPrimary: true,
  },
  {
    id: 97,
    productId: 96,
    filename: "mentos-mint-20x135g.jpg",
    path: "/images/products/mentos-mint-20x135g.jpg",
    alt: "Mentos Monos Mint 20x135g",
    isPrimary: true,
  },
  {
    id: 98,
    productId: 97,
    filename: "kitkat-white-24x41.5g.jpg",
    path: "/images/products/kitkat-white-24x41.5g.jpg",
    alt: "Nestle Kitkat 4 Fingers White Chocolate 24x41.5g",
    isPrimary: true,
  },
  {
    id: 99,
    productId: 98,
    filename: "mcvities-digestive-5x400g.jpg",
    path: "/images/products/mcvities-digestive-5x400g.jpg",
    alt: "Mcvities Digestive Biscuit 5x400g",
    isPrimary: true,
  },
  {
    id: 100,
    productId: 99,
    filename: "oreo-original-12x55.2g.jpg",
    path: "/images/products/oreo-original-12x55.2g.jpg",
    alt: "Oreo Original Biscuit 12x55.2g",
    isPrimary: true,
  },
  {
    id: 101,
    productId: 100,
    filename: "maryland-choc-hazelnut-10x136g.jpg",
    path: "/images/products/maryland-choc-hazelnut-10x136g.jpg",
    alt: "Maryland Choc Chip & Hazelnut Cookies 10x136g",
    isPrimary: true,
  },
  {
    id: 102,
    productId: 101,
    filename: "maryland-choc-chip-10x136g.jpg",
    path: "/images/products/maryland-choc-chip-10x136g.jpg",
    alt: "Maryland Choc Chip Cookies 10x136g",
    isPrimary: true,
  },
  {
    id: 103,
    productId: 102,
    filename: "oreo-original-12x27.6g.jpg",
    path: "/images/products/oreo-original-12x27.6g.jpg",
    alt: "Oreo Original Biscuit 12x27.6g",
    isPrimary: true,
  },
  {
    id: 104,
    productId: 103,
    filename: "oreo-original-12x18.4g.jpg",
    path: "/images/products/oreo-original-12x18.4g.jpg",
    alt: "Oreo Original Biscuit 12x18.4g",
    isPrimary: true,
  },

  // CANNED FOODS
  {
    id: 105,
    productId: 104,
    filename: "domee-peach-halves-12x425g.jpg",
    path: "/images/products/domee-peach-halves-12x425g.jpg",
    alt: "Domee Peach Halves Syrup 12x425g",
    isPrimary: true,
  },
  {
    id: 106,
    productId: 105,
    filename: "domee-lychees-6x567g.jpg",
    path: "/images/products/domee-lychees-6x567g.jpg",
    alt: "Domee Lychees 6x567g",
    isPrimary: true,
  },
  {
    id: 107,
    productId: 106,
    filename: "domee-pear-halves-6x425g.jpg",
    path: "/images/products/domee-pear-halves-6x425g.jpg",
    alt: "Domee Pear Halves In Syrup 6x425g",
    isPrimary: true,
  },
  {
    id: 108,
    productId: 107,
    filename: "velvex-foil-30x60m.jpg",
    path: "/images/products/velvex-foil-30x60m.jpg",
    alt: "Velvex Aluminium Foil Catering Roll 1x30cmx60m",
    isPrimary: true,
  },
  {
    id: 109,
    productId: 108,
    filename: "velvex-cling-30x300m.jpg",
    path: "/images/products/velvex-cling-30x300m.jpg",
    alt: "Velvex Cling Film Catering Roll 1x30cmx300m",
    isPrimary: true,
  },
  {
    id: 110,
    productId: 109,
    filename: "velvex-cling-30x1500m.jpg",
    path: "/images/products/velvex-cling-30x1500m.jpg",
    alt: "Velvex Cling Film Catering Roll 1x30cmx1500m",
    isPrimary: true,
  },
  {
    id: 111,
    productId: 110,
    filename: "velvex-foil-30x90m.jpg",
    path: "/images/products/velvex-foil-30x90m.jpg",
    alt: "Velvex Aluminium Foil Catering 30cmX90m - 1 Roll",
    isPrimary: true,
  },

  // BABY CARE (DIAPERS)
  {
    id: 112,
    productId: 111,
    filename: "softcare-gold-small-48pcs.jpg",
    path: "/images/products/softcare-gold-small-48pcs.jpg",
    alt: "Softcare Gold Baby Diapers Small (48 pieces) 3-6kgs",
    isPrimary: true,
  },
  {
    id: 113,
    productId: 112,
    filename: "softcare-gold-medium-42pcs.jpg",
    path: "/images/products/softcare-gold-medium-42pcs.jpg",
    alt: "Softcare Gold Baby Diapers Medium (42 pieces) 6.1-9kgs",
    isPrimary: true,
  },
  {
    id: 114,
    productId: 113,
    filename: "softcare-gold-large-40pcs.jpg",
    path: "/images/products/softcare-gold-large-40pcs.jpg",
    alt: "Softcare Gold Baby Diapers Large (40 pieces) 9.1-15kgs",
    isPrimary: true,
  },
  {
    id: 115,
    productId: 114,
    filename: "softcare-gold-bale-6pkts.jpg",
    path: "/images/products/softcare-gold-bale-6pkts.jpg",
    alt: "Softcare Gold Baby Diapers Bale (6 Packets)",
    isPrimary: true,
  },
  {
    id: 116,
    productId: 115,
    filename: "cuettie-small-48pcs.jpg",
    path: "/images/products/cuettie-small-48pcs.jpg",
    alt: "Cuettie Baby Diapers Small (48 pieces) 3-6kgs",
    isPrimary: true,
  },
  {
    id: 117,
    productId: 116,
    filename: "cuettie-medium-44pcs.jpg",
    path: "/images/products/cuettie-medium-44pcs.jpg",
    alt: "Cuettie Baby Diapers Medium (44 pieces) 6.1-9kgs",
    isPrimary: true,
  },
  {
    id: 118,
    productId: 117,
    filename: "cuettie-large-40pcs.jpg",
    path: "/images/products/cuettie-large-40pcs.jpg",
    alt: "Cuettie Baby Diapers Large (40 pieces) 9.1-15kgs",
    isPrimary: true,
  },
  {
    id: 119,
    productId: 118,
    filename: "cuettie-bale-6pkts.jpg",
    path: "/images/products/cuettie-bale-6pkts.jpg",
    alt: "Cuettie Baby Diapers Bale (6 Packets)",
    isPrimary: true,
  },
  {
    id: 120,
    productId: 119,
    filename: "hopebaby-pullup-large-22pcs.jpg",
    path: "/images/products/hopebaby-pullup-large-22pcs.jpg",
    alt: "Hopebaby Pull-up Baby Diapers Large (9-14kgs) 22 pieces",
    isPrimary: true,
  },
  {
    id: 121,
    productId: 120,
    filename: "hopebaby-pullup-xl-20pcs.jpg",
    path: "/images/products/hopebaby-pullup-xl-20pcs.jpg",
    alt: "Hopebaby Pull-up Baby Diapers Extra Large (>12kgs) 20 pieces",
    isPrimary: true,
  },
  {
    id: 122,
    productId: 121,
    filename: "hopebaby-carton-8pkts.jpg",
    path: "/images/products/hopebaby-carton-8pkts.jpg",
    alt: "Hopebaby Pull-up Baby Diapers Carton (8 Packets)",
    isPrimary: true,
  },
  {
    id: 123,
    productId: 122,
    filename: "sunny-medium-10pcs.jpg",
    path: "/images/products/sunny-medium-10pcs.jpg",
    alt: "Sunny/Bluecare Adult Diapers Medium (10 diapers) 30-45in",
    isPrimary: true,
  },
  {
    id: 124,
    productId: 123,
    filename: "sunny-large-10pcs.jpg",
    path: "/images/products/sunny-large-10pcs.jpg",
    alt: "Sunny/Bluecare Adult Diapers Large (10 diapers) 40-55in",
    isPrimary: true,
  },
  {
    id: 125,
    productId: 124,
    filename: "sunny-xl-10pcs.jpg",
    path: "/images/products/sunny-xl-10pcs.jpg",
    alt: "Sunny/Bluecare Adult Diapers Extra Large (10 diapers) 50-65in",
    isPrimary: true,
  },
  {
    id: 126,
    productId: 125,
    filename: "sunny-carton-6pkts.jpg",
    path: "/images/products/sunny-carton-6pkts.jpg",
    alt: "Sunny/Bluecare Adult Diapers Carton (6 Packets)",
    isPrimary: true,
  },
  {
    id: 127,
    productId: 126,
    filename: "bluecare-pullup-large-10pcs.jpg",
    path: "/images/products/bluecare-pullup-large-10pcs.jpg",
    alt: "Bluecare Pull-up Adult Diapers Large (10 diapers) 75-100cm",
    isPrimary: true,
  },
  {
    id: 128,
    productId: 127,
    filename: "bluecare-pullup-xl-10pcs.jpg",
    path: "/images/products/bluecare-pullup-xl-10pcs.jpg",
    alt: "Bluecare Pull-up Adult Diapers Extra Large (10 diapers) 90-120cm",
    isPrimary: true,
  },
  {
    id: 129,
    productId: 128,
    filename: "bluecare-bale-10pkts.jpg",
    path: "/images/products/bluecare-bale-10pkts.jpg",
    alt: "Bluecare Pull-up Adult Diapers Bale (10 Packets)",
    isPrimary: true,
  },
  {
    id: 130,
    productId: 129,
    filename: "clincleer-pads-48x10.jpg",
    path: "/images/products/clincleer-pads-48x10.jpg",
    alt: "Clincleer Sanitary Pads Carton (48 packets with 10 pads each)",
    isPrimary: true,
  },
  {
    id: 131,
    productId: 130,
    filename: "domee-pineapple-slices-12x425g.jpg",
    path: "/images/products/domee-pineapple-slices-12x425g.jpg",
    alt: "Domee Pineapple Slices In Syrup 12x425g",
    isPrimary: true,
  },
  {
    id: 132,
    productId: 131,
    filename: "domee-fruit-cocktail-12x425g.jpg",
    path: "/images/products/domee-fruit-cocktail-12x425g.jpg",
    alt: "Domee Fruit Cocktail In Syrup 12x425g",
    isPrimary: true,
  },

  // BEVERAGES
  {
    id: 133,
    productId: 132,
    filename: "schweppes-tonic-24x300ml.jpg",
    path: "/images/products/schweppes-tonic-24x300ml.jpg",
    alt: "Schweppes Tonic Water 24x300ml",
    isPrimary: true,
  },
  {
    id: 134,
    productId: 133,
    filename: "schweppes-ginger-24x300ml.jpg",
    path: "/images/products/schweppes-ginger-24x300ml.jpg",
    alt: "Schweppes Ginger Ale 24x300ml",
    isPrimary: true,
  },
  {
    id: 135,
    productId: 134,
    filename: "schweppes-soda-24x300ml.jpg",
    path: "/images/products/schweppes-soda-24x300ml.jpg",
    alt: "Schweppes Soda Water 24x300ml",
    isPrimary: true,
  },
  {
    id: 136,
    productId: 135,
    filename: "schweppes-bitter-lemon-24x300ml.jpg",
    path: "/images/products/schweppes-bitter-lemon-24x300ml.jpg",
    alt: "Schweppes Bitter Lemon 24x300ml",
    isPrimary: true,
  },

  // SNACKS
  {
    id: 137,
    productId: 136,
    filename: "cheetos-puffs-12x85g.jpg",
    path: "/images/products/cheetos-puffs-12x85g.jpg",
    alt: "Cheetos Puffs Cheese Flavored 12x85g",
    isPrimary: true,
  },
  {
    id: 138,
    productId: 137,
    filename: "doritos-nacho-12x80g.jpg",
    path: "/images/products/doritos-nacho-12x80g.jpg",
    alt: "Doritos Nacho Cheese 12x80g",
    isPrimary: true,
  },

  // BISCUITS AND COOKIES
  {
    id: 139,
    productId: 138,
    filename: "maryland-double-choc-10x136g.jpg",
    path: "/images/products/maryland-double-choc-10x136g.jpg",
    alt: "Maryland Double Choc Chip Cookies 10x136g",
    isPrimary: true,
  },
  {
    id: 140,
    productId: 139,
    filename: "maryland-choc-orange-10x136g.jpg",
    path: "/images/products/maryland-choc-orange-10x136g.jpg",
    alt: "Maryland Choc Orange Cookies 10x136g",
    isPrimary: true,
  },
  {
    id: 141,
    productId: 140,
    filename: "maryland-strawberry-10x136g.jpg",
    path: "/images/products/maryland-strawberry-10x136g.jpg",
    alt: "Maryland Strawberry Cookies 10x136g",
    isPrimary: true,
  },
  {
    id: 142,
    productId: 141,
    filename: "maryland-vanilla-10x136g.jpg",
    path: "/images/products/maryland-vanilla-10x136g.jpg",
    alt: "Maryland Vanilla Cookies 10x136g",
    isPrimary: true,
  },
  {
    id: 143,
    productId: 142,
    filename: "maryland-caramel-10x136g.jpg",
    path: "/images/products/maryland-caramel-10x136g.jpg",
    alt: "Maryland Caramel Cookies 10x136g",
    isPrimary: true,
  },
  {
    id: 144,
    productId: 143,
    filename: "maryland-ginger-10x136g.jpg",
    path: "/images/products/maryland-ginger-10x136g.jpg",
    alt: "Maryland Ginger Cookies 10x136g",
    isPrimary: true,
  },
  {
    id: 145,
    productId: 144,
    filename: "kitkat-chunk-24x40g.jpg",
    path: "/images/products/kitkat-chunk-24x40g.jpg",
    alt: "Nestle Kitkat Chunky 24x40g",
    isPrimary: true,
  },
  {
    id: 146,
    productId: 145,
    filename: "kitkat-orange-24x41.5g.jpg",
    path: "/images/products/kitkat-orange-24x41.5g.jpg",
    alt: "Nestle Kitkat 4 Fingers Orange 24x41.5g",
    isPrimary: true,
  },
  {
    id: 147,
    productId: 146,
    filename: "smarties-24x38g.jpg",
    path: "/images/products/smarties-24x38g.jpg",
    alt: "Nestle Smarties 24x38g",
    isPrimary: true,
  },
  {
    id: 148,
    productId: 147,
    filename: "milkybar-24x37g.jpg",
    path: "/images/products/milkybar-24x37g.jpg",
    alt: "Nestle Milkybar 24x37g",
    isPrimary: true,
  },
  {
    id: 149,
    productId: 148,
    filename: "aero-mint-24x33g.jpg",
    path: "/images/products/aero-mint-24x33g.jpg",
    alt: "Nestle Aero Mint Chocolate 24x33g",
    isPrimary: true,
  },
  {
    id: 150,
    productId: 150,
    filename: "lion-bar-24x42g.jpg",
    path: "/images/products/lion-bar-24x42g.jpg",
    alt: "Nestle Lion Bar 24x42g",
    isPrimary: true,
  },
];

// Helper functions for image management
export const getProductImages = (productId: number): ProductImage[] => {
  return PRODUCT_IMAGES.filter((image) => image.productId === productId);
};

export const getPrimaryProductImage = (productId: number): ProductImage | undefined => {
  return PRODUCT_IMAGES.find((image) => image.productId === productId && image.isPrimary);
};

export const getImageByFilename = (filename: string): ProductImage | undefined => {
  return PRODUCT_IMAGES.find((image) => image.filename === filename);
};

export const generateImageFilename = (productName: string, specifications: string): string => {
  const cleanName = productName
    .toLowerCase()
    .replace(/[^a-z0-9\s]/g, "")
    .replace(/\s+/g, "-");
  const cleanSpecs = specifications
    .toLowerCase()
    .replace(/[^a-z0-9]/g, "")
    .replace(/\s+/g, "");
  return `${cleanName}-${cleanSpecs}.jpg`;
};

export const validateImageFile = (file: File): boolean => {
  const allowedTypes = ["image/jpeg", "image/jpg", "image/png", "image/webp"];
  const maxSize = 5 * 1024 * 1024; // 5MB
  return allowedTypes.includes(file.type) && file.size <= maxSize;
};

===== data/products.ts =====
// products.ts
export interface Product {
  id: number;
  name: string;
  wholesalePrice: number;
  category: string;
  description: string;
  image: string;
  stock: number;
  unit: string;
  brand?: string;
  size?: string;
  price?: number;
  wholesaleQuantity?: number;
}

export const PRODUCT_CATEGORIES = {
  EGGS: "Eggs",
  COOKING_OILS: "Cooking Oils & Fats",
  RICE: "Rice",
  SUGAR: "Sugar",
  FLOUR: "Flour",
  BEVERAGES: "Beverages",
  DAIRY: "Dairy Products",
  PERSONAL_CARE: "Personal Care & Hygiene",
  HOUSEHOLD: "Household Items",
  BABY_CARE: "Baby Care",
  CEREALS: "Cereals & Legumes",
  CLEANING: "Cleaning Products",
  JUICES: "Juices",
  BABY_PERSONAL_CARE: "Baby and Personal Care",
  SNACKS: "Snacks",
  BISCUITS: "Biscuits and Cookies",
  CANNED_FOODS: "Canned Foods",
} as const;

export const PRODUCTS: Product[] = [
  // EGGS
  {
    id: 1,
    name: "Eggs Crate",
    wholesalePrice: 390, // 380 + 10
    category: PRODUCT_CATEGORIES.EGGS,
    description: "Fresh eggs - 30 pieces crate",
    image: "/images/products/eggs-crate.jpg",
    stock: 100,
    unit: "30 pcs",
    size: "30 Pieces",
    price: 380,
    wholesaleQuantity: 1,
  },

  // COOKING OILS & FATS
  {
    id: 2,
    name: "RINA Cooking Oil",
    wholesalePrice: 4010, // 4000 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Premium quality cooking oil - 20 Litres",
    image: "/images/products/rina-cooking-oil-20l.jpg",
    stock: 50,
    unit: "20L",
    brand: "RINA",
    size: "20 Litres",
    price: 4000,
    wholesaleQuantity: 1,
  },
  {
    id: 3,
    name: "RINA Cooking Oil",
    wholesalePrice: 2010, // 2000 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Premium quality cooking oil - 10 Litres",
    image: "/images/products/rina-cooking-oil-10l.jpg",
    stock: 80,
    unit: "10L",
    brand: "RINA",
    size: "10 Litres",
    price: 2000,
    wholesaleQuantity: 1,
  },
  {
    id: 4,
    name: "SALIT Cooking Oil",
    wholesalePrice: 4010, // 4000 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Quality cooking oil - 20 Litres",
    image: "/images/products/salit-cooking-oil-20l.jpg",
    stock: 60,
    unit: "20L",
    brand: "SALIT",
    size: "20 Litres",
    price: 4000,
    wholesaleQuantity: 1,
  },
  {
    id: 5,
    name: "BAHARI Cooking Oil",
    wholesalePrice: 4010, // 4000 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Quality cooking oil - 20 Litres",
    image: "/images/products/bahari-cooking-oil-20l.jpg",
    stock: 60,
    unit: "20L",
    brand: "BAHARI",
    size: "20 Litres",
    price: 4000,
    wholesaleQuantity: 1,
  },
  {
    id: 6,
    name: "POSTMAN Cooking Oil",
    wholesalePrice: 4010, // 4000 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Quality cooking oil - 20 Litres",
    image: "/images/products/postman-cooking-oil-20l.jpg",
    stock: 60,
    unit: "20L",
    brand: "POSTMAN",
    size: "20 Litres",
    price: 4000,
    wholesaleQuantity: 1,
  },
  {
    id: 7,
    name: "PIKA Cooking Oil",
    wholesalePrice: 4010, // 4000 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Quality cooking oil - 20 Litres",
    image: "/images/products/pika-cooking-oil-20l.jpg",
    stock: 60,
    unit: "20L",
    brand: "PIKA",
    size: "20 Litres",
    price: 4000,
    wholesaleQuantity: 1,
  },
  {
    id: 8,
    name: "SALIT Cooking Oil",
    wholesalePrice: 2010, // 2000 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Quality cooking oil - 10 Litres",
    image: "/images/products/salit-cooking-oil-10l.jpg",
    stock: 80,
    unit: "10L",
    brand: "SALIT",
    size: "10 Litres",
    price: 2000,
    wholesaleQuantity: 1,
  },
  {
    id: 9,
    name: "BAHARI Cooking Oil",
    wholesalePrice: 2010, // 2000 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Quality cooking oil - 10 Litres",
    image: "/images/products/bahari-cooking-oil-10l.jpg",
    stock: 80,
    unit: "10L",
    brand: "BAHARI",
    size: "10 Litres",
    price: 2000,
    wholesaleQuantity: 1,
  },
  {
    id: 10,
    name: "POSTMAN Cooking Oil",
    wholesalePrice: 2010, // 2000 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Quality cooking oil - 10 Litres",
    image: "/images/products/postman-cooking-oil-10l.jpg",
    stock: 80,
    unit: "10L",
    brand: "POSTMAN",
    size: "10 Litres",
    price: 2000,
    wholesaleQuantity: 1,
  },
  {
    id: 11,
    name: "PIKA Cooking Oil",
    wholesalePrice: 2010, // 2000 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Quality cooking oil - 10 Litres",
    image: "/images/products/pika-cooking-oil-10l.jpg",
    stock: 80,
    unit: "10L",
    brand: "PIKA",
    size: "10 Litres",
    price: 2000,
    wholesaleQuantity: 1,
  },
  {
    id: 12,
    name: "RINSUN Sunflower Vegetable Oil",
    wholesalePrice: 4210, // 4200 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Pure sunflower vegetable oil - 20 Litres",
    image: "/images/products/rinsun-sunflower-oil-20l.jpg",
    stock: 40,
    unit: "20L",
    brand: "RINSUN",
    size: "20 Litres",
    price: 4200,
    wholesaleQuantity: 1,
  },
  {
    id: 13,
    name: "SOMO Solid Cooking Fat",
    wholesalePrice: 1260, // 1250 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Solid cooking fat - 10kg Carton",
    image: "/images/products/somo-cooking-fat-10kg.jpg",
    stock: 30,
    unit: "10kg",
    brand: "SOMO",
    size: "10 Kilograms",
    price: 1250,
    wholesaleQuantity: 1,
  },
  {
    id: 14,
    name: "FRY MATE Cooking Fat",
    wholesalePrice: 1260, // 1250 + 10
    category: PRODUCT_CATEGORIES.COOKING_OILS,
    description: "Premium cooking fat - 10kg Carton",
    image: "/images/products/frymate-cooking-fat-10kg.jpg",
    stock: 35,
    unit: "10kg",
    brand: "FRY MATE",
    size: "10 Kilograms",
    price: 1250,
    wholesaleQuantity: 1,
  },

  // RICE
  {
    id: 15,
    name: "BIRYANI RICE",
    wholesalePrice: 2110, // 2100 + 10
    category: PRODUCT_CATEGORIES.RICE,
    description: "Premium Biryani rice - 25kg",
    image: "/images/products/biriyani-rice-25kg.jpg",
    stock: 20,
    unit: "25kg",
    size: "25 Kilograms",
    price: 2100,
    wholesaleQuantity: 1,
  },
  {
    id: 16,
    name: "BASMATI RICE",
    wholesalePrice: 2810, // 2800 + 10
    category: PRODUCT_CATEGORIES.RICE,
    description: "Premium Basmati rice - 25kg",
    image: "/images/products/basmati-rice-25kg.jpg",
    stock: 15,
    unit: "25kg",
    size: "25 Kilograms",
    price: 2800,
    wholesaleQuantity: 1,
  },
  {
    id: 17,
    name: "PISHORI RICE",
    wholesalePrice: 4010, // 4000 + 10
    category: PRODUCT_CATEGORIES.RICE,
    description: "Premium Pishori rice - 25kg",
    image: "/images/products/pishori-rice-25kg.jpg",
    stock: 12,
    unit: "25kg",
    size: "25 Kilograms",
    price: 4000,
    wholesaleQuantity: 1,
  },
  {
    id: 18,
    name: "SINDANO RICE",
    wholesalePrice: 2010, // 2000 + 10
    category: PRODUCT_CATEGORIES.RICE,
    description: "Quality Sindano rice - 25kg",
    image: "/images/products/sindano-rice-25kg.jpg",
    stock: 18,
    unit: "25kg",
    size: "25 Kilograms",
    price: 2000,
    wholesaleQuantity: 1,
  },

  // SUGAR
  {
    id: 19,
    name: "SUGAR (Brown)",
    wholesalePrice: 6410, // 6400 + 10
    category: PRODUCT_CATEGORIES.SUGAR,
    description: "Pure brown sugar - 50kg",
    image: "/images/products/brown-sugar-50kg.jpg",
    stock: 10,
    unit: "50kg",
    size: "50 Kilograms",
    price: 6400,
    wholesaleQuantity: 1,
  },
  {
    id: 20,
    name: "SUGAR (White)",
    wholesalePrice: 6510, // 6500 + 10
    category: PRODUCT_CATEGORIES.SUGAR,
    description: "Pure white sugar - 50kg",
    image: "/images/products/white-sugar-50kg.jpg",
    stock: 8,
    unit: "50kg",
    size: "50 Kilograms",
    price: 6500,
    wholesaleQuantity: 1,
  },

  {
    id: 151,
    name: "WHEAT Flour Ajab 2kg Bale",
    wholesalePrice: 1810, // 1800 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Premium wheat flour Ajab - 2kg Bale",
    image: "/images/products/wheat-flour-ajab-2kg-bale.jpg",
    stock: 50,
    unit: "Bale",
    brand: "Ajab",
    size: "2kg",
    price: 1800,
    wholesaleQuantity: 1,
  },
  {
    id: 152,
    name: "WHEAT Flour Ajab 1kg Bale",
    wholesalePrice: 1760, // 1750 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Premium wheat flour Ajab - 1kg Bale",
    image: "/images/products/wheat-flour-ajab-1kg-bale.jpg",
    stock: 60,
    unit: "Bale",
    brand: "Ajab",
    size: "1kg",
    price: 1750,
    wholesaleQuantity: 1,
  },
  {
    id: 153,
    name: "WHEAT Flour Pembe 2kg Bale",
    wholesalePrice: 1810, // 1800 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Premium wheat flour Pembe - 2kg Bale",
    image: "/images/products/wheat-flour-pembe-2kg-bale.jpg",
    stock: 50,
    unit: "Bale",
    brand: "Pembe",
    size: "2kg",
    price: 1800,
    wholesaleQuantity: 1,
  },
  {
    id: 154,
    name: "WHEAT Flour Pembe 1kg Bale",
    wholesalePrice: 1760, // 1750 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Premium wheat flour Pembe - 1kg Bale",
    image: "/images/products/wheat-flour-pembe-1kg-bale.jpg",
    stock: 60,
    unit: "Bale",
    brand: "Pembe",
    size: "1kg",
    price: 1750,
    wholesaleQuantity: 1,
  },
  {
    id: 155,
    name: "WHEAT Flour Dola 2kg Bale",
    wholesalePrice: 1810, // 1800 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Premium wheat flour Dola - 2kg Bale",
    image: "/images/products/wheat-flour-dola-2kg-bale.jpg",
    stock: 50,
    unit: "Bale",
    brand: "Dola",
    size: "2kg",
    price: 1800,
    wholesaleQuantity: 1,
  },
  {
    id: 156,
    name: "WHEAT Flour Dola 1kg Bale",
    wholesalePrice: 1760, // 1750 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Premium wheat flour Dola - 1kg Bale",
    image: "/images/products/wheat-flour-dola-1kg-bale.jpg",
    stock: 60,
    unit: "Bale",
    brand: "Dola",
    size: "1kg",
    price: 1750,
    wholesaleQuantity: 1,
  },
  {
    id: 157,
    name: "WHEAT Flour Ndovu 2kg Bale",
    wholesalePrice: 1810, // 1800 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Premium wheat flour Ndovu - 2kg Bale",
    image: "/images/products/wheat-flour-ndovu-2kg-bale.jpg",
    stock: 50,
    unit: "Bale",
    brand: "Ndovu",
    size: "2kg",
    price: 1800,
    wholesaleQuantity: 1,
  },
  {
    id: 158,
    name: "WHEAT Flour Ndovu 1kg Bale",
    wholesalePrice: 1760, // 1750 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Premium wheat flour Ndovu - 1kg Bale",
    image: "/images/products/wheat-flour-ndovu-1kg-bale.jpg",
    stock: 60,
    unit: "Bale",
    brand: "Ndovu",
    size: "1kg",
    price: 1750,
    wholesaleQuantity: 1,
  },
  {
    id: 159,
    name: "WHEAT Flour Soko 2kg Bale",
    wholesalePrice: 1810, // 1800 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Premium wheat flour Soko - 2kg Bale",
    image: "/images/products/wheat-flour-soko-2kg-bale.jpg",
    stock: 50,
    unit: "Bale",
    brand: "Soko",
    size: "2kg",
    price: 1800,
    wholesaleQuantity: 1,
  },
  {
    id: 160,
    name: "WHEAT Flour Soko 1kg Bale",
    wholesalePrice: 1760, // 1750 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Premium wheat flour Soko - 1kg Bale",
    image: "/images/products/wheat-flour-soko-1kg-bale.jpg",
    stock: 60,
    unit: "Bale",
    brand: "Soko",
    size: "1kg",
    price: 1750,
    wholesaleQuantity: 1,
  },

  // MAIZE FLOUR
  {
    id: 161,
    name: "MAIZE Flour Pembe 2kg Bale",
    wholesalePrice: 1610, // 1600 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Pure maize flour Pembe - 2kg Bale",
    image: "/images/products/maize-flour-pembe-2kg-bale.jpg",
    stock: 45,
    unit: "Bale",
    brand: "Pembe",
    size: "2kg",
    price: 1600,
    wholesaleQuantity: 1,
  },
  {
    id: 162,
    name: "MAIZE Flour Pembe 1kg Bale",
    wholesalePrice: 1560, // 1550 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Pure maize flour Pembe - 1kg Bale",
    image: "/images/products/maize-flour-pembe-1kg-bale.jpg",
    stock: 55,
    unit: "Bale",
    brand: "Pembe",
    size: "1kg",
    price: 1550,
    wholesaleQuantity: 1,
  },
  {
    id: 163,
    name: "MAIZE Flour Dola 2kg Bale",
    wholesalePrice: 1610, // 1600 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Pure maize flour Dola - 2kg Bale",
    image: "/images/products/maize-flour-dola-2kg-bale.jpg",
    stock: 45,
    unit: "Bale",
    brand: "Dola",
    size: "2kg",
    price: 1600,
    wholesaleQuantity: 1,
  },
  {
    id: 164,
    name: "MAIZE Flour Dola 1kg Bale",
    wholesalePrice: 1560, // 1550 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Pure maize flour Dola - 1kg Bale",
    image: "/images/products/maize-flour-dola-1kg-bale.jpg",
    stock: 55,
    unit: "Bale",
    brand: "Dola",
    size: "1kg",
    price: 1550,
    wholesaleQuantity: 1,
  },
  {
    id: 165,
    name: "MAIZE Flour Ndovu 2kg Bale",
    wholesalePrice: 1610, // 1600 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Pure maize flour Ndovu - 2kg Bale",
    image: "/images/products/maize-flour-ndovu-2kg-bale.jpg",
    stock: 45,
    unit: "Bale",
    brand: "Ndovu",
    size: "2kg",
    price: 1600,
    wholesaleQuantity: 1,
  },
  {
    id: 166,
    name: "MAIZE Flour Ndovu 1kg Bale",
    wholesalePrice: 1560, // 1550 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Pure maize flour Ndovu - 1kg Bale",
    image: "/images/products/maize-flour-ndovu-1kg-bale.jpg",
    stock: 55,
    unit: "Bale",
    brand: "Ndovu",
    size: "1kg",
    price: 1550,
    wholesaleQuantity: 1,
  },
  {
    id: 167,
    name: "MAIZE Flour Soko 2kg Bale",
    wholesalePrice: 1610, // 1600 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Pure maize flour Soko - 2kg Bale",
    image: "/images/products/maize-flour-soko-2kg-bale.jpg",
    stock: 45,
    unit: "Bale",
    brand: "Soko",
    size: "2kg",
    price: 1600,
    wholesaleQuantity: 1,
  },
  {
    id: 168,
    name: "MAIZE Flour Soko 1kg Bale",
    wholesalePrice: 1560, // 1550 + 10
    category: PRODUCT_CATEGORIES.FLOUR,
    description: "Pure maize flour Soko - 1kg Bale",
    image: "/images/products/maize-flour-soko-1kg-bale.jpg",
    stock: 55,
    unit: "Bale",
    brand: "Soko",
    size: "1kg",
    price: 1550,
    wholesaleQuantity: 1,
  },

  // BEVERAGES
  {
    id: 25,
    name: "RED BULL (24 Pack)",
    wholesalePrice: 2410, // 2400 + 10
    category: PRODUCT_CATEGORIES.BEVERAGES,
    description: "Premium energy drink - 24 Pack",
    image: "/images/products/red-bull-24pack.jpg",
    stock: 20,
    unit: "24 Pack",
    brand: "RED BULL",
    size: "24 Pack",
    price: 2400,
    wholesaleQuantity: 1,
  },
  {
    id: 26,
    name: "AZAM Energy Drink 300ml (24 Pack)",
    wholesalePrice: 870, // 860 + 10
    category: PRODUCT_CATEGORIES.BEVERAGES,
    description: "Energy drink 300ml - 24 Pack",
    image: "/images/products/azam-energy-24pack.jpg",
    stock: 25,
    unit: "24 Pack",
    brand: "AZAM",
    size: "24 Pack",
    price: 860,
    wholesaleQuantity: 1,
  },
  {
    id: 27,
    name: "PREDATOR Energy Drink 500ml (12pcs)",
    wholesalePrice: 490, // 480 + 10
    category: PRODUCT_CATEGORIES.BEVERAGES,
    description: "Energy drink 500ml - 12pcs",
    image: "/images/products/predator-energy-12pcs.jpg",
    stock: 30,
    unit: "12pcs",
    brand: "PREDATOR",
    size: "12 Pieces",
    price: 480,
    wholesaleQuantity: 1,
  },
  {
    id: 28,
    name: "POWER PLAY Energy Drink 500ml (12pcs)",
    wholesalePrice: 510, // 500 + 10
    category: PRODUCT_CATEGORIES.BEVERAGES,
    description: "Energy drink 500ml - 12pcs",
    image: "/images/products/powerplay-energy-12pcs.jpg",
    stock: 25,
    unit: "12pcs",
    brand: "POWER PLAY",
    size: "12 Pieces",
    price: 500,
    wholesaleQuantity: 1,
  },

  // DAIRY PRODUCTS
  {
    id: 29,
    name: "MILK POWDER",
    wholesalePrice: 7810, // 7800 + 10
    category: PRODUCT_CATEGORIES.DAIRY,
    description: "Pure milk powder - 25kg",
    image: "/images/products/milk-powder-25kg.jpg",
    stock: 15,
    unit: "25kg",
    size: "25 Kilograms",
    price: 7800,
    wholesaleQuantity: 1,
  },
  {
    id: 30,
    name: "Lato UHT Whole MILK 500ml (Box of 12 pieces)",
    wholesalePrice: 530, // 520 + 10
    category: PRODUCT_CATEGORIES.DAIRY,
    description: "Fresh whole milk 500ml - Box of 12 pieces",
    image: "/images/products/lato-milk-12pcs.jpg",
    stock: 40,
    unit: "12 pieces",
    brand: "Lato",
    size: "Box of 12",
    price: 520,
    wholesaleQuantity: 1,
  },

  // PERSONAL CARE & HYGIENE
  {
    id: 31,
    name: "MENENGAI Bar Soap 1kg (Carton of 25pcs)",
    wholesalePrice: 3010, // 3000 + 10
    category: PRODUCT_CATEGORIES.PERSONAL_CARE,
    description: "Quality bar soap 1kg - Carton of 25pcs",
    image: "/images/products/menengai-soap-25pcs.jpg",
    stock: 20,
    unit: "25pcs",
    brand: "MENENGAI",
    size: "Carton of 25",
    price: 3000,
    wholesaleQuantity: 1,
  },
  {
    id: 32,
    name: "MSAFI Bar Soap 1kg (10pcs)",
    wholesalePrice: 1160, // 1150 + 10
    category: PRODUCT_CATEGORIES.PERSONAL_CARE,
    description: "Premium bar soap 1kg - 10pcs",
    image: "/images/products/msafi-soap-10pcs.jpg",
    stock: 25,
    unit: "10pcs",
    brand: "MSAFI",
    size: "10 Pieces",
    price: 1150,
    wholesaleQuantity: 1,
  },
  {
    id: 33,
    name: "BIDCO Cream Bar Soap 800g (25pcs)",
    wholesalePrice: 2310, // 2300 + 10
    category: PRODUCT_CATEGORIES.PERSONAL_CARE,
    description: "Cream bar soap 800g - 25pcs",
    image: "/images/products/bidco-soap-25pcs.jpg",
    stock: 30,
    unit: "25pcs",
    brand: "BIDCO",
    size: "25 Pieces",
    price: 2300,
    wholesaleQuantity: 1,
  },

  // HOUSEHOLD ITEMS
  {
    id: 34,
    name: "Daawat Spaghetti 400g (Carton of 24 pieces)",
    wholesalePrice: 830, // 820 + 10
    category: PRODUCT_CATEGORIES.HOUSEHOLD,
    description: "Premium spaghetti 400g - Carton of 24 pieces",
    image: "/images/products/daawat-spaghetti-24pcs.jpg",
    stock: 40,
    unit: "24 pieces",
    brand: "Daawat",
    size: "Carton of 24",
    price: 820,
    wholesaleQuantity: 1,
  },
  {
    id: 169,
    name: "Bella Tissue (Bale of 48 pieces)",
    price: 1040, // 1030 + 10
    category: PRODUCT_CATEGORIES.HOUSEHOLD,
    description: "Quality Bella tissue - Bale of 48 pieces",
    image: "/images/products/bella-tissue-48pcs.jpg",
    stock: 50,
    unit: "48 pieces",
    brand: "Bella",
    size: "Bale of 48",
    wholesalePrice: 1030,
    wholesaleQuantity: 1,
  },
  {
    id: 170,
    name: "Hanan Tissue (Bale of 48 pieces)",
    price: 1040, // 1030 + 10
    category: PRODUCT_CATEGORIES.HOUSEHOLD,
    description: "Quality Hanan tissue - Bale of 48 pieces",
    image: "/images/products/hanan-tissue-48pcs.jpg",
    stock: 50,
    unit: "48 pieces",
    brand: "Hanan",
    size: "Bale of 48",
    wholesalePrice: 1030,
    wholesaleQuantity: 1,
  },
  {
    id: 36,
    name: "Weetabix 45g (Carton of 24 pieces)",
    wholesalePrice: 1430, // 1420 + 10
    category: PRODUCT_CATEGORIES.HOUSEHOLD,
    description: "Wheat biscuits 45g - Carton of 24 pieces",
    image: "/images/products/weetabix-24pcs.jpg",
    stock: 35,
    unit: "24 pieces",
    brand: "Weetabix",
    size: "Carton of 24",
    price: 1420,
    wholesaleQuantity: 1,
  },
  {
    id: 37,
    name: "INDOMIE 70g (Carton of 24 pieces)",
    wholesalePrice: 510, // 500 + 10
    category: PRODUCT_CATEGORIES.HOUSEHOLD,
    description: "Instant noodles 70g - Carton of 24 pieces",
    image: "/images/products/indomie-24pcs.jpg",
    stock: 45,
    unit: "24 pieces",
    brand: "INDOMIE",
    size: "Carton of 24",
    price: 500,
    wholesaleQuantity: 1,
  },
  {
    id: 38,
    name: "Sunlight Washing Powder 500g (24 pieces)",
    wholesalePrice: 2810, // 2800 + 10
    category: PRODUCT_CATEGORIES.HOUSEHOLD,
    description: "Washing powder 500g - 24 pieces",
    image: "/images/products/sunlight-powder-24pcs.jpg",
    stock: 30,
    unit: "24 pieces",
    brand: "Sunlight",
    size: "24 Pieces",
    price: 2800,
    wholesaleQuantity: 1,
  },

  // BABY CARE
  {
    id: 39,
    name: "Softcare Pampers (Bale of 6 Packets)",
    wholesalePrice: 2710, // 2700 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Premium baby diapers - Bale of 6 Packets",
    image: "/images/products/softcare-pampers-6pcs.jpg",
    stock: 25,
    unit: "6 Packets",
    brand: "Softcare",
    size: "Bale of 6",
    price: 2700,
    wholesaleQuantity: 1,
  },
  {
    id: 40,
    name: "Kisskids (Bale of 6 Packets)",
    wholesalePrice: 2510, // 2500 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Quality baby diapers - Bale of 6 Packets",
    image: "/images/products/kisskids-6pcs.jpg",
    stock: 30,
    unit: "6 Packets",
    brand: "Kisskids",
    size: "Bale of 6",
    price: 2500,
    wholesaleQuantity: 1,
  },
  {
    id: 41,
    name: "Makueni Ndengu",
    wholesalePrice: 7510, // 7500 + 10
    category: PRODUCT_CATEGORIES.CEREALS,
    description: "Premium green grams - 90kgs",
    image: "/images/products/makueni-ndengu-90kg.jpg",
    stock: 15,
    unit: "90kgs",
    size: "90 Kilograms",
    price: 7500,
    wholesaleQuantity: 1,
  },
  {
    id: 42,
    name: "Nylon Ndengu",
    wholesalePrice: 6510, // 6500 + 10
    category: PRODUCT_CATEGORIES.CEREALS,
    description: "Quality green grams - 90kgs",
    image: "/images/products/nylon-ndengu-90kg.jpg",
    stock: 20,
    unit: "90kgs",
    size: "90 Kilograms",
    price: 6500,
    wholesaleQuantity: 1,
  },
  {
    id: 43,
    name: "Kamande",
    wholesalePrice: 5510, // 5500 + 10
    category: PRODUCT_CATEGORIES.CEREALS,
    description: "Premium beans - 50kgs",
    image: "/images/products/kamande-50kg.jpg",
    stock: 25,
    unit: "50kgs",
    size: "50 Kilograms",
    price: 5500,
    wholesaleQuantity: 1,
  },
  {
    id: 44,
    name: "Sorghum",
    wholesalePrice: 3510, // 3500 + 10
    category: PRODUCT_CATEGORIES.CEREALS,
    description: "Quality sorghum - 90kgs",
    image: "/images/products/sorghum-90kg.jpg",
    stock: 18,
    unit: "90kgs",
    size: "90 Kilograms",
    price: 3500,
    wholesaleQuantity: 1,
  },

  // CLEANING PRODUCTS
  {
    id: 45,
    name: "Livelle Toilet Tissue 10x4s",
    wholesalePrice: 1510, // 1500 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Soft toilet tissue - 10x4s",
    image: "/images/products/livelle-tissue-10x4s.jpg",
    stock: 30,
    unit: "10x4s",
    brand: "Livelle",
    size: "10x4s",
    price: 1500,
    wholesaleQuantity: 1,
  },
  {
    id: 46,
    name: "Poshy Roll Xtra Toilet Tissue Unwrapped 4x10s",
    wholesalePrice: 1010, // 1000 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Extra toilet tissue unwrapped - 4x10s",
    image: "/images/products/poshy-tissue-4x10s.jpg",
    stock: 35,
    unit: "4x10s",
    brand: "Poshy",
    size: "4x10s",
    price: 1000,
    wholesaleQuantity: 1,
  },
  {
    id: 47,
    name: "Poshy Mega Tissue Jumbo Roll Wrapped 12x1s",
    wholesalePrice: 2110, // 2100 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Jumbo roll wrapped tissue - 12x1s",
    image: "/images/products/poshy-jumbo-12x1s.jpg",
    stock: 25,
    unit: "12x1s",
    brand: "Poshy",
    size: "12x1s",
    price: 2100,
    wholesaleQuantity: 1,
  },
  {
    id: 48,
    name: "Celine Premium Serviettes Single Pack 9x100 Sheets",
    wholesalePrice: 860, // 850 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Premium serviettes - 9x100 Sheets",
    image: "/images/products/celine-serviettes-9x100.jpg",
    stock: 40,
    unit: "9x100 Sheets",
    brand: "Celine",
    size: "9x100 Sheets",
    price: 850,
    wholesaleQuantity: 1,
  },
  {
    id: 49,
    name: "Poshy Serviettes 9x100 Sheets",
    wholesalePrice: 510, // 500 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Quality serviettes - 9x100 Sheets",
    image: "/images/products/poshy-serviettes-9x100.jpg",
    stock: 45,
    unit: "9x100 Sheets",
    brand: "Poshy",
    size: "9x100 Sheets",
    price: 500,
    wholesaleQuantity: 1,
  },
  {
    id: 50,
    name: "Velvex White Plain Serviettes 12x100 Sheets",
    wholesalePrice: 910, // 900 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "White plain serviettes - 12x100 Sheets",
    image: "/images/products/velvex-serviettes-12x100.jpg",
    stock: 35,
    unit: "12x100 Sheets",
    brand: "Velvex",
    size: "12x100 Sheets",
    price: 900,
    wholesaleQuantity: 1,
  },
  {
    id: 51,
    name: "Nuru Scouring Powder Lemon Fresh Bottle 24x500g",
    wholesalePrice: 1210, // 1200 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Lemon fresh scouring powder - 24x500g",
    image: "/images/products/nuru-powder-24x500g.jpg",
    stock: 30,
    unit: "24x500g",
    brand: "Nuru",
    size: "24x500g",
    price: 1200,
    wholesaleQuantity: 1,
  },
  {
    id: 52,
    name: "Msafi White Bar Soap 12x700g",
    wholesalePrice: 1510, // 1500 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "White bar soap - 12x700g",
    image: "/images/products/msafi-white-soap-12x700g.jpg",
    stock: 25,
    unit: "12x700g",
    brand: "Msafi",
    size: "12x700g",
    price: 1500,
    wholesaleQuantity: 1,
  },
  {
    id: 53,
    name: "Nuru Dish Washing Paste Lemon Spark 6x800g",
    wholesalePrice: 1510, // 1500 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Lemon spark dish washing paste - 6x800g",
    image: "/images/products/nuru-paste-6x800g.jpg",
    stock: 30,
    unit: "6x800g",
    brand: "Nuru",
    size: "6x800g",
    price: 1500,
    wholesaleQuantity: 1,
  },
  {
    id: 54,
    name: "Velvex Dishwashing Liquid Lemon Burst 1x5L",
    wholesalePrice: 460, // 450 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Lemon burst dishwashing liquid - 1x5L",
    image: "/images/products/velvex-liquid-1x5l.jpg",
    stock: 40,
    unit: "1x5L",
    brand: "Velvex",
    size: "1x5L",
    price: 450,
    wholesaleQuantity: 1,
  },
  {
    id: 55,
    name: "Sunlight Hand Washing Powder Eden Yellow 6x1Kg",
    wholesalePrice: 2010, // 2000 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Eden yellow hand washing powder - 6x1Kg",
    image: "/images/products/sunlight-powder-6x1kg.jpg",
    stock: 25,
    unit: "6x1Kg",
    brand: "Sunlight",
    size: "6x1Kg",
    price: 2000,
    wholesaleQuantity: 1,
  },
  {
    id: 56,
    name: "Vim Powder Lemon Fresh 6x1Kg",
    wholesalePrice: 1010, // 1000 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Lemon fresh cleaning powder - 6x1Kg",
    image: "/images/products/vim-powder-6x1kg.jpg",
    stock: 30,
    unit: "6x1Kg",
    brand: "Vim",
    size: "6x1Kg",
    price: 1000,
    wholesaleQuantity: 1,
  },
  {
    id: 57,
    name: "Jik Bleach Regular 4x1.5L",
    wholesalePrice: 3010, // 3000 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Regular bleach - 4x1.5L",
    image: "/images/products/jik-bleach-4x1.5l.jpg",
    stock: 20,
    unit: "4x1.5L",
    brand: "Jik",
    size: "4x1.5L",
    price: 3000,
    wholesaleQuantity: 1,
  },
  {
    id: 58,
    name: "Nuru Dish Washing Liquid Lemon Spark 4x5L",
    wholesalePrice: 2510, // 2500 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Lemon spark dish washing liquid - 4x5L",
    image: "/images/products/nuru-liquid-4x5l.jpg",
    stock: 25,
    unit: "4x5L",
    brand: "Nuru",
    size: "4x5L",
    price: 2500,
    wholesaleQuantity: 1,
  },
  {
    id: 59,
    name: "Jik Bleach Colours 4x1.5L",
    wholesalePrice: 4510, // 4500 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Colour safe bleach - 4x1.5L",
    image: "/images/products/jik-colours-4x1.5l.jpg",
    stock: 18,
    unit: "4x1.5L",
    brand: "Jik",
    size: "4x1.5L",
    price: 4500,
    wholesaleQuantity: 1,
  },
  {
    id: 60,
    name: "Kleen Kat Scouring Pad Value Pack 16x12Pack",
    wholesalePrice: 4310, // 4300 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Value pack scouring pads - 16x12Pack",
    image: "/images/products/kleen-kat-pads-16x12.jpg",
    stock: 20,
    unit: "16x12Pack",
    brand: "Kleen Kat",
    size: "16x12Pack",
    price: 4300,
    wholesaleQuantity: 1,
  },
  {
    id: 61,
    name: "Velvex Air Freshener After Rain Freshness 12x300ml",
    wholesalePrice: 2810, // 2800 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "After rain freshness air freshener - 12x300ml",
    image: "/images/products/velvex-freshener-12x300ml.jpg",
    stock: 25,
    unit: "12x300ml",
    brand: "Velvex",
    size: "12x300ml",
    price: 2800,
    wholesaleQuantity: 1,
  },
  {
    id: 62,
    name: "Kleen Kat Sponge Scourer 14x5Pack",
    wholesalePrice: 2510, // 2500 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Sponge scourer - 14x5Pack",
    image: "/images/products/kleen-kat-sponge-14x5.jpg",
    stock: 30,
    unit: "14x5Pack",
    brand: "Kleen Kat",
    size: "14x5Pack",
    price: 2500,
    wholesaleQuantity: 1,
  },
  {
    id: 63,
    name: "Harpic Power Plus Original 12x1L",
    wholesalePrice: 12510, // 12500 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Toilet cleaner - 12x1L",
    image: "/images/products/harpic-12x1l.jpg",
    stock: 15,
    unit: "12x1L",
    brand: "Harpic",
    size: "12x1L",
    price: 12500,
    wholesaleQuantity: 1,
  },
  {
    id: 64,
    name: "Harpic Power Plus Original 24x500ml",
    wholesalePrice: 12210, // 12200 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Toilet cleaner - 24x500ml",
    image: "/images/products/harpic-24x500ml.jpg",
    stock: 20,
    unit: "24x500ml",
    brand: "Harpic",
    size: "24x500ml",
    price: 12200,
    wholesaleQuantity: 1,
  },
  {
    id: 65,
    name: "Softleaf Tissue Rolls 4x10s",
    wholesalePrice: 1510, // 1500 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Tissue rolls - 4x10s",
    image: "/images/products/softleaf-4x10s.jpg",
    stock: 35,
    unit: "4x10s",
    brand: "Softleaf",
    size: "4x10s",
    price: 1500,
    wholesaleQuantity: 1,
  },
  {
    id: 66,
    name: "Velvex Disinfectant Balls 5 Colored 12x5 Balls",
    wholesalePrice: 1210, // 1200 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "5 colored disinfectant balls - 12x5 Balls",
    image: "/images/products/velvex-balls-12x5.jpg",
    stock: 30,
    unit: "12x5 Balls",
    brand: "Velvex",
    size: "12x5 Balls",
    price: 1200,
    wholesaleQuantity: 1,
  },
  {
    id: 67,
    name: "Velvex Liquid Hand Wash Nature 6x400ml",
    wholesalePrice: 1110, // 1100 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Nature liquid hand wash - 6x400ml",
    image: "/images/products/velvex-handwash-nature-6x400ml.jpg",
    stock: 25,
    unit: "6x400ml",
    brand: "Velvex",
    size: "6x400ml",
    price: 1100,
    wholesaleQuantity: 1,
  },
  {
    id: 68,
    name: "Velvex Liquid Hand Wash Coral 6x400ml",
    wholesalePrice: 1110, // 1100 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Coral liquid hand wash - 6x400ml",
    image: "/images/products/velvex-handwash-coral-6x400ml.jpg",
    stock: 25,
    unit: "6x400ml",
    brand: "Velvex",
    size: "6x400ml",
    price: 1100,
    wholesaleQuantity: 1,
  },
  {
    id: 69,
    name: "Velvex Multipurpose Liquid Detergent Green 1x5L",
    wholesalePrice: 410, // 400 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Green multipurpose liquid detergent - 1x5L",
    image: "/images/products/velvex-detergent-1x5l.jpg",
    stock: 30,
    unit: "1x5L",
    brand: "Velvex",
    size: "1x5L",
    price: 400,
    wholesaleQuantity: 1,
  },
  {
    id: 70,
    name: "Cleanrol Kitchen Towel 24x2s",
    wholesalePrice: 5010, // 5000 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Kitchen towel - 24x2s",
    image: "/images/products/cleanrol-towel-24x2s.jpg",
    stock: 20,
    unit: "24x2s",
    brand: "Cleanrol",
    size: "24x2s",
    price: 5000,
    wholesaleQuantity: 1,
  },
  {
    id: 149,
    name: "Velvex Air Freshener Lavender & Camomile 6x300ml",
    wholesalePrice: 1260, // 1250 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Lavender & camomile air freshener - 6x300ml",
    image: "/images/products/velvex-freshener-6x300ml.jpg",
    stock: 25,
    unit: "6x300ml",
    brand: "Velvex",
    size: "6x300ml",
    price: 1250,
    wholesaleQuantity: 1,
  },
  {
    id: 71,
    name: "Velvex Toilet Cleaner Citrus Burst 6x1L",
    wholesalePrice: 2210, // 2200 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Citrus burst toilet cleaner - 6x1L",
    image: "/images/products/velvex-toilet-citrus-6x1l.jpg",
    stock: 20,
    unit: "6x1L",
    brand: "Velvex",
    size: "6x1L",
    price: 2200,
    wholesaleQuantity: 1,
  },
  {
    id: 72,
    name: "Velvex Toilet Cleaner Ocean Breeze 6x1L",
    wholesalePrice: 2310, // 2300 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Ocean breeze toilet cleaner - 6x1L",
    image: "/images/products/velvex-toilet-ocean-6x1l.jpg",
    stock: 20,
    unit: "6x1L",
    brand: "Velvex",
    size: "6x1L",
    price: 2300,
    wholesaleQuantity: 1,
  },
  {
    id: 73,
    name: "Glassy Liquid Glass and Window Cleaner Ocean Scent 12x600ml",
    wholesalePrice: 1510, // 1500 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Ocean scent glass and window cleaner - 12x600ml",
    image: "/images/products/glassy-liquid-12x600ml.jpg",
    stock: 30,
    unit: "12x600ml",
    brand: "Glassy",
    size: "12x600ml",
    price: 1500,
    wholesaleQuantity: 1,
  },
  {
    id: 74,
    name: "Rosy Clear Hand Sanitizing Gel 1x5L",
    wholesalePrice: 1510, // 1500 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Hand sanitizing gel - 1x5L",
    image: "/images/products/rosy-gel-1x5l.jpg",
    stock: 25,
    unit: "1x5L",
    brand: "Rosy",
    size: "1x5L",
    price: 1500,
    wholesaleQuantity: 1,
  },
  {
    id: 75,
    name: "Msafi Bleach Colour (750ml + 250ml Free) 12x1L",
    wholesalePrice: 2010, // 2000 + 10
    category: PRODUCT_CATEGORIES.CLEANING,
    description: "Colour safe bleach with bonus - 12x1L",
    image: "/images/products/msafi-bleach-12x1l.jpg",
    stock: 20,
    unit: "12x1L",
    brand: "Msafi",
    size: "12x1L",
    price: 2000,
    wholesaleQuantity: 1,
  },

  // JUICES
  {
    id: 76,
    name: "Pick N Peel Pure Fruit Juice Tetra Tropical Mix 12x1L",
    wholesalePrice: 3010, // 3000 + 10
    category: PRODUCT_CATEGORIES.JUICES,
    description: "Tropical mix fruit juice - 12x1L",
    image: "/images/products/picknpeel-tropical-12x1l.jpg",
    stock: 40,
    unit: "12x1L",
    brand: "Pick N Peel",
    size: "12x1L",
    price: 3000,
    wholesaleQuantity: 1,
  },
  {
    id: 77,
    name: "Pick N Peel Pure Fruit Juice Tetra Pineapple 12x1L",
    wholesalePrice: 3010, // 3000 + 10
    category: PRODUCT_CATEGORIES.JUICES,
    description: "Pineapple fruit juice - 12x1L",
    image: "/images/products/picknpeel-pineapple-12x1l.jpg",
    stock: 40,
    unit: "12x1L",
    brand: "Pick N Peel",
    size: "12x1L",
    price: 3000,
    wholesaleQuantity: 1,
  },
  {
    id: 78,
    name: "Pick N Peel Pure Fruit Juice Tetra Mango 12x1L",
    wholesalePrice: 2910, // 2900 + 10
    category: PRODUCT_CATEGORIES.JUICES,
    description: "Mango fruit juice - 12x1L",
    image: "/images/products/picknpeel-mango-12x1l.jpg",
    stock: 40,
    unit: "12x1L",
    brand: "Pick N Peel",
    size: "12x1L",
    price: 2900,
    wholesaleQuantity: 1,
  },
  {
    id: 79,
    name: "Pick N Peel Pure Fruit Juice Tetra Orange 12x1L",
    wholesalePrice: 3810, // 3800 + 10
    category: PRODUCT_CATEGORIES.JUICES,
    description: "Orange fruit juice - 12x1L",
    image: "/images/products/picknpeel-orange-12x1l.jpg",
    stock: 35,
    unit: "12x1L",
    brand: "Pick N Peel",
    size: "12x1L",
    price: 3800,
    wholesaleQuantity: 1,
  },
  {
    id: 80,
    name: "Pick N Peel Pure Fruit Juice Tetra Mango 12x250ml",
    wholesalePrice: 510, // 500 + 10
    category: PRODUCT_CATEGORIES.JUICES,
    description: "Mango fruit juice - 12x250ml",
    image: "/images/products/picknpeel-mango-12x250ml.jpg",
    stock: 50,
    unit: "12x250ml",
    brand: "Pick N Peel",
    size: "12x250ml",
    price: 500,
    wholesaleQuantity: 1,
  },
  {
    id: 81,
    name: "Minute Maid Mango Juice 12x400ml",
    wholesalePrice: 610, // 600 + 10
    category: PRODUCT_CATEGORIES.JUICES,
    description: "Mango juice - 12x400ml",
    image: "/images/products/minutemaid-mango-12x400ml.jpg",
    stock: 45,
    unit: "12x400ml",
    brand: "Minute Maid",
    size: "12x400ml",
    price: 600,
    wholesaleQuantity: 1,
  },
  {
    id: 82,
    name: "Minute Maid Apple Juice 12x400ml",
    wholesalePrice: 610, // 600 + 10
    category: PRODUCT_CATEGORIES.JUICES,
    description: "Apple juice - 12x400ml",
    image: "/images/products/minutemaid-apple-12x400ml.jpg",
    stock: 45,
    unit: "12x400ml",
    brand: "Minute Maid",
    size: "12x400ml",
    price: 600,
    wholesaleQuantity: 1,
  },

  // BABY AND PERSONAL CARE
  {
    id: 83,
    name: "Mara Moja Painkiller Tablets 4x100s",
    wholesalePrice: 2110, // 2100 + 10
    category: PRODUCT_CATEGORIES.BABY_PERSONAL_CARE,
    description: "Painkiller tablets - 4x100s",
    image: "/images/products/maramoja-tablets-4x100s.jpg",
    stock: 30,
    unit: "4x100s",
    brand: "Mara Moja",
    size: "4x100s",
    price: 2100,
    wholesaleQuantity: 1,
  },
  {
    id: 84,
    name: "Kotex Ultrathin Sanitary Pads Super 16x8's",
    wholesalePrice: 1810, // 1800 + 10
    category: PRODUCT_CATEGORIES.BABY_PERSONAL_CARE,
    description: "Ultrathin sanitary pads super - 16x8's",
    image: "/images/products/kotex-ultrathin-super-16x8.jpg",
    stock: 40,
    unit: "16x8's",
    brand: "Kotex",
    size: "16x8's",
    price: 1800,
    wholesaleQuantity: 1,
  },
  {
    id: 85,
    name: "Kotex Tampons Regular 12x16's",
    wholesalePrice: 3510, // 3500 + 10
    category: PRODUCT_CATEGORIES.BABY_PERSONAL_CARE,
    description: "Tampons regular - 12x16's",
    image: "/images/products/kotex-tampons-regular-12x16.jpg",
    stock: 35,
    unit: "12x16's",
    brand: "Kotex",
    size: "12x16's",
    price: 3500,
    wholesaleQuantity: 1,
  },
  {
    id: 86,
    name: "Kotex Panty Liners 16x20's",
    wholesalePrice: 3010, // 3000 + 10
    category: PRODUCT_CATEGORIES.BABY_PERSONAL_CARE,
    description: "Panty liners - 16x20's",
    image: "/images/products/kotex-pantyliners-16x20.jpg",
    stock: 40,
    unit: "16x20's",
    brand: "Kotex",
    size: "16x20's",
    price: 3000,
    wholesaleQuantity: 1,
  },
  {
    id: 87,
    name: "Kotex Tampons Super 12x16's",
    wholesalePrice: 3210, // 3200 + 10
    category: PRODUCT_CATEGORIES.BABY_PERSONAL_CARE,
    description: "Tampons super - 12x16's",
    image: "/images/products/kotex-tampons-super-12x16.jpg",
    stock: 35,
    unit: "12x16's",
    brand: "Kotex",
    size: "12x16's",
    price: 3200,
    wholesaleQuantity: 1,
  },
  {
    id: 88,
    name: "Kotex Ultrathin Sanitary Pads Super Duos 16x16's",
    wholesalePrice: 3110, // 3100 + 10
    category: PRODUCT_CATEGORIES.BABY_PERSONAL_CARE,
    description: "Ultrathin sanitary pads super duos - 16x16's",
    image: "/images/products/kotex-ultrathin-duos-16x16.jpg",
    stock: 40,
    unit: "16x16's",
    brand: "Kotex",
    size: "16x16's",
    price: 3100,
    wholesaleQuantity: 1,
  },

  // SNACKS
  {
    id: 89,
    name: "Krackles Potato Crisps Assorted 48x30g",
    wholesalePrice: 2210, // 2200 + 10
    category: PRODUCT_CATEGORIES.SNACKS,
    description: "Assorted potato crisps - 48x30g",
    image: "/images/products/krackles-assorted-48x30g.jpg",
    stock: 50,
    unit: "48x30g",
    brand: "Krackles",
    size: "48x30g",
    price: 2200,
    wholesaleQuantity: 1,
  },
  {
    id: 90,
    name: "M&M'S Chocolate 3x200g",
    wholesalePrice: 1810, // 1800 + 10
    category: PRODUCT_CATEGORIES.SNACKS,
    description: "Chocolate candies - 3x200g",
    image: "/images/products/mm-chocolate-3x200g.jpg",
    stock: 45,
    unit: "3x200g",
    brand: "M&M'S",
    size: "3x200g",
    price: 1800,
    wholesaleQuantity: 1,
  },
  {
    id: 91,
    name: "Tropical Heat Kenyan Chevda Hot 6x340g",
    wholesalePrice: 2010, // 2000 + 10
    category: PRODUCT_CATEGORIES.SNACKS,
    description: "Hot Kenyan chevda - 6x340g",
    image: "/images/products/tropical-chevda-6x340g.jpg",
    stock: 40,
    unit: "6x340g",
    brand: "Tropical Heat",
    size: "6x340g",
    price: 2000,
    wholesaleQuantity: 1,
  },
  {
    id: 92,
    name: "Krackles Potato Crisps Bar-B-Que 12x125g",
    wholesalePrice: 2110, // 2100 + 10
    category: PRODUCT_CATEGORIES.SNACKS,
    description: "Bar-B-Que potato crisps - 12x125g",
    image: "/images/products/krackles-bbq-12x125g.jpg",
    stock: 50,
    unit: "12x125g",
    brand: "Krackles",
    size: "12x125g",
    price: 2100,
    wholesaleQuantity: 1,
  },
  {
    id: 93,
    name: "Haribo Happy Cherries 15x80g",
    wholesalePrice: 2510, // 2500 + 10
    category: PRODUCT_CATEGORIES.SNACKS,
    description: "Happy cherries candy - 15x80g",
    image: "/images/products/haribo-cherries-15x80g.jpg",
    stock: 45,
    unit: "15x80g",
    brand: "Haribo",
    size: "15x80g",
    price: 2500,
    wholesaleQuantity: 1,
  },
  {
    id: 94,
    name: "Haribo Starmix 15x80g",
    wholesalePrice: 2210, // 2200 + 10
    category: PRODUCT_CATEGORIES.SNACKS,
    description: "Starmix candy - 15x80g",
    image: "/images/products/haribo-starmix-15x80g.jpg",
    stock: 45,
    unit: "15x80g",
    brand: "Haribo",
    size: "15x80g",
    price: 2200,
    wholesaleQuantity: 1,
  },
  {
    id: 95,
    name: "Maryland Choc Chip Cookies 10x136g",
    wholesalePrice: 2610, // 2600 + 10
    category: PRODUCT_CATEGORIES.SNACKS,
    description: "Choc chip cookies - 10x136g",
    image: "/images/products/maryland-choc-chip-10x136g.jpg",
    stock: 40,
    unit: "10x136g",
    brand: "Maryland",
    size: "10x136g",
    price: 2600,
    wholesaleQuantity: 1,
  },
  {
    id: 96,
    name: "Mentos Monos Mint 20x135g",
    wholesalePrice: 3210, // 3200 + 10
    category: PRODUCT_CATEGORIES.SNACKS,
    description: "Mint candies - 20x135g",
    image: "/images/products/mentos-mint-20x135g.jpg",
    stock: 35,
    unit: "20x135g",
    brand: "Mentos",
    size: "20x135g",
    price: 3200,
    wholesaleQuantity: 1,
  },
  {
    id: 97,
    name: "Nestle Kitkat 4 Fingers White Chocolate 24x41.5g",
    wholesalePrice: 4010, // 4000 + 10
    category: PRODUCT_CATEGORIES.SNACKS,
    description: "White chocolate Kitkat - 24x41.5g",
    image: "/images/products/kitkat-white-24x41.5g.jpg",
    stock: 30,
    unit: "24x41.5g",
    brand: "Nestle",
    size: "24x41.5g",
    price: 4000,
    wholesaleQuantity: 1,
  },
  {
    id: 98,
    name: "Mcvities Digestive Biscuit 5x400g",
    wholesalePrice: 2010, // 2000 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Digestive biscuits - 5x400g",
    image: "/images/products/mcvities-digestive-5x400g.jpg",
    stock: 40,
    unit: "5x400g",
    brand: "Mcvities",
    size: "5x400g",
    price: 2000,
    wholesaleQuantity: 1,
  },
  {
    id: 99,
    name: "Oreo Original Biscuit 12x55.2g",
    wholesalePrice: 710, // 700 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Original biscuits - 12x55.2g",
    image: "/images/products/oreo-original-12x55.2g.jpg",
    stock: 50,
    unit: "12x55.2g",
    brand: "Oreo",
    size: "12x55.2g",
    price: 700,
    wholesaleQuantity: 1,
  },
  {
    id: 100,
    name: "Maryland Choc Chip & Hazelnut Cookies 10x136g",
    wholesalePrice: 2510, // 2500 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Choc chip and hazelnut cookies - 10x136g",
    image: "/images/products/maryland-choc-hazelnut-10x136g.jpg",
    stock: 40,
    unit: "10x136g",
    brand: "Maryland",
    size: "10x136g",
    price: 2500,
    wholesaleQuantity: 1,
  },
  {
    id: 101,
    name: "Maryland Choc Chip Cookies 10x136g",
    wholesalePrice: 2510, // 2500 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Choc chip cookies - 10x136g",
    image: "/images/products/maryland-choc-chip-10x136g.jpg",
    stock: 40,
    unit: "10x136g",
    brand: "Maryland",
    size: "10x136g",
    price: 2500,
    wholesaleQuantity: 1,
  },
  {
    id: 102,
    name: "Oreo Original Biscuit 12x27.6g",
    wholesalePrice: 410, // 400 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Original biscuits - 12x27.6g",
    image: "/images/products/oreo-original-12x27.6g.jpg",
    stock: 50,
    unit: "12x27.6g",
    brand: "Oreo",
    size: "12x27.6g",
    price: 400,
    wholesaleQuantity: 1,
  },
  {
    id: 103,
    name: "Oreo Original Biscuit 12x18.4g",
    wholesalePrice: 360, // 350 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Original biscuits - 12x18.4g",
    image: "/images/products/oreo-original-12x18.4g.jpg",
    stock: 50,
    unit: "12x18.4g",
    brand: "Oreo",
    size: "12x18.4g",
    price: 350,
    wholesaleQuantity: 1,
  },

  // CANNED FOODS
  {
    id: 104,
    name: "Domee Peach Halves Syrup 12x425g",
    wholesalePrice: 3010, // 3000 + 10
    category: PRODUCT_CATEGORIES.CANNED_FOODS,
    description: "Peach halves in syrup - 12x425g",
    image: "/images/products/domee-peach-halves-12x425g.jpg",
    stock: 30,
    unit: "12x425g",
    brand: "Domee",
    size: "12x425g",
    price: 3000,
    wholesaleQuantity: 1,
  },
  {
    id: 105,
    name: "Domee Lychees 6x567g",
    wholesalePrice: 2510, // 2500 + 10
    category: PRODUCT_CATEGORIES.CANNED_FOODS,
    description: "Lychees in syrup - 6x567g",
    image: "/images/products/domee-lychees-6x567g.jpg",
    stock: 25,
    unit: "6x567g",
    brand: "Domee",
    size: "6x567g",
    price: 2500,
    wholesaleQuantity: 1,
  },
  {
    id: 106,
    name: "Domee Pear Halves In Syrup 6x425g",
    wholesalePrice: 1510, // 1500 + 10
    category: PRODUCT_CATEGORIES.CANNED_FOODS,
    description: "Pear halves in syrup - 6x425g",
    image: "/images/products/domee-pear-halves-6x425g.jpg",
    stock: 30,
    unit: "6x425g",
    brand: "Domee",
    size: "6x425g",
    price: 1500,
    wholesaleQuantity: 1,
  },
  {
    id: 107,
    name: "Velvex Aluminium Foil Catering Roll 1x30cmx60m",
    wholesalePrice: 950, // 940 + 10
    category: PRODUCT_CATEGORIES.CANNED_FOODS,
    description: "Aluminium foil catering roll - 1x30cmx60m",
    image: "/images/products/velvex-foil-30x60m.jpg",
    stock: 40,
    unit: "1x30cmx60m",
    brand: "Velvex",
    size: "1x30cmx60m",
    price: 940,
    wholesaleQuantity: 1,
  },
  {
    id: 108,
    name: "Velvex Cling Film Catering Roll 1x30cmx300m",
    wholesalePrice: 910, // 900 + 10
    category: PRODUCT_CATEGORIES.CANNED_FOODS,
    description: "Cling film catering roll - 1x30cmx300m",
    image: "/images/products/velvex-cling-30x300m.jpg",
    stock: 35,
    unit: "1x30cmx300m",
    brand: "Velvex",
    size: "1x30cmx300m",
    price: 900,
    wholesaleQuantity: 1,
  },
  {
    id: 109,
    name: "Velvex Cling Film Catering Roll 1x30cmx1500m",
    wholesalePrice: 4010, // 4000 + 10
    category: PRODUCT_CATEGORIES.CANNED_FOODS,
    description: "Cling film catering roll - 1x30cmx1500m",
    image: "/images/products/velvex-cling-30x1500m.jpg",
    stock: 20,
    unit: "1x30cmx1500m",
    brand: "Velvex",
    size: "1x30cmx1500m",
    price: 4000,
    wholesaleQuantity: 1,
  },
  {
    id: 110,
    name: "Velvex Aluminium Foil Catering 30cmX90m - 1 Roll",
    wholesalePrice: 1310, // 1300 + 10
    category: PRODUCT_CATEGORIES.CANNED_FOODS,
    description: "Aluminium foil catering roll - 30cmX90m",
    image: "/images/products/velvex-foil-30x90m.jpg",
    stock: 30,
    unit: "1x30cmx90m",
    brand: "Velvex",
    size: "1x30cmx90m",
    price: 1300,
    wholesaleQuantity: 1,
  },

  // BABY CARE (DIAPERS)
  {
    id: 111,
    name: "Softcare Gold Baby Diapers Small (48 pieces) 3-6kgs",
    wholesalePrice: 560, // 550 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Softcare Gold diapers small size - 48 pieces (3-6kgs)",
    image: "/images/products/softcare-gold-small-48pcs.jpg",
    stock: 50,
    unit: "48 pieces",
    brand: "Softcare",
    size: "Small (3-6kgs)",
    price: 550,
    wholesaleQuantity: 1,
  },
  {
    id: 112,
    name: "Softcare Gold Baby Diapers Medium (42 pieces) 6.1-9kgs",
    wholesalePrice: 560, // 550 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Softcare Gold diapers medium size - 42 pieces (6.1-9kgs)",
    image: "/images/products/softcare-gold-medium-42pcs.jpg",
    stock: 50,
    unit: "42 pieces",
    brand: "Softcare",
    size: "Medium (6.1-9kgs)",
    price: 550,
    wholesaleQuantity: 1,
  },
  {
    id: 113,
    name: "Softcare Gold Baby Diapers Large (40 pieces) 9.1-15kgs",
    wholesalePrice: 560, // 550 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Softcare Gold diapers large size - 40 pieces (9.1-15kgs)",
    image: "/images/products/softcare-gold-large-40pcs.jpg",
    stock: 50,
    unit: "40 pieces",
    brand: "Softcare",
    size: "Large (9.1-15kgs)",
    price: 550,
    wholesaleQuantity: 1,
  },
  {
    id: 114,
    name: "Softcare Gold Baby Diapers Bale (6 Packets)",
    wholesalePrice: 3310, // 3300 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Softcare Gold diapers bale - 6 packets",
    image: "/images/products/softcare-gold-bale-6pkts.jpg",
    stock: 20,
    unit: "6 Packets",
    brand: "Softcare",
    size: "Bale of 6",
    price: 3300,
    wholesaleQuantity: 1,
  },
  {
    id: 115,
    name: "Cuettie Baby Diapers Small (48 pieces) 3-6kgs",
    wholesalePrice: 510, // 500 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Cuettie diapers small size - 48 pieces (3-6kgs)",
    image: "/images/products/cuettie-small-48pcs.jpg",
    stock: 50,
    unit: "48 pieces",
    brand: "Cuettie",
    size: "Small (3-6kgs)",
    price: 500,
    wholesaleQuantity: 1,
  },
  {
    id: 116,
    name: "Cuettie Baby Diapers Medium (44 pieces) 6.1-9kgs",
    wholesalePrice: 510, // 500 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Cuettie diapers medium size - 44 pieces (6.1-9kgs)",
    image: "/images/products/cuettie-medium-44pcs.jpg",
    stock: 50,
    unit: "44 pieces",
    brand: "Cuettie",
    size: "Medium (6.1-9kgs)",
    price: 500,
    wholesaleQuantity: 1,
  },
  {
    id: 117,
    name: "Cuettie Baby Diapers Large (40 pieces) 9.1-15kgs",
    wholesalePrice: 510, // 500 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Cuettie diapers large size - 40 pieces (9.1-15kgs)",
    image: "/images/products/cuettie-large-40pcs.jpg",
    stock: 50,
    unit: "40 pieces",
    brand: "Cuettie",
    size: "Large (9.1-15kgs)",
    price: 500,
    wholesaleQuantity: 1,
  },
  {
    id: 118,
    name: "Cuettie Baby Diapers Bale (6 Packets)",
    wholesalePrice: 3010, // 3000 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Cuettie diapers bale - 6 packets",
    image: "/images/products/cuettie-bale-6pkts.jpg",
    stock: 20,
    unit: "6 Packets",
    brand: "Cuettie",
    size: "Bale of 6",
    price: 3000,
    wholesaleQuantity: 1,
  },
  {
    id: 119,
    name: "Hopebaby Pull-up Baby Diapers Large (9-14kgs) 22 pieces",
    wholesalePrice: 560, // 550 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Hopebaby pull-up diapers large size - 22 pieces (9-14kgs)",
    image: "/images/products/hopebaby-pullup-large-22pcs.jpg",
    stock: 40,
    unit: "22 pieces",
    brand: "Hopebaby",
    size: "Large (9-14kgs)",
    price: 550,
    wholesaleQuantity: 1,
  },
  {
    id: 120,
    name: "Hopebaby Pull-up Baby Diapers Extra Large (>12kgs) 20 pieces",
    wholesalePrice: 560, // 550 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Hopebaby pull-up diapers extra large size - 20 pieces (>12kgs)",
    image: "/images/products/hopebaby-pullup-xl-20pcs.jpg",
    stock: 40,
    unit: "20 pieces",
    brand: "Hopebaby",
    size: "Extra Large (>12kgs)",
    price: 550,
    wholesaleQuantity: 1,
  },
  {
    id: 121,
    name: "Hopebaby Pull-up Baby Diapers Carton (8 Packets)",
    wholesalePrice: 4410, // 4400 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Hopebaby pull-up diapers carton - 8 packets",
    image: "/images/products/hopebaby-carton-8pkts.jpg",
    stock: 15,
    unit: "8 Packets",
    brand: "Hopebaby",
    size: "Carton of 8",
    price: 4400,
    wholesaleQuantity: 1,
  },
  {
    id: 122,
    name: "Sunny/Bluecare Adult Diapers Medium (10 diapers) 30-45in",
    wholesalePrice: 760, // 750 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Adult diapers medium size - 10 diapers (30-45in)",
    image: "/images/products/sunny-medium-10pcs.jpg",
    stock: 30,
    unit: "10 diapers",
    brand: "Sunny/Bluecare",
    size: "Medium (30-45in)",
    price: 750,
    wholesaleQuantity: 1,
  },
  {
    id: 123,
    name: "Sunny/Bluecare Adult Diapers Large (10 diapers) 40-55in",
    wholesalePrice: 760, // 750 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Adult diapers large size - 10 diapers (40-55in)",
    image: "/images/products/sunny-large-10pcs.jpg",
    stock: 30,
    unit: "10 diapers",
    brand: "Sunny/Bluecare",
    size: "Large (40-55in)",
    price: 750,
    wholesaleQuantity: 1,
  },
  {
    id: 124,
    name: "Sunny/Bluecare Adult Diapers Extra Large (10 diapers) 50-65in",
    wholesalePrice: 760, // 750 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Adult diapers extra large size - 10 diapers (50-65in)",
    image: "/images/products/sunny-xl-10pcs.jpg",
    stock: 30,
    unit: "10 diapers",
    brand: "Sunny/Bluecare",
    size: "Extra Large (50-65in)",
    price: 750,
    wholesaleQuantity: 1,
  },
  {
    id: 125,
    name: "Sunny/Bluecare Adult Diapers Carton (6 Packets)",
    wholesalePrice: 4510, // 4500 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Sunny/Bluecare adult diapers carton - 6 packets",
    image: "/images/products/sunny-carton-6pkts.jpg",
    stock: 15,
    unit: "6 Packets",
    brand: "Sunny/Bluecare",
    size: "Carton of 6",
    price: 4500,
    wholesaleQuantity: 1,
  },
  {
    id: 126,
    name: "Bluecare Pull-up Adult Diapers Large (10 diapers) 75-100cm",
    wholesalePrice: 960, // 950 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Pull-up adult diapers large size - 10 diapers (75-100cm)",
    image: "/images/products/bluecare-pullup-large-10pcs.jpg",
    stock: 25,
    unit: "10 diapers",
    brand: "Bluecare",
    size: "Large (75-100cm)",
    price: 950,
    wholesaleQuantity: 1,
  },
  {
    id: 127,
    name: "Bluecare Pull-up Adult Diapers Extra Large (10 diapers) 90-120cm",
    wholesalePrice: 960, // 950 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Pull-up adult diapers extra large size - 10 diapers (90-120cm)",
    image: "/images/products/bluecare-pullup-xl-10pcs.jpg",
    stock: 25,
    unit: "10 diapers",
    brand: "Bluecare",
    size: "Extra Large (90-120cm)",
    price: 950,
    wholesaleQuantity: 1,
  },
  {
    id: 128,
    name: "Bluecare Pull-up Adult Diapers Bale (10 Packets)",
    wholesalePrice: 9510, // 9500 + 10
    category: PRODUCT_CATEGORIES.BABY_CARE,
    description: "Bluecare pull-up adult diapers bale - 10 packets",
    image: "/images/products/bluecare-bale-10pkts.jpg",
    stock: 10,
    unit: "10 Packets",
    brand: "Bluecare",
    size: "Bale of 10",
    price: 9500,
    wholesaleQuantity: 1,
  },
  {
    id: 129,
    name: "Clincleer Sanitary Pads Carton (48 packets with 10 pads each)",
    wholesalePrice: 2010, // 2000 + 10
    category: PRODUCT_CATEGORIES.BABY_PERSONAL_CARE,
    description: "Clincleer sanitary pads carton - 48 packets with 10 pads each",
    image: "/images/products/clincleer-pads-48x10.jpg",
    stock: 15,
    unit: "48x10 pads",
    brand: "Clincleer",
    size: "Carton of 48x10",
    price: 2000,
    wholesaleQuantity: 1,
  },
  {
    id: 130,
    name: "Domee Pineapple Slices In Syrup 12x425g",
    wholesalePrice: 3110, // 3100 + 10
    category: PRODUCT_CATEGORIES.CANNED_FOODS,
    description: "Pineapple slices in syrup - 12x425g",
    image: "/images/products/domee-pineapple-slices-12x425g.jpg",
    stock: 30,
    unit: "12x425g",
    brand: "Domee",
    size: "12x425g",
    price: 3100,
    wholesaleQuantity: 1,
  },
  {
    id: 131,
    name: "Domee Fruit Cocktail In Syrup 12x425g",
    wholesalePrice: 3210, // 3200 + 10
    category: PRODUCT_CATEGORIES.CANNED_FOODS,
    description: "Fruit cocktail in syrup - 12x425g",
    image: "/images/products/domee-fruit-cocktail-12x425g.jpg",
    stock: 25,
    unit: "12x425g",
    brand: "Domee",
    size: "12x425g",
    price: 3200,
    wholesaleQuantity: 1,
  },

  // BEVERAGES
  {
    id: 132,
    name: "Schweppes Tonic Water 24x300ml",
    wholesalePrice: 2410, // 2400 + 10
    category: PRODUCT_CATEGORIES.BEVERAGES,
    description: "Tonic water - 24x300ml",
    image: "/images/products/schweppes-tonic-24x300ml.jpg",
    stock: 40,
    unit: "24x300ml",
    brand: "Schweppes",
    size: "24x300ml",
    price: 2400,
    wholesaleQuantity: 1,
  },
  {
    id: 133,
    name: "Schweppes Ginger Ale 24x300ml",
    wholesalePrice: 2410, // 2400 + 10
    category: PRODUCT_CATEGORIES.BEVERAGES,
    description: "Ginger ale - 24x300ml",
    image: "/images/products/schweppes-ginger-24x300ml.jpg",
    stock: 40,
    unit: "24x300ml",
    brand: "Schweppes",
    size: "24x300ml",
    price: 2400,
    wholesaleQuantity: 1,
  },
  {
    id: 134,
    name: "Schweppes Soda Water 24x300ml",
    wholesalePrice: 2310, // 2300 + 10
    category: PRODUCT_CATEGORIES.BEVERAGES,
    description: "Soda water - 24x300ml",
    image: "/images/products/schweppes-soda-24x300ml.jpg",
    stock: 40,
    unit: "24x300ml",
    brand: "Schweppes",
    size: "24x300ml",
    price: 2300,
    wholesaleQuantity: 1,
  },
  {
    id: 135,
    name: "Schweppes Bitter Lemon 24x300ml",
    wholesalePrice: 2410, // 2400 + 10
    category: PRODUCT_CATEGORIES.BEVERAGES,
    description: "Bitter lemon - 24x300ml",
    image: "/images/products/schweppes-bitter-lemon-24x300ml.jpg",
    stock: 40,
    unit: "24x300ml",
    brand: "Schweppes",
    size: "24x300ml",
    price: 2400,
    wholesaleQuantity: 1,
  },

  // SNACKS
  {
    id: 136,
    name: "Cheetos Puffs Cheese Flavored 12x85g",
    wholesalePrice: 1510, // 1500 + 10
    category: PRODUCT_CATEGORIES.SNACKS,
    description: "Cheese flavored puffs - 12x85g",
    image: "/images/products/cheetos-puffs-12x85g.jpg",
    stock: 50,
    unit: "12x85g",
    brand: "Cheetos",
    size: "12x85g",
    price: 1500,
    wholesaleQuantity: 1,
  },
  {
    id: 137,
    name: "Doritos Nacho Cheese 12x80g",
    wholesalePrice: 1410, // 1400 + 10
    category: PRODUCT_CATEGORIES.SNACKS,
    description: "Nacho cheese chips - 12x80g",
    image: "/images/products/doritos-nacho-12x80g.jpg",
    stock: 50,
    unit: "12x80g",
    brand: "Doritos",
    size: "12x80g",
    price: 1400,
    wholesaleQuantity: 1,
  },

  // BISCUITS AND COOKIES
  {
    id: 138,
    name: "Maryland Double Choc Chip Cookies 10x136g",
    wholesalePrice: 2610, // 2600 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Double choc chip cookies - 10x136g",
    image: "/images/products/maryland-double-choc-10x136g.jpg",
    stock: 40,
    unit: "10x136g",
    brand: "Maryland",
    size: "10x136g",
    price: 2600,
    wholesaleQuantity: 1,
  },
  {
    id: 139,
    name: "Maryland Choc Orange Cookies 10x136g",
    wholesalePrice: 2610, // 2600 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Choc orange cookies - 10x136g",
    image: "/images/products/maryland-choc-orange-10x136g.jpg",
    stock: 40,
    unit: "10x136g",
    brand: "Maryland",
    size: "10x136g",
    price: 2600,
    wholesaleQuantity: 1,
  },
  {
    id: 140,
    name: "Maryland Strawberry Cookies 10x136g",
    wholesalePrice: 2510, // 2500 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Strawberry cookies - 10x136g",
    image: "/images/products/maryland-strawberry-10x136g.jpg",
    stock: 40,
    unit: "10x136g",
    brand: "Maryland",
    size: "10x136g",
    price: 2500,
    wholesaleQuantity: 1,
  },
  {
    id: 141,
    name: "Maryland Vanilla Cookies 10x136g",
    wholesalePrice: 2510, // 2500 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Vanilla cookies - 10x136g",
    image: "/images/products/maryland-vanilla-10x136g.jpg",
    stock: 40,
    unit: "10x136g",
    brand: "Maryland",
    size: "10x136g",
    price: 2500,
    wholesaleQuantity: 1,
  },
  {
    id: 142,
    name: "Maryland Caramel Cookies 10x136g",
    wholesalePrice: 2610, // 2600 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Caramel cookies - 10x136g",
    image: "/images/products/maryland-caramel-10x136g.jpg",
    stock: 40,
    unit: "10x136g",
    brand: "Maryland",
    size: "10x136g",
    price: 2600,
    wholesaleQuantity: 1,
  },
  {
    id: 143,
    name: "Maryland Ginger Cookies 10x136g",
    wholesalePrice: 2510, // 2500 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Ginger cookies - 10x136g",
    image: "/images/products/maryland-ginger-10x136g.jpg",
    stock: 40,
    unit: "10x136g",
    brand: "Maryland",
    size: "10x136g",
    price: 2500,
    wholesaleQuantity: 1,
  },
  {
    id: 144,
    name: "Nestle Kitkat Chunky 24x40g",
    wholesalePrice: 3610, // 3600 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Kitkat chunky - 24x40g",
    image: "/images/products/kitkat-chunk-24x40g.jpg",
    stock: 30,
    unit: "24x40g",
    brand: "Nestle",
    size: "24x40g",
    price: 3600,
    wholesaleQuantity: 1,
  },
  {
    id: 145,
    name: "Nestle Kitkat 4 Fingers Orange 24x41.5g",
    wholesalePrice: 4110, // 4100 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Kitkat 4 fingers orange - 24x41.5g",
    image: "/images/products/kitkat-orange-24x41.5g.jpg",
    stock: 30,
    unit: "24x41.5g",
    brand: "Nestle",
    size: "24x41.5g",
    price: 4100,
    wholesaleQuantity: 1,
  },
  {
    id: 146,
    name: "Nestle Smarties 24x38g",
    wholesalePrice: 3610, // 3600 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Smarties candy - 24x38g",
    image: "/images/products/smarties-24x38g.jpg",
    stock: 35,
    unit: "24x38g",
    brand: "Nestle",
    size: "24x38g",
    price: 3600,
    wholesaleQuantity: 1,
  },
  {
    id: 147,
    name: "Nestle Milkybar 24x37g",
    wholesalePrice: 3510, // 3500 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Milkybar chocolate - 24x37g",
    image: "/images/products/milkybar-24x37g.jpg",
    stock: 35,
    unit: "24x37g",
    brand: "Nestle",
    size: "24x37g",
    price: 3500,
    wholesaleQuantity: 1,
  },
  {
    id: 148,
    name: "Nestle Aero Mint Chocolate 24x33g",
    wholesalePrice: 3310, // 3300 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Aero mint chocolate - 24x33g",
    image: "/images/products/aero-mint-24x33g.jpg",
    stock: 35,
    unit: "24x33g",
    brand: "Nestle",
    size: "24x33g",
    price: 3300,
    wholesaleQuantity: 1,
  },
  {
    id: 150,
    name: "Nestle Lion Bar 24x42g",
    wholesalePrice: 4210, // 4200 + 10
    category: PRODUCT_CATEGORIES.BISCUITS,
    description: "Lion bar chocolate - 24x42g",
    image: "/images/products/lion-bar-24x42g.jpg",
    stock: 30,
    unit: "24x42g",
    brand: "Nestle",
    size: "24x42g",
    price: 4200,
    wholesaleQuantity: 1,
  },
];

// Helper functions for product management
export const getProductsByCategory = (category: string): Product[] => {
  return PRODUCTS.filter((product) => product.category === category)
}

export const getProductById = (id: number): Product | undefined => {
  return PRODUCTS.find((product) => product.id === id)
}

export const searchProducts = (query: string): Product[] => {
  const lowercaseQuery = query.toLowerCase()
  return PRODUCTS.filter(
    (product) =>
      product.name.toLowerCase().includes(lowercaseQuery) ||
      product.description.toLowerCase().includes(lowercaseQuery) ||
      product.category.toLowerCase().includes(lowercaseQuery) ||
      product.brand?.toLowerCase().includes(lowercaseQuery),
  )
}

export const getAvailableProducts = (): Product[] => {
  return PRODUCTS.filter((product) => product.stock > 0)
}

export const getCategoriesWithCounts = () => {
  const categoryCounts: Record<string, number> = {}

  PRODUCTS.forEach((product) => {
    categoryCounts[product.category] = (categoryCounts[product.category] || 0) + 1
  })

  return Object.entries(categoryCounts).map(([category, count]) => ({
    category,
    count,
    products: getProductsByCategory(category),
  }))
}


===== next.config.mjs =====
/** @type {import('next').NextConfig} */
const nextConfig = {
  eslint: {
    ignoreDuringBuilds: true,
  },
  typescript: {
    ignoreBuildErrors: true,
  },
  images: {
    unoptimized: true,
  },
}

export default nextConfig


===== tailwind.config.ts =====
import type { Config } from "tailwindcss"

const config: Config = {
  content: [
    "./pages/**/*.{js,ts,jsx,tsx,mdx}",
    "./components/**/*.{js,ts,jsx,tsx,mdx}",
    "./app/**/*.{js,ts,jsx,tsx,mdx}",
    "*.{js,ts,jsx,tsx,mdx}",
  ],
  theme: {
    extend: {
      colors: {
        border: "hsl(var(--border))",
        input: "hsl(var(--input))",
        ring: "hsl(var(--ring))",
        background: "hsl(var(--background))",
        foreground: "hsl(var(--foreground))",
        primary: {
          DEFAULT: "hsl(var(--primary))",
          foreground: "hsl(var(--primary-foreground))",
        },
        secondary: {
          DEFAULT: "hsl(var(--secondary))",
          foreground: "hsl(var(--secondary-foreground))",
        },
        destructive: {
          DEFAULT: "hsl(var(--destructive))",
          foreground: "hsl(var(--destructive-foreground))",
        },
        muted: {
          DEFAULT: "hsl(var(--muted))",
          foreground: "hsl(var(--muted-foreground))",
        },
        accent: {
          DEFAULT: "hsl(var(--accent))",
          foreground: "hsl(var(--accent-foreground))",
        },
        popover: {
          DEFAULT: "hsl(var(--popover))",
          foreground: "hsl(var(--popover-foreground))",
        },
        card: {
          DEFAULT: "hsl(var(--card))",
          foreground: "hsl(var(--card-foreground))",
        },
      },
      borderRadius: {
        lg: "var(--radius)",
        md: "calc(var(--radius) - 2px)",
        sm: "calc(var(--radius) - 4px)",
      },
      animation: {
        bounce: "bounce 1s infinite",
      },
      backdropBlur: {
        xs: "2px",
      },
    },
  },
  plugins: [],
}
export default config


===== tsconfig.json =====
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": [
      "dom",
      "dom.iterable",
      "esnext"
    ],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": false,
    "noEmit": true,
    "incremental": true,
    "module": "esnext",
    "esModuleInterop": true,
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "plugins": [
      {
        "name": "next"
      }
    ]
  },
  "include": [
    "next-env.d.ts",
    ".next/types/**/*.ts",
    "**/*.ts",
    "**/*.tsx"
  ],
  "exclude": [
    "node_modules"
  ]
}


===== postcss.config.mjs =====
/** @type {import('postcss-load-config').Config} */
const config = {
  plugins: {
    tailwindcss: {},
  },
};

export default config;


===== firebase-db-structure.json =====
{
  "firestore_collections": {
    "users": {
      "document_id": "user_uid",
      "fields": {
        "uid": "string",
        "name": "string",
        "email": "string",
        "phone": "string",
        "photoURL": "string",
        "provider": "string (email|google)",
        "address": "string",
        "city": "string",
        "area": "string",
        "createdAt": "timestamp",
        "updatedAt": "timestamp"
      }
    },
    "products": {
      "document_id": "auto_generated",
      "fields": {
        "name": "string",
        "price": "number",
        "category": "string",
        "description": "string",
        "image": "string",
        "stock": "number",
        "isActive": "boolean",
        "createdAt": "timestamp",
        "updatedAt": "timestamp"
      }
    },
    "orders": {
      "document_id": "auto_generated",
      "fields": {
        "userId": "string",
        "items": "array of objects",
        "total": "number",
        "status": "string (pending|processing|shipped|completed|cancelled)",
        "paymentStatus": "string (pending|paid|failed)",
        "paymentMethod": "string (mpesa|card|cash)",
        "deliveryAddress": "object",
        "deliveryDate": "timestamp",
        "createdAt": "timestamp",
        "updatedAt": "timestamp"
      }
    },
    "chatSessions": {
      "document_id": "auto_generated",
      "fields": {
        "userId": "string",
        "title": "string",
        "messages": "array of objects",
        "isActive": "boolean",
        "createdAt": "timestamp",
        "updatedAt": "timestamp"
      }
    },
    "payments": {
      "document_id": "auto_generated",
      "fields": {
        "orderId": "string",
        "userId": "string",
        "amount": "number",
        "phoneNumber": "string",
        "provider": "string (mpesa|card)",
        "status": "string (pending|completed|failed)",
        "checkoutRequestId": "string",
        "transactionId": "string",
        "transactionData": "object",
        "description": "string",
        "createdAt": "timestamp",
        "updatedAt": "timestamp"
      }
    }
  },
  "firestore_indexes": [
    {
      "collection": "orders",
      "fields": [{ "field": "userId", "order": "ascending" }, { "field": "createdAt", "order": "descending" }]
    },
    {
      "collection": "chatSessions",
      "fields": [{ "field": "userId", "order": "ascending" }, { "field": "updatedAt", "order": "descending" }]
    },
    {
      "collection": "payments",
      "fields": [{ "field": "userId", "order": "ascending" }, { "field": "createdAt", "order": "descending" }]
    }
  ],
  "environment_variables": {
    "NEXT_PUBLIC_FIREBASE_API_KEY": "your_firebase_api_key",
    "NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN": "your_project.firebaseapp.com",
    "NEXT_PUBLIC_FIREBASE_PROJECT_ID": "your_project_id",
    "NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET": "your_project.appspot.com",
    "NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID": "your_sender_id",
    "NEXT_PUBLIC_FIREBASE_APP_ID": "your_app_id",
    "MPESA_CONSUMER_KEY": "your_mpesa_consumer_key",
    "MPESA_CONSUMER_SECRET": "your_mpesa_consumer_secret",
    "MPESA_SHORTCODE": "your_mpesa_shortcode",
    "MPESA_PASSKEY": "your_mpesa_passkey",
    "MPESA_CALLBACK_URL": "https://yourdomain.com/api/mpesa/callback"
  }
}


===== components.json =====
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "iconLibrary": "lucide"
}

